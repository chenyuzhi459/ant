webpackJsonp([2],{1003:function(e,t,n){t=e.exports=n(83)(void 0),t.i(n(796),""),t.i(n(945),""),t.push([e.i,".segmentChart{top:-20px;left:-60px}",""])},1012:function(e,t,n){t=e.exports=n(83)(void 0),t.push([e.i,".echarts[data-v-79d76079]{height:300px;width:1600px}",""])},1035:function(e,t,n){n(1086);var i=n(168)(n(967),n(1058),"data-v-79d76079",null);e.exports=i.exports},1044:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main"},[n("div",{staticStyle:{"margin-left":"20px"}},[n("span",{staticStyle:{color:"#242f42","font-size":"20px"}},[n("el-breadcrumb",{attrs:{separator:">"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/dataSource",query:{showEnable:this.showEnable}}}},[e._v(e._s(e.$t("message.dataSource.dataSourceTitle")))]),e._v(" "),e.showIntervalName?n("el-breadcrumb-item",{attrs:{to:{path:"/interval",query:{showEnable:this.showEnable,dataSourceName:e.dataSourceMessage.dataSourceName,isEnableDataSource:this.$route.query.isEnableDataSource}}}},[e._v(e._s(e.$t("message.interval.intervalTitle")))]):e._e(),e._v(" "),n("el-breadcrumb-item",{attrs:{to:{path:"/segment",query:{showEnable:this.showEnable}}}},[e._v(e._s(e.$t("message.segment.segmentTitle")))])],1)],1),e._v(" "),n("br"),e._v(" "),n("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.$t("message.dataSource.dataSource"))+" : "+e._s(this.dataSourceMessage.dataSourceName))]),e._v(" "),e.showEnable?[e._v("\n       \n      "),n("el-tag",{attrs:{type:"primary"}},[e._v("\n        "+e._s(this.dataSourceMessage.dataSourceSize)+"  "+e._s(this.dataSourceMessage.dataSourceSpan)+"\n          "+e._s(this.dataSourceMessage.segmentCount)+" segments in "+e._s(this.dataSourceMessage.intervalCount)+" intervals\n      ")])]:e._e(),e._v(" "),e.showIntervalName?n("div",{staticStyle:{position:"relative",top:"5px"}},[n("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.$t("message.interval.interval"))+" : "+e._s(this.intervalMessage.intervalName))]),e._v(" "),e.showEnable?[e._v("\n         \n        "),n("el-tag",{attrs:{type:"primary"}},[e._v("\n          "+e._s(this.intervalMessage.intervalSize)+"  "+e._s(this.intervalMessage.segmentCount)+" segments\n        ")])]:e._e()],2):e._e(),e._v(" "),n("el-form",{staticClass:"demo-form-inline",staticStyle:{position:"relative",top:"15px"},attrs:{inline:!0,model:e.formInline}},[n("el-form-item",{attrs:{label:e.$t("message.common.name")}},[n("el-input",{attrs:{placeholder:e.$t("message.common.inputName"),size:"small"},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary",size:"small",icon:"search"},on:{click:e.onSearch}},[e._v(e._s(e.$t("message.common.search")))]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.refresh}},[e._v(e._s(e.$t("message.common.refresh")))]),e._v(" "),e.showSwitch?n("el-switch",{staticStyle:{position:"absolute",left:"1100px",top:"18px"},attrs:{"on-color":"#13ce66","off-color":"#ff4949","on-text":"Enable","off-text":"Disable",width:80},on:{change:e.switchChange},model:{value:e.showEnable,callback:function(t){e.showEnable=t},expression:"showEnable"}}):e._e()],1)],1)],2),e._v(" "),n("div",{staticClass:"table",staticStyle:{"margin-left":"20px"}},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.showTableData,border:"",stripe:""},on:{"sort-change":e.handleSort}},[n("el-table-column",{attrs:{label:e.$t("message.common.segment"),width:"900",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.showEnable?n("a",{staticClass:"click-link",on:{click:function(n){e.getSegmentInfo(t.row.identifier)}}},[e._v(e._s(t.row.identifier))]):e._e(),e._v(" "),e.showEnable?e._e():n("a",[e._v(e._s(t.row.identifier))])]}}])}),e._v(" "),e.showEnable?n("el-table-column",{attrs:{prop:"segmentSize",label:e.$t("message.common.size")}}):e._e(),e._v(" "),n("el-table-column",{attrs:{label:e.$t("message.common.more")},scopedSlots:e._u([{key:"default",fn:function(t){return[e.showEnable?[n("el-popover",{ref:"popoverServer",attrs:{placement:"right",width:"150",trigger:"click"}},e._l(e.servers,function(t){return n("div",{key:t,staticClass:"popoverDiv"},[e._v(e._s(t))])})),e._v(" \n            "),n("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverServer",arg:"popoverServer"}],attrs:{size:"mini"},on:{click:function(n){e.getServers(t.row.identifier)}}},[e._v(e._s(e.$t("message.dataSource.servers")))]),e._v(" "),n("el-popover",{ref:"popoverDimension",attrs:{placement:"right",width:"150",trigger:"click"}},e._l(e.dimensions,function(t){return n("div",{key:t,staticClass:"popoverDiv"},[e._v(e._s(t))])})),e._v(" \n            "),n("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverDimension",arg:"popoverDimension"}],attrs:{size:"mini"},on:{click:function(n){e.getDimensions(t.row.identifier)}}},[e._v(e._s(e.$t("message.dataSource.dimensions")))]),e._v(" "),n("el-popover",{ref:"popoverMetric",attrs:{placement:"right",width:"150",trigger:"click"}},e._l(e.metrics,function(t){return n("div",{key:t,staticClass:"popoverDiv"},[e._v(e._s(t))])})),e._v(" \n            "),n("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverMetric",arg:"popoverMetric"}],attrs:{size:"mini"},on:{click:function(n){e.getMetrics(t.row.identifier)}}},[e._v(e._s(e.$t("message.dataSource.metrics")))])]:e._e(),e._v(" "),e.showEnable?n("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(n){e.disableSegment(t.row.identifier)}}},[e._v(e._s(e.$t("message.common.disable")))]):e._e(),e._v(" "),e.showEnable?e._e():n("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(n){e.enableSegment(t.row.identifier)}}},[e._v(e._s(e.$t("message.common.enable")))]),e._v(" "),e.showEnable?e._e():n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){e.deleteSegment(t.row.identifier)}}},[e._v(e._s(e.$t("message.common.delete")))])]}}])})],1),e._v(" "),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,7,10,15,25,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.segments.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),n("el-dialog",{attrs:{visible:e.dialogVisible,size:e.dialogSize},on:{"update:visible":function(t){e.dialogVisible=t},close:function(t){e.dialogMessage=""}}},[n("template",{slot:"title"},[n("div",{staticStyle:{"line-height":"1","font-size":"16px","font-weight":"700",color:"#1f2d3d"}},[e._v("\n          "+e._s(e.dialogTitle)+"\n        ")])]),e._v(" "),n("el-input",{attrs:{type:"textarea",autosize:e.dialogInputAutosize},model:{value:e.dialogMessage,callback:function(t){e.dialogMessage=t},expression:"dialogMessage"}}),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.showCancle?n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v(e._s(e.$t("message.segment.cancel")))]):e._e(),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(e._s(e.$t("message.segment.confirm")))])],1)],2),e._v(" "),e.showEnable?n("segment-chart",{staticClass:"segmentChart"}):e._e()],1)])},staticRenderFns:[]}},1058:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("chart",{attrs:{options:e.echartsOption}})},staticRenderFns:[]}},1077:function(e,t,n){var i=n(1003);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n(170)("6c652756",i,!0)},1086:function(e,t,n){var i=n(1012);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n(170)("09495404",i,!0)},749:function(e,t,n){n(1077);var i=n(168)(n(965),n(1044),null,null);e.exports=i.exports},765:function(e,t,n){"use strict";function i(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i}),this.resolve=a(t),this.reject=a(n)}var a=n(367);e.exports.f=function(e){return new i(e)}},766:function(e,t,n){var i=n(167),a=n(61)("toStringTag"),o="Arguments"==i(function(){return arguments}()),r=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=r(t=Object(e),a))?n:o?i(t):"Object"==(s=i(t))&&"function"==typeof t.callee?"Arguments":s}},767:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},768:function(e,t,n){var i=n(80),a=n(82),o=n(765);e.exports=function(e,t){if(i(e),a(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},769:function(e,t,n){var i=n(80),a=n(367),o=n(61)("species");e.exports=function(e,t){var n,r=i(e).constructor;return void 0===r||void 0==(n=i(r)[o])?t:a(n)}},770:function(e,t,n){var i,a,o,r=n(366),s=n(780),l=n(373),c=n(171),u=n(40),h=u.process,d=u.setImmediate,p=u.clearImmediate,g=u.MessageChannel,f=u.Dispatch,m=0,v={},y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},_=function(e){y.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++m]=function(){s("function"==typeof e?e:Function(e),t)},i(m),m},p=function(e){delete v[e]},"process"==n(167)(h)?i=function(e){h.nextTick(r(y,e,1))}:f&&f.now?i=function(e){f.now(r(y,e,1))}:g?(a=new g,o=a.port2,a.port1.onmessage=_,i=r(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(e){u.postMessage(e+"","*")},u.addEventListener("message",_,!1)):i="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(r(y,e,1),0)}),e.exports={set:d,clear:p}},771:function(e,t,n){"use strict";t.__esModule=!0;var i=n(778),a=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(e){return function(){var t=e.apply(this,arguments);return new a.default(function(e,n){function i(o,r){try{var s=t[o](r),l=s.value}catch(e){return void n(e)}if(!s.done)return a.default.resolve(l).then(function(e){i("next",e)},function(e){i("throw",e)});e(l)}return i("next")})}}},772:function(e,t,n){e.exports=n(788)},773:function(e,t,n){var i=n(366),a=n(782),o=n(781),r=n(80),s=n(370),l=n(777),c={},u={},t=e.exports=function(e,t,n,h,d){var p,g,f,m,v=d?function(){return e}:l(e),y=i(n,h,t?2:1),_=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(p=s(e.length);p>_;_++)if((m=t?y(r(g=e[_])[0],g[1]):y(e[_]))===c||m===u)return m}else for(f=v.call(e);!(g=f.next()).done;)if((m=a(f,y,g.value,t))===c||m===u)return m};t.BREAK=c,t.RETURN=u},774:function(e,t){e.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},775:function(e,t,n){var i=n(65);e.exports=function(e,t,n){for(var a in t)n&&e[a]?e[a]=t[a]:i(e,a,t[a]);return e}},776:function(e,t,n){"use strict";var i=n(40),a=n(62),o=n(47),r=n(46),s=n(61)("species");e.exports=function(e){var t="function"==typeof a[e]?a[e]:i[e];r&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},777:function(e,t,n){var i=n(766),a=n(61)("iterator"),o=n(112);e.exports=n(62).getIteratorMethod=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||o[i(e)]}},778:function(e,t,n){e.exports={default:n(779),__esModule:!0}},779:function(e,t,n){n(371),n(368),n(369),n(785),n(786),n(787),e.exports=n(62).Promise},780:function(e,t){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},781:function(e,t,n){var i=n(112),a=n(61)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},782:function(e,t,n){var i=n(80);e.exports=function(e,t,n,a){try{return a?t(i(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},783:function(e,t,n){var i=n(61)("iterator"),a=!1;try{var o=[7][i]();o.return=function(){a=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var o=[7],r=o[i]();r.next=function(){return{done:n=!0}},o[i]=function(){return r},e(o)}catch(e){}return n}},784:function(e,t,n){var i=n(40),a=n(770).set,o=i.MutationObserver||i.WebKitMutationObserver,r=i.process,s=i.Promise,l="process"==n(167)(r);e.exports=function(){var e,t,n,c=function(){var i,a;for(l&&(i=r.domain)&&i.exit();e;){a=e.fn,e=e.next;try{a()}catch(i){throw e?n():t=void 0,i}}t=void 0,i&&i.enter()};if(l)n=function(){r.nextTick(c)};else if(o){var u=!0,h=document.createTextNode("");new o(c).observe(h,{characterData:!0}),n=function(){h.data=u=!u}}else if(s&&s.resolve){var d=s.resolve();n=function(){d.then(c)}}else n=function(){a.call(i,c)};return function(i){var a={fn:i,next:void 0};t&&(t.next=a),e||(e=a,n()),t=a}}},785:function(e,t,n){"use strict";var i,a,o,r,s=n(114),l=n(40),c=n(366),u=n(766),h=n(81),d=n(82),p=n(367),g=n(774),f=n(773),m=n(769),v=n(770).set,y=n(784)(),_=n(765),x=n(767),b=n(768),S=l.TypeError,w=l.process,M=l.Promise,A="process"==u(w),T=function(){},I=a=_.f,D=!!function(){try{var e=M.resolve(1),t=(e.constructor={})[n(61)("species")]=function(e){e(T,T)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(T)instanceof t}catch(e){}}(),P=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},C=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var i=e._v,a=1==e._s,o=0;n.length>o;)!function(t){var n,o,r=a?t.ok:t.fail,s=t.resolve,l=t.reject,c=t.domain;try{r?(a||(2==e._h&&O(e),e._h=1),!0===r?n=i:(c&&c.enter(),n=r(i),c&&c.exit()),n===t.promise?l(S("Promise-chain cycle")):(o=P(n))?o.call(n,s,l):s(n)):l(i)}catch(e){l(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&L(e)})}},L=function(e){v.call(l,function(){var t,n,i,a=e._v,o=E(e);if(o&&(t=x(function(){A?w.emit("unhandledRejection",a,e):(n=l.onunhandledrejection)?n({promise:e,reason:a}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",a)}),e._h=A||E(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},E=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,i=0;n.length>i;)if(t=n[i++],t.fail||!E(t.promise))return!1;return!0},O=function(e){v.call(l,function(){var t;A?w.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},k=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),C(t,!0))},R=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=P(e))?y(function(){var i={_w:n,_d:!1};try{t.call(e,c(R,i,1),c(k,i,1))}catch(e){k.call(i,e)}}):(n._v=e,n._s=1,C(n,!1))}catch(e){k.call({_w:n,_d:!1},e)}}};D||(M=function(e){g(this,M,"Promise","_h"),p(e),i.call(this);try{e(c(R,this,1),c(k,this,1))}catch(e){k.call(this,e)}},i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n(775)(M.prototype,{then:function(e,t){var n=I(m(this,M));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=A?w.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&C(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new i;this.promise=e,this.resolve=c(R,e,1),this.reject=c(k,e,1)},_.f=I=function(e){return e===M||e===r?new o(e):a(e)}),h(h.G+h.W+h.F*!D,{Promise:M}),n(113)(M,"Promise"),n(776)("Promise"),r=n(62).Promise,h(h.S+h.F*!D,"Promise",{reject:function(e){var t=I(this);return(0,t.reject)(e),t.promise}}),h(h.S+h.F*(s||!D),"Promise",{resolve:function(e){return b(s&&this===r?M:this,e)}}),h(h.S+h.F*!(D&&n(783)(function(e){M.all(e).catch(T)})),"Promise",{all:function(e){var t=this,n=I(t),i=n.resolve,a=n.reject,o=x(function(){var n=[],o=0,r=1;f(e,!1,function(e){var s=o++,l=!1;n.push(void 0),r++,t.resolve(e).then(function(e){l||(l=!0,n[s]=e,--r||i(n))},a)}),--r||i(n)});return o.e&&a(o.v),n.promise},race:function(e){var t=this,n=I(t),i=n.reject,a=x(function(){f(e,!1,function(e){t.resolve(e).then(n.resolve,i)})});return a.e&&i(a.v),n.promise}})},786:function(e,t,n){"use strict";var i=n(81),a=n(62),o=n(40),r=n(769),s=n(768);i(i.P+i.R,"Promise",{finally:function(e){var t=r(this,a.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},787:function(e,t,n){"use strict";var i=n(81),a=n(765),o=n(767);i(i.S,"Promise",{try:function(e){var t=a.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},788:function(e,t,n){(function(t){var i="object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this,a=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,o=a&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,e.exports=n(374),a)i.regeneratorRuntime=o;else try{delete i.regeneratorRuntime}catch(e){i.regeneratorRuntime=void 0}}).call(t,n(45))},790:function(e,t,n){function i(e){var t={componentType:e.mainType};return t[e.mainType+"Index"]=e.componentIndex,t}function a(e,t,n,i){var a,o,r=S(n-e.rotation),s=i[0]>i[1],l="start"===t&&!s||"start"!==t&&s;return b(r-D/2)?(o=l?"bottom":"top",a="center"):b(r-1.5*D)?(o=l?"top":"bottom",a="center"):(o="middle",a=r<1.5*D&&r>D/2?l?"left":"right":l?"right":"left"),{rotation:r,textAlign:a,textVerticalAlign:o}}function o(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)}function r(e,t,n){var i=e.get("axisLabel.showMinLabel"),a=e.get("axisLabel.showMaxLabel");t=t||[],n=n||[];var o=t[0],r=t[1],c=t[t.length-1],u=t[t.length-2],h=n[0],d=n[1],p=n[n.length-1],g=n[n.length-2];!1===i?(s(o),s(h)):l(o,r)&&(i?(s(r),s(d)):(s(o),s(h))),!1===a?(s(c),s(p)):l(u,c)&&(a?(s(u),s(g)):(s(c),s(p)))}function s(e){e&&(e.ignore=!0)}function l(e,t,n){var i=e&&e.getBoundingRect().clone(),a=t&&t.getBoundingRect().clone();if(i&&a){var o=A.identity([]);return A.rotate(o,o,-e.rotation),i.applyTransform(A.mul([],o,e.getLocalTransform())),a.applyTransform(A.mul([],o,t.getLocalTransform())),i.intersect(a)}}function c(e){return"middle"===e||"center"===e}function u(e,t,n){var i=t.axis;if(t.get("axisTick.show")&&!i.scale.isBlank()){for(var a=t.getModel("axisTick"),o=a.getModel("lineStyle"),r=a.get("length"),s=O(a,n.labelInterval),l=i.getTicksCoords(a.get("alignWithLabel")),c=i.scale.getTicks(),u=t.get("axisLabel.showMinLabel"),h=t.get("axisLabel.showMaxLabel"),d=[],p=[],f=e._transform,m=[],v=l.length,_=0;_<v;_++)if(!E(i,_,s,v,u,h)){var x=l[_];d[0]=x,d[1]=0,p[0]=x,p[1]=n.tickDirection*r,f&&(I(d,d,f),I(p,p,f));var b=new y.Line(y.subPixelOptimizeLine({anid:"tick_"+c[_],shape:{x1:d[0],y1:d[1],x2:p[0],y2:p[1]},style:g(o.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));e.group.add(b),m.push(b)}return m}}function h(e,t,n){var a=t.axis;if(p(n.axisLabelShow,t.get("axisLabel.show"))&&!a.scale.isBlank()){var r=t.getModel("axisLabel"),s=r.get("margin"),l=a.scale.getTicks(),c=t.getFormattedLabels(),u=(p(n.labelRotate,r.get("rotate"))||0)*D/180,h=L(n.rotation,u,n.labelDirection),d=t.get("data"),g=[],f=o(t),v=t.get("triggerEvent"),x=t.get("axisLabel.showMinLabel"),b=t.get("axisLabel.showMaxLabel");return m(l,function(o,u){if(!E(a,u,n.labelInterval,l.length,x,b)){var p=r;d&&d[o]&&d[o].textStyle&&(p=new _(d[o].textStyle,r,t.ecModel));var m=p.getTextColor()||t.get("axisLine.lineStyle.color"),S=a.dataToCoord(o),w=[S,n.labelOffset+n.labelDirection*s],M=a.scale.getLabel(o),A=new y.Text({anid:"label_"+o,position:w,rotation:h.rotation,silent:f,z2:10});y.setTextStyle(A.style,p,{text:c[u],textAlign:p.getShallow("align",!0)||h.textAlign,textVerticalAlign:p.getShallow("verticalAlign",!0)||p.getShallow("baseline",!0)||h.textVerticalAlign,textFill:"function"==typeof m?m("category"===a.type?M:"value"===a.type?o+"":o,u):m}),v&&(A.eventData=i(t),A.eventData.targetType="axisLabel",A.eventData.value=M),e._dumbGroup.add(A),A.updateTransform(),g.push(A),e.group.add(A),A.decomposeTransform()}}),g}}var d=n(2),p=d.retrieve,g=d.defaults,f=d.extend,m=d.each,v=n(63),y=n(73),_=n(64),x=n(28),b=x.isRadianAroundZero,S=x.remRadian,w=n(372),M=w.createSymbol,A=n(85),T=n(15),I=T.applyTransform,D=Math.PI,P=function(e,t){this.opt=t,this.axisModel=e,g(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new y.Group;var n=new y.Group({position:t.position.slice(),rotation:t.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};P.prototype={constructor:P,hasBuilder:function(e){return!!C[e]},add:function(e){C[e].call(this)},getGroup:function(){return this.group}};var C={axisLine:function(){var e=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),i=this._transform,a=[n[0],0],o=[n[1],0];i&&(I(a,a,i),I(o,o,i));var r=f({lineCap:"round"},t.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new y.Line(y.subPixelOptimizeLine({anid:"line",shape:{x1:a[0],y1:a[1],x2:o[0],y2:o[1]},style:r,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1})));var s=t.get("axisLine.symbol"),l=t.get("axisLine.symbolSize");if(null!=s){"string"==typeof s&&(s=[s,s]),"string"!=typeof l&&"number"!=typeof l||(l=[l,l]);var c=l[0],u=l[1];m([[e.rotation+Math.PI/2,a],[e.rotation-Math.PI/2,o]],function(e,t){if("none"!==s[t]&&null!=s[t]){var n=M(s[t],-c/2,-u/2,c,u,r.stroke,!0);n.attr({rotation:e[0],position:e[1],silent:!0}),this.group.add(n)}},this)}}},axisTickLabel:function(){var e=this.axisModel,t=this.opt,n=u(this,e,t);r(e,h(this,e,t),n)},axisName:function(){var e=this.opt,t=this.axisModel,n=p(e.axisName,t.get("name"));if(n){var r,s=t.get("nameLocation"),l=e.nameDirection,u=t.getModel("nameTextStyle"),h=t.get("nameGap")||0,d=this.axisModel.axis.getExtent(),g=d[0]>d[1]?-1:1,m=["start"===s?d[0]-g*h:"end"===s?d[1]+g*h:(d[0]+d[1])/2,c(s)?e.labelOffset+l*h:0],_=t.get("nameRotate");null!=_&&(_=_*D/180);var x;c(s)?r=L(e.rotation,null!=_?_:e.rotation,l):(r=a(e,s,_||0,d),null!=(x=e.axisNameAvailableWidth)&&(x=Math.abs(x/Math.sin(r.rotation)),!isFinite(x)&&(x=null)));var b=u.getFont(),S=t.get("nameTruncate",!0)||{},w=S.ellipsis,M=p(e.nameTruncateMaxWidth,S.maxWidth,x),A=null!=w&&null!=M?v.truncateText(n,M,b,w,{minChar:2,placeholder:S.placeholder}):n,T=t.get("tooltip",!0),I=t.mainType,P={componentType:I,name:n,$vars:["name"]};P[I+"Index"]=t.componentIndex;var C=new y.Text({anid:"name",__fullText:n,__truncatedText:A,position:m,rotation:r.rotation,silent:o(t),z2:1,tooltip:T&&T.show?f({content:n,formatter:function(){return n},formatterParams:P},T):null});y.setTextStyle(C.style,u,{text:A,textFont:b,textFill:u.getTextColor()||t.get("axisLine.lineStyle.color"),textAlign:r.textAlign,textVerticalAlign:r.textVerticalAlign}),t.get("triggerEvent")&&(C.eventData=i(t),C.eventData.targetType="axisName",C.eventData.name=n),this._dumbGroup.add(C),C.updateTransform(),this.group.add(C),C.decomposeTransform()}}},L=P.innerTextLayout=function(e,t,n){var i,a,o=S(t-e);return b(o)?(a=n>0?"top":"bottom",i="center"):b(o-D)?(a=n>0?"bottom":"top",i="center"):(a="middle",i=o>0&&o<D?n>0?"right":"left":n>0?"left":"right"),{rotation:o,textAlign:i,textVerticalAlign:a}},E=P.ifIgnoreOnTick=function(e,t,n,i,a,o){if(0===t&&a||t===i-1&&o)return!1;var r,s=e.scale;return"ordinal"===s.type&&("function"==typeof n?(r=s.getTicks()[t],!n(r,s.getLabel(r))):t%(n+1))},O=P.getInterval=function(e,t){var n=e.get("interval");return null!=n&&"auto"!=n||(n=t),n},k=P;e.exports=k},791:function(e,t,n){function i(e,t,n,i,o,r){var c=l.getAxisPointerClass(e.axisPointerClass);if(c){var u=s.getAxisPointerModel(t);u?(e._axisPointer||(e._axisPointer=new c)).render(t,u,i,r):a(e,i)}}function a(e,t,n){var i=e._axisPointer;i&&i.dispose(t,n),e._axisPointer=null}var o=n(44),r=(o.__DEV__,n(365)),s=n(793),l=r.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(e,t,n,a){this.axisPointerClass&&s.fixValue(e),l.superApply(this,"render",arguments),i(this,e,t,n,a,!0)},updateAxisPointer:function(e,t,n,a,o){i(this,e,t,n,a,!1)},remove:function(e,t){var n=this._axisPointer;n&&n.remove(t),l.superApply(this,"remove",arguments)},dispose:function(e,t){a(this,t),l.superApply(this,"dispose",arguments)}}),c=[];l.registerAxisPointerClass=function(e,t){c[e]=t},l.getAxisPointerClass=function(e){return e&&c[e]};var u=l;e.exports=u},792:function(e,t,n){function i(e){var t=e.pieceList;e.hasSpecialVisual=!1,f.each(t,function(t,n){t.originIndex=n,null!=t.visual&&(e.hasSpecialVisual=!0)})}function a(e){var t=e.categories,n=e.visual,i=e.categoryMap={};if(_(t,function(e,t){i[e]=t}),!f.isArray(n)){var a=[];f.isObject(n)?_(n,function(e,t){var n=i[t];a[null!=n?n:b]=e}):a[b]=n,n=p(e,a)}for(var o=t.length-1;o>=0;o--)null==n[o]&&(delete i[t[o]],t.pop())}function o(e,t){var n=e.visual,i=[];f.isObject(n)?_(n,function(e){i.push(e)}):null!=n&&i.push(n);var a={color:1,symbol:1};t||1!==i.length||a.hasOwnProperty(e.type)||(i[1]=i[0]),p(e,i)}function r(e){return{applyVisual:function(t,n,i){t=this.mapValueToVisual(t),i("color",e(n("color"),t))},_doMap:h([0,1])}}function s(e){var t=this.option.visual;return t[Math.round(y(e,[0,1],[0,t.length-1],!0))]||{}}function l(e){return function(t,n,i){i(e,this.mapValueToVisual(t))}}function c(e){var t=this.option.visual;return t[this.option.loop&&e!==b?e%t.length:e]}function u(){return this.option.visual[0]}function h(e){return{linear:function(t){return y(t,e,this.option.visual,!0)},category:c,piecewise:function(t,n){var i=d.call(this,n);return null==i&&(i=y(t,e,this.option.visual,!0)),i},fixed:u}}function d(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var i=S.findPieceIndex(e,n),a=n[i];if(a&&a.visual)return a.visual[this.type]}}function p(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=f.map(t,function(e){return m.parse(e)})),t}function g(e,t,n){return e?t<=n:t<n}var f=n(2),m=n(86),v=n(28),y=v.linearMap,_=f.each,x=f.isObject,b=-1,S=function(e){var t=e.mappingMethod,n=e.type,r=this.option=f.clone(e);this.type=n,this.mappingMethod=t,this._normalizeData=M[t];var s=w[n];this.applyVisual=s.applyVisual,this.getColorMapper=s.getColorMapper,this._doMap=s._doMap[t],"piecewise"===t?(o(r),i(r)):"category"===t?r.categories?a(r):o(r,!0):(f.assert("linear"!==t||r.dataExtent),o(r))};S.prototype={constructor:S,mapValueToVisual:function(e){var t=this._normalizeData(e);return this._doMap(t,e)},getNormalizer:function(){return f.bind(this._normalizeData,this)}};var w=S.visualHandlers={color:{applyVisual:l("color"),getColorMapper:function(){var e=this.option;return f.bind("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),c.call(this,e)}:function(t,n,i){var a=!!i;return!n&&(t=this._normalizeData(t)),i=m.fastLerp(t,e.parsedVisual,i),a?i:m.stringify(i,"rgba")},this)},_doMap:{linear:function(e){return m.stringify(m.fastLerp(e,this.option.parsedVisual),"rgba")},category:c,piecewise:function(e,t){var n=d.call(this,t);return null==n&&(n=m.stringify(m.fastLerp(e,this.option.parsedVisual),"rgba")),n},fixed:u}},colorHue:r(function(e,t){return m.modifyHSL(e,t)}),colorSaturation:r(function(e,t){return m.modifyHSL(e,null,t)}),colorLightness:r(function(e,t){return m.modifyHSL(e,null,null,t)}),colorAlpha:r(function(e,t){return m.modifyAlpha(e,t)}),opacity:{applyVisual:l("opacity"),_doMap:h([0,1])},symbol:{applyVisual:function(e,t,n){var i=this.mapValueToVisual(e);if(f.isString(i))n("symbol",i);else if(x(i))for(var a in i)i.hasOwnProperty(a)&&n(a,i[a])},_doMap:{linear:s,category:c,piecewise:function(e,t){var n=d.call(this,t);return null==n&&(n=s.call(this,e)),n},fixed:u}},symbolSize:{applyVisual:l("symbolSize"),_doMap:h([0,1])}},M={linear:function(e){return y(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=S.findPieceIndex(e,t,!0);if(null!=n)return y(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?b:t},fixed:f.noop};S.listVisualTypes=function(){var e=[];return f.each(w,function(t,n){e.push(n)}),e},S.addVisualHandler=function(e,t){w[e]=t},S.isValidType=function(e){return w.hasOwnProperty(e)},S.eachVisual=function(e,t,n){f.isObject(e)?f.each(e,t,n):t.call(n,e)},S.mapVisual=function(e,t,n){var i,a=f.isArray(e)?[]:f.isObject(e)?{}:(i=!0,null);return S.eachVisual(e,function(e,o){var r=t.call(n,e,o);i?a=r:a[o]=r}),a},S.retrieveVisuals=function(e){var t,n={};return e&&_(w,function(i,a){e.hasOwnProperty(a)&&(n[a]=e[a],t=!0)}),t?n:null},S.prepareVisualTypes=function(e){if(x(e)){var t=[];_(e,function(e,n){t.push(n)}),e=t}else{if(!f.isArray(e))return[];e=e.slice()}return e.sort(function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1}),e},S.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},S.findPieceIndex=function(e,t,n){function i(t,n){var i=Math.abs(t-e);i<o&&(o=i,a=n)}for(var a,o=1/0,r=0,s=t.length;r<s;r++){var l=t[r].value;if(null!=l){if(l===e||"string"==typeof l&&l===e+"")return r;n&&i(l,r)}}for(var r=0,s=t.length;r<s;r++){var c=t[r],u=c.interval,h=c.close;if(u){if(u[0]===-1/0){if(g(h[1],e,u[1]))return r}else if(u[1]===1/0){if(g(h[0],u[0],e))return r}else if(g(h[0],u[0],e)&&g(h[1],e,u[1]))return r;n&&i(u[0],r),n&&i(u[1],r)}}if(n)return e===1/0?t.length-1:e===-1/0?0:a};var A=S;e.exports=A},793:function(e,t,n){function i(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return a(n,e,t),n.seriesInvolved&&r(n,e),n}function a(e,t,n){var i=t.getComponent("tooltip"),a=t.getComponent("axisPointer"),r=a.get("link",!0)||[],l=[];m(n.getCoordinateSystems(),function(n){function c(i,c,u){var g=u.model.getModel("axisPointer",a),m=g.get("show");if(m&&("auto"!==m||i||d(g))){null==c&&(c=g.get("triggerTooltip")),g=i?o(u,f,a,t,i,c):g;var v=g.get("snap"),y=p(u.model),_=c||v||"category"===u.type,x=e.axesInfo[y]={key:y,axis:u,coordSys:n,axisPointerModel:g,triggerTooltip:c,involveSeries:_,snap:v,useHandle:d(g),seriesModels:[]};h[y]=x,e.seriesInvolved|=_;var b=s(r,u);if(null!=b){var S=l[b]||(l[b]={axesInfo:{}});S.axesInfo[y]=x,S.mapper=r[b].mapper,x.linkGroup=S}}}if(n.axisPointerEnabled){var u=p(n.model),h=e.coordSysAxesInfo[u]={};e.coordSysMap[u]=n;var g=n.model,f=g.getModel("tooltip",i);if(m(n.getAxes(),v(c,!1,null)),n.getTooltipAxes&&i&&f.get("show")){var y="axis"===f.get("trigger"),_="cross"===f.get("axisPointer.type"),x=n.getTooltipAxes(f.get("axisPointer.axis"));(y||_)&&m(x.baseAxes,v(c,!_||"cross",y)),_&&m(x.otherAxes,v(c,"cross",!1))}}})}function o(e,t,n,i,a,o){var r=t.getModel("axisPointer"),s={};m(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(e){s[e]=g.clone(r.get(e))}),s.snap="category"!==e.type&&!!o,"cross"===r.get("type")&&(s.type="line");var l=s.label||(s.label={});if(null==l.show&&(l.show=!1),"cross"===a&&(l.show=!0,!o)){var c=s.lineStyle=r.get("crossStyle");c&&g.defaults(l,c.textStyle)}return e.model.getModel("axisPointer",new f(s,n,i))}function r(e,t){t.eachSeries(function(t){var n=t.coordinateSystem,i=t.get("tooltip.trigger",!0),a=t.get("tooltip.show",!0);n&&"none"!==i&&!1!==i&&"item"!==i&&!1!==a&&!1!==t.get("axisPointer.show",!0)&&m(e.coordSysAxesInfo[p(n.model)],function(e){var i=e.axis;n.getAxis(i.dim)===i&&(e.seriesModels.push(t),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=t.getData().count())})},this)}function s(e,t){for(var n=t.model,i=t.dim,a=0;a<e.length;a++){var o=e[a]||{};if(l(o[i+"AxisId"],n.id)||l(o[i+"AxisIndex"],n.componentIndex)||l(o[i+"AxisName"],n.name))return a}}function l(e,t){return"all"===e||g.isArray(e)&&g.indexOf(e,t)>=0||e===t}function c(e){var t=u(e);if(t){var n=t.axisPointerModel,i=t.axis.scale,a=n.option,o=n.get("status"),r=n.get("value");null!=r&&(r=i.parse(r));var s=d(n);null==o&&(a.status=s?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==r||r>l[1])&&(r=l[1]),r<l[0]&&(r=l[0]),a.value=r,s&&(a.status=t.axis.scale.isBlank()?"hide":"show")}}function u(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[p(e)]}function h(e){var t=u(e);return t&&t.axisPointerModel}function d(e){return!!e.get("handle.show")}function p(e){return e.type+"||"+e.id}var g=n(2),f=n(64),m=g.each,v=g.curry;t.collect=i,t.fixValue=c,t.getAxisInfo=u,t.getAxisPointerModel=h,t.makeKey=p},794:function(e,t,n){function i(e,t){var n=e.get("boundingCoords");if(null!=n){var i=n[0],a=n[1];isNaN(i[0])||isNaN(i[1])||isNaN(a[0])||isNaN(a[1])||this.setBoundingRect(i[0],i[1],a[0]-i[0],a[1]-i[1])}var o,r=this.getBoundingRect(),s=e.get("layoutCenter"),l=e.get("layoutSize"),h=t.getWidth(),d=t.getHeight(),p=e.get("aspectScale")||.75,g=r.width/r.height*p,f=!1;s&&l&&(s=[u.parsePercent(s[0],h),u.parsePercent(s[1],d)],l=u.parsePercent(l,Math.min(h,d)),isNaN(s[0])||isNaN(s[1])||isNaN(l)||(f=!0));var m;if(f){var m={};g>1?(m.width=l,m.height=l/g):(m.height=l,m.width=l*g),m.y=s[1]-m.height/2,m.x=s[0]-m.width/2}else o=e.getBoxLayoutParams(),o.aspect=g,m=c.getLayoutRect(o,{width:h,height:d});this.setViewRect(m.x,m.y,m.width,m.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}function a(e,t){s.each(t.get("geoCoord"),function(t,n){e.addGeoCoord(n,t)})}var o=n(44),r=(o.__DEV__,n(365)),s=n(2),l=n(914),c=n(169),u=n(28),h={dimensions:l.prototype.dimensions,create:function(e,t){var n=[];e.eachComponent("geo",function(e,o){var s=e.get("map"),c=r.getMap(s),u=new l(s+o,s,c&&c.geoJson,c&&c.specialAreas,e.get("nameMap"));u.zoomLimit=e.get("scaleLimit"),n.push(u),a(u,e),e.coordinateSystem=u,u.model=e,u.resize=i,u.resize(e,t)}),e.eachSeries(function(e){if("geo"===e.get("coordinateSystem")){var t=e.get("geoIndex")||0;e.coordinateSystem=n[t]}});var o={};return e.eachSeriesByType("map",function(e){if(!e.getHostGeoModel()){var t=e.getMapType();o[t]=o[t]||[],o[t].push(e)}}),s.each(o,function(e,o){var c=r.getMap(o),u=s.map(e,function(e){return e.get("nameMap")}),h=new l(o,o,c&&c.geoJson,c&&c.specialAreas,s.mergeAll(u));h.zoomLimit=s.retrieve.apply(null,s.map(e,function(e){return e.get("scaleLimit")})),n.push(h),h.resize=i,h.resize(e[0],t),s.each(e,function(e){e.coordinateSystem=h,a(h,e)})}),n},getFilledRegions:function(e,t,n){var i=(e||[]).slice();n=n||{};var a=r.getMap(t),o=a&&a.geoJson;if(!o)return e;for(var l=s.createHashMap(),c=o.features,u=0;u<i.length;u++)l.set(i[u].name,i[u]);for(var u=0;u<c.length;u++){var h=c[u].properties.name;l.get(h)||(n.hasOwnProperty(h)&&(h=n[h]),i.push({name:h}))}return i}};r.registerCoordinateSystem("geo",h);var d=h;e.exports=d},795:function(e,t){function n(e,t,n,i,a){i.eachRawSeriesByType(e,function(e){var a=e.getData(),o=e.get("symbol")||t,r=e.get("symbolSize");a.setVisual({legendSymbol:n||o,symbol:o,symbolSize:r}),i.isSeriesFiltered(e)||("function"==typeof r&&a.each(function(t){var n=e.getRawValue(t),i=e.getDataParams(t);a.setItemVisual(t,"symbolSize",r(n,i))}),a.each(function(e){var t=a.getItemModel(e),n=t.getShallow("symbol",!0),i=t.getShallow("symbolSize",!0);null!=n&&a.setItemVisual(e,"symbol",n),null!=i&&a.setItemVisual(e,"symbolSize",i)}))})}e.exports=n},796:function(e,t,n){t=e.exports=n(83)(void 0),t.push([e.i,".click-link{cursor:pointer;color:#20a0ff}.click-link:link{color:blue;text-decoration:none}.click-link:active{color:#20a0ff}.click-link:visited{color:purple;text-decoration:none}.click-link:hover{text-decoration:underline}",""])},797:function(e,t,n){function i(e,t){var n=e.getItemVisual(t,"symbolSize");return n instanceof Array?n.slice():[+n,+n]}function a(e){return[e[0]/2,e[1]/2]}function o(e,t,n){u.Group.call(this),this.updateData(e,t,n)}function r(e,t){this.parent.drift(e,t)}var s=n(2),l=n(372),c=l.createSymbol,u=n(73),h=n(28),d=h.parsePercent,p=n(806),g=p.findLabelValueDim,f=o.prototype;f._createSymbol=function(e,t,n,i){this.removeAll();var o=t.getItemVisual(n,"color"),s=c(e,-1,-1,2,2,o);s.attr({z2:100,culling:!0,scale:a(i)}),s.drift=r,this._symbolType=e,this.add(s)},f.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},f.getSymbolPath=function(){return this.childAt(0)},f.getScale=function(){return this.childAt(0).scale},f.highlight=function(){this.childAt(0).trigger("emphasis")},f.downplay=function(){this.childAt(0).trigger("normal")},f.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},f.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":"pointer"},f.updateData=function(e,t,n){this.silent=!1;var o=e.getItemVisual(t,"symbol")||"circle",r=e.hostModel,s=i(e,t),l=o!==this._symbolType;if(l)this._createSymbol(o,e,t,s);else{var c=this.childAt(0);c.silent=!1,u.updateProps(c,{scale:a(s)},r,t)}if(this._updateCommon(e,t,s,n),l){var c=this.childAt(0),h=n&&n.fadeIn,d={scale:c.scale.slice()};h&&(d.style={opacity:c.style.opacity}),c.scale=[0,0],h&&(c.style.opacity=0),u.initProps(c,d,r,t)}this._seriesModel=r};var m=["itemStyle","normal"],v=["itemStyle","emphasis"],y=["label","normal"],_=["label","emphasis"];f._updateCommon=function(e,t,n,i){var o=this.childAt(0),r=e.hostModel,l=e.getItemVisual(t,"color");"image"!==o.type&&o.useStyle({strokeNoScale:!0});var c=i&&i.itemStyle,h=i&&i.hoverItemStyle,p=i&&i.symbolRotate,f=i&&i.symbolOffset,x=i&&i.labelModel,b=i&&i.hoverLabelModel,S=i&&i.hoverAnimation,w=i&&i.cursorStyle;if(!i||e.hasItemOption){var M=i&&i.itemModel?i.itemModel:e.getItemModel(t);c=M.getModel(m).getItemStyle(["color"]),h=M.getModel(v).getItemStyle(),p=M.getShallow("symbolRotate"),f=M.getShallow("symbolOffset"),x=M.getModel(y),b=M.getModel(_),S=M.getShallow("hoverAnimation"),w=M.getShallow("cursor")}else h=s.extend({},h);var A=o.style;o.attr("rotation",(p||0)*Math.PI/180||0),f&&o.attr("position",[d(f[0],n[0]),d(f[1],n[1])]),w&&o.attr("cursor",w),o.setColor(l,i&&i.symbolInnerColor),o.setStyle(c);var T=e.getItemVisual(t,"opacity");null!=T&&(A.opacity=T);var I=i&&i.useNameLabel,D=!I&&g(e);(I||null!=D)&&u.setLabelStyle(A,h,x,b,{labelFetcher:r,labelDataIndex:t,defaultText:I?e.getName(t):e.get(D,t),isRectText:!0,autoColor:l}),o.off("mouseover").off("mouseout").off("emphasis").off("normal"),o.hoverStyle=h,u.setHoverStyle(o);var P=a(n);if(S&&r.isAnimationEnabled()){var C=function(){var e=P[1]/P[0];this.animateTo({scale:[Math.max(1.1*P[0],P[0]+3),Math.max(1.1*P[1],P[1]+3*e)]},400,"elasticOut")},L=function(){this.animateTo({scale:P},400,"elasticOut")};o.on("mouseover",C).on("mouseout",L).on("emphasis",C).on("normal",L)}},f.fadeOut=function(e,t){var n=this.childAt(0);this.silent=n.silent=!0,!(t&&t.keepLabel)&&(n.style.text=null),u.updateProps(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,e)},s.inherits(o,u.Group);var x=o;e.exports=x},798:function(e,t,n){function i(e){this.group=new o.Group,this._symbolCtor=e||r}function a(e,t,n){var i=e.getItemLayout(t);return i&&!isNaN(i[0])&&!isNaN(i[1])&&!(n&&n(t))&&"none"!==e.getItemVisual(t,"symbol")}var o=n(73),r=n(797),s=i.prototype;s.updateData=function(e,t){var n=this.group,i=e.hostModel,r=this._data,s=this._symbolCtor,l={itemStyle:i.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:i.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:i.get("symbolRotate"),symbolOffset:i.get("symbolOffset"),hoverAnimation:i.get("hoverAnimation"),labelModel:i.getModel("label.normal"),hoverLabelModel:i.getModel("label.emphasis"),cursorStyle:i.get("cursor")};e.diff(r).add(function(i){var o=e.getItemLayout(i);if(a(e,i,t)){var r=new s(e,i,l);r.attr("position",o),e.setItemGraphicEl(i,r),n.add(r)}}).update(function(c,u){var h=r.getItemGraphicEl(u),d=e.getItemLayout(c);if(!a(e,c,t))return void n.remove(h);h?(h.updateData(e,c,l),o.updateProps(h,{position:d},i)):(h=new s(e,c),h.attr("position",d)),n.add(h),e.setItemGraphicEl(c,h)}).remove(function(e){var t=r.getItemGraphicEl(e);t&&t.fadeOut(function(){n.remove(t)})}).execute(),this._data=e},s.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl(function(t,n){var i=e.getItemLayout(n);t.attr("position",i)})},s.remove=function(e){var t=this.group,n=this._data;n&&(e?n.eachItemGraphicEl(function(e){e.fadeOut(function(){t.remove(e)})}):t.removeAll())};var l=i;e.exports=l},799:function(e,t,n){function i(e){var t,n=e.get("type"),i=e.getModel(n+"Style");return"line"===n?(t=i.getLineStyle(),t.fill=null):"shadow"===n&&(t=i.getAreaStyle(),t.stroke=null),t}function a(e,t,n,i,a){var s=n.get("value"),l=r(s,t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),c=n.getModel("label"),u=f.normalizeCssArray(c.get("padding")||0),h=c.getFont(),d=g.getBoundingRect(l,h),p=a.position,m=d.width+u[1]+u[3],v=d.height+u[0]+u[2],y=a.align;"right"===y&&(p[0]-=m),"center"===y&&(p[0]-=m/2);var _=a.verticalAlign;"bottom"===_&&(p[1]-=v),"middle"===_&&(p[1]-=v/2),o(p,m,v,i);var x=c.get("backgroundColor");x&&"auto"!==x||(x=t.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:m,height:v,r:c.get("borderRadius")},position:p.slice(),style:{text:l,textFont:h,textFill:c.getTextColor(),textPosition:"inside",fill:x,stroke:c.get("borderColor")||"transparent",lineWidth:c.get("borderWidth")||0,shadowBlur:c.get("shadowBlur"),shadowColor:c.get("shadowColor"),shadowOffsetX:c.get("shadowOffsetX"),shadowOffsetY:c.get("shadowOffsetY")},z2:10}}function o(e,t,n,i){var a=i.getWidth(),o=i.getHeight();e[0]=Math.min(e[0]+t,a)-t,e[1]=Math.min(e[1]+n,o)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function r(e,t,n,i,a){var o=t.scale.getLabel(e,{precision:a.precision}),r=a.formatter;if(r){var s={value:v.getAxisRawValue(t,e),seriesData:[]};d.each(i,function(e){var t=n.getSeriesByIndex(e.seriesIndex),i=e.dataIndexInside,a=t&&t.getDataParams(i);a&&s.seriesData.push(a)}),d.isString(r)?o=r.replace("{value}",o):d.isFunction(r)&&(o=r(s))}return o}function s(e,t,n){var i=m.create();return m.rotate(i,i,n.rotation),m.translate(i,i,n.position),p.applyTransform([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function l(e,t,n,i,o,r){var l=y.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=o.get("label.margin"),a(t,i,o,r,{position:s(i.axis,e,n),align:l.textAlign,verticalAlign:l.textVerticalAlign})}function c(e,t,n){return n=n||0,{x1:e[n],y1:e[1-n],x2:t[n],y2:t[1-n]}}function u(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}}function h(e,t,n,i,a,o){return{cx:e,cy:t,r0:n,r:i,startAngle:a,endAngle:o,clockwise:!0}}var d=n(2),p=n(73),g=n(74),f=n(63),m=n(85),v=n(115),y=n(790);t.buildElStyle=i,t.buildLabelElOption=a,t.getValueLabel=r,t.getTransformedPosition=s,t.buildCartesianSingleLabelElOption=l,t.makeLineShape=c,t.makeRectShape=u,t.makeSectorShape=h},800:function(e,t,n){var i=n(365),a=n(2),o=n(73);n(823),n(869),i.extendComponentView({type:"grid",render:function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new o.Rect({shape:e.coordinateSystem.getRect(),style:a.defaults({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))}}),i.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})},801:function(e,t,n){var i=n(2),a={updateSelectedMap:function(e){this._targetList=e.slice(),this._selectTargetMap=i.reduce(e||[],function(e,t){return e.set(t.name,t),e},i.createHashMap())},select:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(e){e.selected=!1}),n&&(n.selected=!0)},unSelect:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);n&&(n.selected=!1)},toggleSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);if(null!=n)return this[n.selected?"unSelect":"select"](e,t),n.selected},isSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return n&&n.selected}};e.exports=a},802:function(e,t,n){function i(e,t,n){var i=t.get("center"),a=n.getWidth(),o=n.getHeight();e.cx=c(i[0],a),e.cy=c(i[1],o);var r=e.getRadiusAxis(),s=Math.min(a,o)/2,l=c(t.get("radius"),s);r.inverse?r.setExtent(l,0):r.setExtent(0,l)}function a(e,t){var n=this,i=n.getAngleAxis(),a=n.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),a.scale.setExtent(1/0,-1/0),e.eachSeries(function(e){if(e.coordinateSystem===n){var t=e.getData();a.scale.unionExtentFromData(t,"radius"),i.scale.unionExtentFromData(t,"angle")}}),d(i.scale,i.model),d(a.scale,a.model),"category"===i.type&&!i.onBand){var o=i.getExtent(),r=360/i.scale.count();i.inverse?o[1]+=r:o[1]-=r,i.setExtent(o[0],o[1])}}function o(e,t){if(e.type=t.get("type"),e.scale=h(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),"angleAxis"===t.mainType){e.inverse^=t.get("clockwise");var n=t.get("startAngle");e.setExtent(n,n+(e.inverse?-360:360))}t.axis=e,e.model=t}var r=n(44),s=(r.__DEV__,n(2),n(923)),l=n(28),c=l.parsePercent,u=n(115),h=u.createScaleByModel,d=u.niceScaleExtent,p=n(172);n(924);var g={dimensions:s.prototype.dimensions,create:function(e,t){var n=[];return e.eachComponent("polar",function(e,r){var l=new s(r);l.update=a;var c=l.getRadiusAxis(),u=l.getAngleAxis(),h=e.findAxisModel("radiusAxis"),d=e.findAxisModel("angleAxis");o(c,h),o(u,d),i(l,e,t),n.push(l),e.coordinateSystem=l,l.model=e}),e.eachSeries(function(t){if("polar"===t.get("coordinateSystem")){var n=e.queryComponents({mainType:"polar",index:t.get("polarIndex"),id:t.get("polarId")})[0];t.coordinateSystem=n.coordinateSystem}}),n}};p.register("polar",g)},803:function(e,t){function n(e,t){t.eachSeriesByType(e,function(e){var t=e.getData(),n=e.coordinateSystem;if(n){for(var i=[],a=n.dimensions,o=0;o<a.length;o++)i.push(e.coordDimToDataDim(n.dimensions[o])[0]);1===i.length?t.each(i[0],function(e,i){t.setItemLayout(i,isNaN(e)?[NaN,NaN]:n.dataToPoint(e))}):2===i.length&&t.each(i,function(e,i,a){t.setItemLayout(a,isNaN(e)||isNaN(i)?[NaN,NaN]:n.dataToPoint([e,i]))},!0)}})}e.exports=n},804:function(e,t,n){function i(e,t){o.each(t,function(t){t.update="updateView",a.registerAction(t,function(n,i){var a={};return i.eachComponent({mainType:"series",subType:e,query:n},function(e){e[t.method]&&e[t.method](n.name,n.dataIndex);var i=e.getData();i.each(function(t){var n=i.getName(t);a[n]=e.isSelected(n)||!1})}),{name:n.name,selected:a}})})}var a=n(365),o=n(2);e.exports=i},805:function(e,t,n){var i=n(365),a=n(2),o=n(830),r=o.updateCenterAndZoom;i.registerAction({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},function(t){var i=t.coordinateSystem;if("geo"===i.type){var o=r(i,e,t.get("scaleLimit"));t.setCenter&&t.setCenter(o.center),t.setZoom&&t.setZoom(o.zoom),"series"===n&&a.each(t.seriesGroup,function(e){e.setCenter(o.center),e.setZoom(o.zoom)})}})})},806:function(e,t,n){function i(e){var t,n=o(e,"label");if(n.length)t=n[0];else for(var i,a=e.dimensions.slice();a.length&&(t=a.pop(),"ordinal"===(i=e.getDimensionInfo(t).type)||"time"===i););return t}var a=n(29),o=a.otherDimToDataDim;t.findLabelValueDim=i},807:function(e,t,n){function i(e,t,n){n=n||{};var i=e.coordinateSystem,o=t.axis,r={},s=o.position,l=o.onZero?"onZero":s,c=o.dim,u=i.getRect(),h=[u.x,u.x+u.width,u.y,u.y+u.height],d={left:0,right:1,top:0,bottom:1,onZero:2},p=t.get("offset")||0,g="x"===c?[h[2]-p,h[3]+p]:[h[0]-p,h[1]+p];if(o.onZero){var f=i.getAxis("x"===c?"y":"x",o.onZeroAxisIndex),m=f.toGlobalCoord(f.dataToCoord(0));g[d.onZero]=Math.max(Math.min(m,g[1]),g[0])}r.position=["y"===c?g[d[l]]:h[0],"x"===c?g[d[l]]:h[3]],r.rotation=Math.PI/2*("x"===c?0:1);var v={top:-1,bottom:1,left:-1,right:1};r.labelDirection=r.tickDirection=r.nameDirection=v[s],r.labelOffset=o.onZero?g[d[s]]-g[d.onZero]:0,t.get("axisTick.inside")&&(r.tickDirection=-r.tickDirection),a.retrieve(n.labelInside,t.get("axisLabel.inside"))&&(r.labelDirection=-r.labelDirection);var y=t.get("axisLabel.rotate");return r.labelRotate="top"===l?-y:y,r.labelInterval=o.getLabelInterval(),r.z2=1,r}var a=n(2);t.layout=i},808:function(e,t,n){var i=n(365),a=n(2),o=n(793),r=n(877);n(873),n(874),n(875),i.registerPreprocessor(function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!a.isArray(t)&&(e.axisPointer.link=[t])}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=o.collect(e,t)}),i.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},r)},809:function(e,t,n){function i(){}function a(e,t,n,i){o(m(n).lastProp,i)||(m(n).lastProp=i,t?h.updateProps(n,i,e):(n.stopAnimation(),n.attr(i)))}function o(e,t){if(c.isObject(e)&&c.isObject(t)){var n=!0;return c.each(t,function(t,i){n=n&&o(e[i],t)}),!!n}return e===t}function r(e,t){e[t.get("label.show")?"show":"hide"]()}function s(e){return{position:e.position.slice(),rotation:e.rotation||0}}function l(e,t,n){var i=t.get("z"),a=t.get("zlevel");e&&e.traverse(function(e){"group"!==e.type&&(null!=i&&(e.z=i),null!=a&&(e.zlevel=a),e.silent=n)})}var c=n(2),u=n(41),h=n(73),d=n(793),p=n(116),g=n(176),f=n(29),m=f.makeGetter(),v=c.clone,y=c.bind;i.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(e,t,n,i){var o=t.get("value"),r=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,i||this._lastValue!==o||this._lastStatus!==r){this._lastValue=o,this._lastStatus=r;var s=this._group,u=this._handle;if(!r||"hide"===r)return s&&s.hide(),void(u&&u.hide());s&&s.show(),u&&u.show();var d={};this.makeElOption(d,o,e,t,n);var p=d.graphicKey;p!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=p;var g=this._moveAnimation=this.determineAnimation(e,t);if(s){var f=c.curry(a,t,g);this.updatePointerEl(s,d,f,t),this.updateLabelEl(s,d,f,t)}else s=this._group=new h.Group,this.createPointerEl(s,d,e,t),this.createLabelEl(s,d,e,t),n.getZr().add(s);l(s,t,!0),this._renderHandle(o)}},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(e,t){var n=t.get("animation"),i=e.axis,a="category"===i.type,o=t.get("snap");if(!o&&!a)return!1;if("auto"===n||null==n){var r=this.animationThreshold;if(a&&i.getBandWidth()>r)return!0;if(o){var s=d.getAxisInfo(e).seriesDataCount,l=i.getExtent();return Math.abs(l[0]-l[1])/s>r}return!1}return!0===n},makeElOption:function(e,t,n,i,a){},createPointerEl:function(e,t,n,i){var a=t.pointer;if(a){var o=m(e).pointerEl=new h[a.type](v(t.pointer));e.add(o)}},createLabelEl:function(e,t,n,i){if(t.label){var a=m(e).labelEl=new h.Rect(v(t.label));e.add(a),r(a,i)}},updatePointerEl:function(e,t,n){var i=m(e).pointerEl;i&&(i.setStyle(t.pointer.style),n(i,{shape:t.pointer.shape}))},updateLabelEl:function(e,t,n,i){var a=m(e).labelEl;a&&(a.setStyle(t.label.style),n(a,{shape:t.label.shape,position:t.label.position}),r(a,i))},_renderHandle:function(e){if(!this._dragging&&this.updateHandleTransform){var t=this._axisPointerModel,n=this._api.getZr(),i=this._handle,a=t.getModel("handle"),o=t.get("status");if(!a.get("show")||!o||"hide"===o)return i&&n.remove(i),void(this._handle=null);var r;this._handle||(r=!0,i=this._handle=h.createIcon(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){p.stop(e.event)},onmousedown:y(this._onHandleDragMove,this,0,0),drift:y(this._onHandleDragMove,this),ondragend:y(this._onHandleDragEnd,this)}),n.add(i)),l(i,t,!1);var s=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];i.setStyle(a.getItemStyle(null,s));var u=a.get("size");c.isArray(u)||(u=[u,u]),i.attr("scale",[u[0]/2,u[1]/2]),g.createOrUpdate(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,r)}},_moveHandleToValue:function(e,t){a(this._axisPointerModel,!t&&this._moveAnimation,this._handle,s(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,t){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(s(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(s(i)),m(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},_onHandleDragEnd:function(e){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,i=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}}},i.prototype.constructor=i,u.enableClassExtend(i);var _=i;e.exports=_},810:function(e,t,n){function i(e,t){var n,i=[],r=e.seriesIndex;if(null==r||!(n=t.getSeriesByIndex(r)))return{point:[]};var s=n.getData(),l=o.queryDataIndex(s,e);if(null==l||a.isArray(l))return{point:[]};var c=s.getItemGraphicEl(l),u=n.coordinateSystem;if(n.getTooltipPosition)i=n.getTooltipPosition(l)||[];else if(u&&u.dataToPoint)i=u.dataToPoint(s.getValues(a.map(u.dimensions,function(e){return n.coordDimToDataDim(e)[0]}),l,!0))||[];else if(c){var h=c.getBoundingRect().clone();h.applyTransform(c.transform),i=[h.x+h.width/2,h.y+h.height/2]}return{point:i,el:c}}var a=n(2),o=n(29);e.exports=i},811:function(e,t,n){function i(e,t,n){if(!h.node){var i=t.getZr();p(i).records||(p(i).records={}),a(i,t);(p(i).records[e]||(p(i).records[e]={})).handler=n}}function a(e,t){function n(n,i){e.on(n,function(n){var a=l(t);g(p(e).records,function(e){e&&i(e,n,a.dispatchAction)}),o(a.pendings,t)})}p(e).initialized||(p(e).initialized=!0,n("click",u.curry(s,"click")),n("mousemove",u.curry(s,"mousemove")),n("globalout",r))}function o(e,t){var n,i=e.showTip.length,a=e.hideTip.length;i?n=e.showTip[i-1]:a&&(n=e.hideTip[a-1]),n&&(n.dispatchAction=null,t.dispatchAction(n))}function r(e,t,n){e.handler("leave",null,n)}function s(e,t,n,i){t.handler(e,n,i)}function l(e){var t={showTip:[],hideTip:[]},n=function(i){var a=t[i.type];a?a.push(i):(i.dispatchAction=n,e.dispatchAction(i))};return{dispatchAction:n,pendings:t}}function c(e,t){if(!h.node){var n=t.getZr();(p(n).records||{})[e]&&(p(n).records[e]=null)}}var u=n(2),h=n(37),d=n(29),p=d.makeGetter(),g=u.each;t.register=i,t.unregister=c},812:function(e,t,n){function i(e,t){var n=e.getItemStyle(),i=e.get("areaColor");return null!=i&&(n.fill=i),n}function a(e,t,n,i,a){n.off("click"),n.off("mousedown"),t.get("selectedMode")&&(n.on("mousedown",function(){e._mouseDownFlag=!0}),n.on("click",function(r){if(e._mouseDownFlag){e._mouseDownFlag=!1;for(var l=r.target;!l.__regions;)l=l.parent;if(l){var c={type:("geo"===t.mainType?"geo":"map")+"ToggleSelect",batch:s.map(l.__regions,function(e){return{name:e.name,from:a.uid}})};c[t.mainType+"Id"]=t.id,i.dispatchAction(c),o(t,n)}}}))}function o(e,t){t.eachChild(function(t){s.each(t.__regions,function(n){t.trigger(e.isSelected(n.name)?"emphasis":"normal")})})}function r(e,t){var n=new d.Group;this._controller=new l(e.getZr()),this._controllerHost={target:t?n:null},this.group=n,this._updateGroup=t,this._mouseDownFlag}var s=n(2),l=n(880),c=n(884),u=n(881),h=u.onIrrelevantElement,d=n(73);r.prototype={constructor:r,draw:function(e,t,n,r,l){var c="geo"===e.mainType,u=e.getData&&e.getData();c&&t.eachComponent({mainType:"series",subType:"map"},function(t){u||t.getHostGeoModel()!==e||(u=t.getData())});var h=e.coordinateSystem,p=this.group,g=h.scale,f={position:h.position,scale:g};!p.childAt(0)||l?p.attr(f):d.updateProps(p,f,e),p.removeAll();var m=["itemStyle","normal"],v=["itemStyle","emphasis"],y=["label","normal"],_=["label","emphasis"],x=s.createHashMap();s.each(h.regions,function(t){var n=x.get(t.name)||x.set(t.name,new d.Group),a=new d.CompoundPath({shape:{paths:[]}});n.add(a);var o,r=e.getRegionModel(t.name)||e,l=r.getModel(m),h=r.getModel(v),f=i(l,g),b=i(h,g),S=r.getModel(y),w=r.getModel(_);if(u){o=u.indexOfName(t.name);var M=u.getItemVisual(o,"color",!0);M&&(f.fill=M)}s.each(t.geometries,function(e){if("polygon"===e.type){a.shape.paths.push(new d.Polygon({shape:{points:e.exterior}}));for(var t=0;t<(e.interiors?e.interiors.length:0);t++)a.shape.paths.push(new d.Polygon({shape:{points:e.interiors[t]}}))}}),a.setStyle(f),a.style.strokeNoScale=!0,a.culling=!0;var A=S.get("show"),T=w.get("show"),I=u&&isNaN(u.get("value",o)),D=u&&u.getItemLayout(o);if(c||I&&(A||T)||D&&D.showLabel){var P,C=c?t.name:o;(!u||o>=0)&&(P=e);var L=new d.Text({position:t.center.slice(),scale:[1/g[0],1/g[1]],z2:10,silent:!0});d.setLabelStyle(L.style,L.hoverStyle={},S,w,{labelFetcher:P,labelDataIndex:C,defaultText:t.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),n.add(L)}if(u)u.setItemGraphicEl(o,n);else{var r=e.getRegionModel(t.name);a.eventData={componentType:"geo",geoIndex:e.componentIndex,name:t.name,region:r&&r.option||{}}}(n.__regions||(n.__regions=[])).push(t),d.setHoverStyle(n,b,{hoverSilentOnTouch:!!e.get("selectedMode")}),p.add(n)}),this._updateController(e,t,n),a(this,e,p,n,r),o(e,p)},remove:function(){this.group.removeAll(),this._controller.dispose(),this._controllerHost={}},_updateController:function(e,t,n){function i(){var t={type:"geoRoam",componentType:l};return t[l+"Id"]=e.id,t}var a=e.coordinateSystem,o=this._controller,r=this._controllerHost;r.zoomLimit=e.get("scaleLimit"),r.zoom=a.getZoom(),o.enable(e.get("roam")||!1);var l=e.mainType;o.off("pan").on("pan",function(e,t){this._mouseDownFlag=!1,c.updateViewOnPan(r,e,t),n.dispatchAction(s.extend(i(),{dx:e,dy:t}))},this),o.off("zoom").on("zoom",function(e,t,a){if(this._mouseDownFlag=!1,c.updateViewOnZoom(r,e,t,a),n.dispatchAction(s.extend(i(),{zoom:e,originX:t,originY:a})),this._updateGroup){var o=this.group,l=o.scale;o.traverse(function(e){"text"===e.type&&e.attr("scale",[1/l[0],1/l[1]])})}},this),o.setPointerChecker(function(t,i,o){return a.getViewRectAfterRoam().contain(i,o)&&!h(t,n,e)})}};var p=r;e.exports=p},813:function(e,t,n){var i=n(365),a=n(2),o=n(37),r=n(827),s=n(792),l=n(828),c=n(29),u=n(28),h=s.mapVisual,d=s.eachVisual,p=a.isArray,g=a.each,f=u.asc,m=u.linearMap,v=a.noop,y=["#f6efa6","#d88273","#bf444c"],_=i.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(e,t,n){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(e,n)},optionUpdated:function(e,t){var n=this.option;o.canvasSupported||(n.realtime=!1),!t&&l.replaceVisualOption(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(e){var t=this.stateList;e=a.bind(e,this),this.controllerVisuals=l.createVisualMappings(this.option.controller,t,e),this.targetVisuals=l.createVisualMappings(this.option.target,t,e)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries(function(e,n){t.push(n)}):t=c.normalizeToArray(e),t},eachTargetSeries:function(e,t){a.each(this.getTargetSeriesIndices(),function(n){e.call(t,this.ecModel.getSeriesByIndex(n))},this)},isTargetSeries:function(e){var t=!1;return this.eachTargetSeries(function(n){n===e&&(t=!0)}),t},formatValueText:function(e,t,n){function i(e){return e===c[0]?"min":e===c[1]?"max":(+e).toFixed(Math.min(l,20))}var o,r,s=this.option,l=s.precision,c=this.dataBound,u=s.formatter;return n=n||["<",">"],a.isArray(e)&&(e=e.slice(),o=!0),r=t?e:o?[i(e[0]),i(e[1])]:i(e),a.isString(u)?u.replace("{value}",o?r[0]:r).replace("{value2}",o?r[1]:r):a.isFunction(u)?o?u(e[0],e[1]):u(e):o?e[0]===c[0]?n[0]+" "+r[1]:e[1]===c[1]?n[1]+" "+r[0]:r[0]+" - "+r[1]:r},resetExtent:function(){var e=this.option,t=f([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension;return null!=t?t:e.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function e(e){p(i.color)&&!e.inRange&&(e.inRange={color:i.color.slice().reverse()}),e.inRange=e.inRange||{color:y},g(this.stateList,function(t){var n=e[t];if(a.isString(n)){var i=r.get(n,"active",u);i?(e[t]={},e[t][n]=i):delete e[t]}},this)}function t(e,t,n){var i=e[t],a=e[n];i&&!a&&(a=e[n]={},g(i,function(e,t){if(s.isValidType(t)){var n=r.get(t,"inactive",u);null!=n&&(a[t]=n,"color"!==t||a.hasOwnProperty("opacity")||a.hasOwnProperty("colorAlpha")||(a.opacity=[0,0]))}}))}function n(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,n=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,i=this.get("inactiveColor");g(this.stateList,function(o){var r=this.itemSize,s=e[o];s||(s=e[o]={color:u?i:[i]}),null==s.symbol&&(s.symbol=t&&a.clone(t)||(u?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=n&&a.clone(n)||(u?r[0]:[r[0],r[0]])),s.symbol=h(s.symbol,function(e){return"none"===e||"square"===e?"roundRect":e});var l=s.symbolSize;if(null!=l){var c=-1/0;d(l,function(e){e>c&&(c=e)}),s.symbolSize=h(l,function(e){return m(e,[0,c],[0,r[0]],!0)})}},this)}var i=this.option,o={inRange:i.inRange,outOfRange:i.outOfRange},l=i.target||(i.target={}),c=i.controller||(i.controller={});a.merge(l,o),a.merge(c,o);var u=this.isCategory();e.call(this,l),e.call(this,c),t.call(this,l,"inRange","outOfRange"),n.call(this,c)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:v,getValueState:v,getVisualMeta:v}),x=_;e.exports=x},814:function(e,t,n){var i=n(365),a=n(2),o=n(73),r=n(63),s=n(169),l=n(792),c=i.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,t){this.ecModel=e,this.api=t,this.visualMapModel},render:function(e,t,n,i){if(this.visualMapModel=e,!1===e.get("show"))return void this.group.removeAll();this.doRender.apply(this,arguments)},renderBackground:function(e){var t=this.visualMapModel,n=r.normalizeCssArray(t.get("padding")||0),i=e.getBoundingRect();e.add(new o.Rect({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},getControllerVisual:function(e,t,n){function i(e){return c[e]}function o(e,t){c[e]=t}n=n||{};var r=n.forceState,s=this.visualMapModel,c={};if("symbol"===t&&(c.symbol=s.get("itemSymbol")),"color"===t){var u=s.get("contentColor");c.color=u}var h=s.controllerVisuals[r||s.getValueState(e)],d=l.prepareVisualTypes(h);return a.each(d,function(a){var r=h[a];n.convertOpacityToAlpha&&"opacity"===a&&(a="colorAlpha",r=h.__alphaForOpacity),l.dependsOn(a,t)&&r&&r.applyVisual(e,i,o)}),c[t]},positionGroup:function(e){var t=this.visualMapModel,n=this.api;s.positionElement(e,t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:a.noop});e.exports=c},815:function(e,t,n){function i(e,t,n){var i=e.option,a=i.align;if(null!=a&&"auto"!==a)return a;for(var o={width:t.getWidth(),height:t.getHeight()},r="horizontal"===i.orient?1:0,l=[["left","right","width"],["top","bottom","height"]],c=l[r],u=[0,null,10],h={},d=0;d<3;d++)h[l[1-r][d]]=u[d],h[c[d]]=2===d?n[0]:i[c[d]];var p=[["x","width",3],["y","height",0]][r],g=s(h,o,i.padding);return c[(g.margin[p[2]]||0)+g[p[0]]+.5*g[p[1]]<.5*o[p[1]]?0:1]}function a(e){return o.each(e||[],function(t){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null)}),e}var o=n(2),r=n(169),s=r.getLayoutRect;t.getItemAlign=i,t.convertDataIndex=a},816:function(e,t,n){function i(e){var t=e&&e.visualMap;o.isArray(t)||(t=t?[t]:[]),r(t,function(e){if(e){a(e,"splitList")&&!a(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&o.isArray(t)&&r(t,function(e){o.isObject(e)&&(a(e,"start")&&!a(e,"min")&&(e.min=e.start),a(e,"end")&&!a(e,"max")&&(e.max=e.end))})}})}function a(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var o=n(2),r=o.each;e.exports=i},817:function(e,t,n){n(84).registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"})},818:function(e,t,n){function i(e,t){e.eachTargetSeries(function(t){var n=t.getData();l.applyVisual(e.stateList,e.targetVisuals,n,e.getValueState,e,e.getDataDimension(n))})}function a(e){e.eachSeries(function(t){var n=t.getData(),i=[];e.eachComponent("visualMap",function(e){if(e.isTargetSeries(t)){var a=e.getVisualMeta(s.bind(o,null,t,e))||{stops:[],outerColors:[]};a.dimension=e.getDataDimension(n),i.push(a)}}),t.getData().setVisual("visualMeta",i)})}function o(e,t,n,i){function a(e){return l[e]}function o(e,t){l[e]=t}for(var r=t.targetVisuals[i],s=c.prepareVisualTypes(r),l={color:e.getData().getVisual("color")},u=0,h=s.length;u<h;u++){var d=s[u],p=r["opacity"===d?"__alphaForOpacity":d];p&&p.applyVisual(n,a,o)}return l.color}var r=n(365),s=n(2),l=n(828),c=n(792);r.registerVisual(r.PRIORITY.VISUAL.COMPONENT,function(e){e.eachComponent("visualMap",function(t){i(t,e)}),a(e)})},819:function(e,t,n){var i=n(365),a={type:"selectDataRange",event:"dataRangeSelected",update:"update"};i.registerAction(a,function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(t){t.setSelected(e.selected)})})},820:function(e,t,n){var i=n(2),a={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},o={};o.categoryAxis=i.merge({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},a),o.valueAxis=i.merge({boundaryGap:[0,0],splitNumber:5},a),o.timeAxis=i.defaults({scale:!0,min:"dataMin",max:"dataMax"},o.valueAxis),o.logAxis=i.defaults({scale:!0,logBase:10},o.valueAxis);var r=o;e.exports=r},821:function(e,t,n){function i(e,t,n,i){a.each(u,function(r){t.extend({type:e+"Axis."+r,mergeDefaultAndTheme:function(t,i){var o=this.layoutMode,s=o?l(t):{},u=i.getTheme();a.merge(t,u.get(r+"Axis")),a.merge(t,this.getDefaultOption()),t.type=n(e,t),o&&c(t,s,o)},defaultOption:a.mergeAll([{},o[r+"Axis"],i],!0)})}),r.registerSubTypeDefaulter(e+"Axis",a.curry(n,e))}var a=n(2),o=n(820),r=n(84),s=n(169),l=s.getLayoutParams,c=s.mergeLayoutParam,u=["value","category","time","log"];e.exports=i},822:function(e,t,n){function i(e,t){return t.type||(t.data?"category":"value")}var a=n(2),o=n(84),r=n(821),s=n(378),l=o.extend({type:"cartesian2dAxis",axis:null,init:function(){l.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){l.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){l.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});a.merge(l.prototype,s);var c={offset:0};r("x",l,i,c),r("y",l,i,c);var u=l;e.exports=u},823:function(e,t,n){function i(e,t,n){return e.getCoordSysModel()===t}function a(e,t){var n=t*Math.PI/180,i=e.plain(),a=i.width,o=i.height,r=a*Math.cos(n)+o*Math.sin(n),s=a*Math.sin(n)+o*Math.cos(n);return new g(i.x,i.y,r,s)}function o(e){var t,n=e.model,i=n.getFormattedLabels(),o=n.getModel("axisLabel"),r=1,s=i.length;s>40&&(r=Math.ceil(s/40));for(var l=0;l<s;l+=r)if(!e.isLabelIgnored(l)){var c=o.getTextRect(i[l]),u=a(c,o.get("rotate")||0);t?t.union(u):t=u}return t}function r(e,t,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(e,t,n),this.model=e}function s(e,t,n){var i=e[t];if(n.onZero){var a=n.onZeroAxisIndex;if(null!=a){var o=i[a];return void(o&&l(o)&&(n.onZero=!1))}for(var r in i)if(i.hasOwnProperty(r)){var o=i[r];if(o&&!l(o)){a=+r;break}}null==a&&(n.onZero=!1),n.onZeroAxisIndex=a}}function l(e){return"category"===e.type||"time"===e.type||!S(e)}function c(e,t){var n=e.getExtent(),i=n[0]+n[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return i-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return i-e+t}}function u(e,t){return p.map(A,function(t){return e.getReferringComponents(t)[0]})}function h(e){return"cartesian2d"===e.get("coordinateSystem")}var d=n(44),p=(d.__DEV__,n(2)),g=n(30),f=n(169),m=f.getLayoutRect,v=n(115),y=n(911),_=n(909),x=n(172);n(912);var b=p.each,S=v.ifAxisCrossZero,w=v.niceScaleExtent,M=r.prototype;M.type="grid",M.axisPointerEnabled=!0,M.getRect=function(){return this._rect},M.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model),b(n.x,function(e){w(e.scale,e.model)}),b(n.y,function(e){w(e.scale,e.model)}),b(n.x,function(e){s(n,"y",e)}),b(n.y,function(e){s(n,"x",e)}),this.resize(this.model,t)},M.resize=function(e,t,n){function i(){b(r,function(e){var t=e.isHorizontal(),n=t?[0,a.width]:[0,a.height],i=e.inverse?1:0;e.setExtent(n[i],n[1-i]),c(e,t?a.x:a.y)})}var a=m(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._rect=a;var r=this._axesList;i(),!n&&e.get("containLabel")&&(b(r,function(e){if(!e.model.get("axisLabel.inside")){var t=o(e);if(t){var n=e.isHorizontal()?"height":"width",i=e.model.get("axisLabel.margin");a[n]-=t[n]+i,"top"===e.position?a.y+=t.height+i:"left"===e.position&&(a.x+=t.width+i)}}}),i())},M.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n){if(null==t)for(var i in n)if(n.hasOwnProperty(i))return n[i];return n[t]}},M.getAxes=function(){return this._axesList.slice()},M.getCartesian=function(e,t){if(null!=e&&null!=t){var n="x"+e+"y"+t;return this._coordsMap[n]}p.isObject(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===e||a[i].getAxis("y").index===t)return a[i]},M.getCartesians=function(){return this._coordsList.slice()},M.convertToPixel=function(e,t,n){var i=this._findConvertTarget(e,t);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},M.convertFromPixel=function(e,t,n){var i=this._findConvertTarget(e,t);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},M._findConvertTarget=function(e,t){var n,i,a=t.seriesModel,o=t.xAxisModel||a&&a.getReferringComponents("xAxis")[0],r=t.yAxisModel||a&&a.getReferringComponents("yAxis")[0],s=t.gridModel,l=this._coordsList;if(a)n=a.coordinateSystem,p.indexOf(l,n)<0&&(n=null);else if(o&&r)n=this.getCartesian(o.componentIndex,r.componentIndex);else if(o)i=this.getAxis("x",o.componentIndex);else if(r)i=this.getAxis("y",r.componentIndex);else if(s){var c=s.coordinateSystem;c===this&&(n=this._coordsList[0])}return{cartesian:n,axis:i}},M.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},M._initCartesian=function(e,t,n){function a(n){return function(a,l){if(i(a,e,t)){var c=a.get("position");"x"===n?"top"!==c&&"bottom"!==c&&(c="bottom",o[c]&&(c="top"===c?"bottom":"top")):"left"!==c&&"right"!==c&&(c="left",o[c]&&(c="left"===c?"right":"left")),o[c]=!0;var u=new _(n,v.createScaleByModel(a),[0,0],a.get("type"),c),h="category"===u.type;u.onBand=h&&a.get("boundaryGap"),u.inverse=a.get("inverse"),u.onZero=a.get("axisLine.onZero"),u.onZeroAxisIndex=a.get("axisLine.onZeroAxisIndex"),a.axis=u,u.model=a,u.grid=this,u.index=l,this._axesList.push(u),r[n][l]=u,s[n]++}}}var o={left:!1,right:!1,top:!1,bottom:!1},r={x:{},y:{}},s={x:0,y:0};if(t.eachComponent("xAxis",a("x"),this),t.eachComponent("yAxis",a("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);this._axesMap=r,b(r.x,function(t,n){b(r.y,function(i,a){var o="x"+n+"y"+a,r=new y(o);r.grid=this,r.model=e,this._coordsMap[o]=r,this._coordsList.push(r),r.addAxis(t),r.addAxis(i)},this)},this)},M._updateScale=function(e,t){function n(e,t,n){b(n.coordDimToDataDim(t.dim),function(n){t.scale.unionExtentFromData(e,n)})}p.each(this._axesList,function(e){e.scale.setExtent(1/0,-1/0)}),e.eachSeries(function(a){if(h(a)){var o=u(a,e),r=o[0],s=o[1];if(!i(r,t,e)||!i(s,t,e))return;var l=this.getCartesian(r.componentIndex,s.componentIndex),c=a.getData(),d=l.getAxis("x"),p=l.getAxis("y");"list"===c.type&&(n(c,d,a),n(c,p,a))}},this)},M.getTooltipAxes=function(e){var t=[],n=[];return b(this.getCartesians(),function(i){var a=null!=e&&"auto"!==e?i.getAxis(e):i.getBaseAxis(),o=i.getOtherAxis(a);p.indexOf(t,a)<0&&t.push(a),p.indexOf(n,o)<0&&n.push(o)}),{baseAxes:t,otherAxes:n}};var A=["xAxis","yAxis"];r.create=function(e,t){var n=[];return e.eachComponent("grid",function(i,a){var o=new r(i,e,t);o.name="grid_"+a,o.resize(i,t,!0),i.coordinateSystem=o,n.push(o)}),e.eachSeries(function(t){if(h(t)){var n=u(t,e),i=n[0],a=n[1],o=i.getCoordSysModel(),r=o.coordinateSystem;t.coordinateSystem=r.getCartesian(i.componentIndex,a.componentIndex)}}),n},r.dimensions=r.prototype.dimensions=y.prototype.dimensions,x.register("cartesian2d",r);var T=r;e.exports=T},824:function(e,t,n){function i(e){return e.get("stack")||d+e.seriesIndex}function a(e){return e.dim+e.index}function o(e,t){var n=[],i=e.axis;if("category"===i.type){for(var a=i.getBandWidth(),o=0;o<e.count;o++)n.push(c.defaults({bandWidth:a,axisKey:"axis0",stackId:d+o},e));for(var r=s(n,t),l=[],o=0;o<e.count;o++){var u=r.axis0[d+o];u.offsetCenter=u.offset+u.width/2,l.push(u)}return l}}function r(e,t){return s(c.map(e,function(e){var t=e.getData(),n=e.coordinateSystem,o=n.getBaseAxis(),r=o.getExtent(),s="category"===o.type?o.getBandWidth():Math.abs(r[1]-r[0])/t.count();return{bandWidth:s,barWidth:h(e.get("barWidth"),s),barMaxWidth:h(e.get("barMaxWidth"),s),barGap:e.get("barGap"),barCategoryGap:e.get("barCategoryGap"),axisKey:a(o),stackId:i(e)}}),t)}function s(e,t){var n={};c.each(e,function(e,t){var i=e.axisKey,a=e.bandWidth,o=n[i]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},r=o.stacks;n[i]=o;var s=e.stackId;r[s]||o.autoWidthCount++,r[s]=r[s]||{width:0,maxWidth:0};var l=e.barWidth;l&&!r[s].width&&(r[s].width=l,l=Math.min(o.remainedWidth,l),o.remainedWidth-=l);var c=e.barMaxWidth;c&&(r[s].maxWidth=c);var u=e.barGap;null!=u&&(o.gap=u);var h=e.barCategoryGap;null!=h&&(o.categoryGap=h)});var i={};return c.each(n,function(e,t){i[t]={};var n=e.stacks,a=e.bandWidth,o=h(e.categoryGap,a),r=h(e.gap,1),s=e.remainedWidth,l=e.autoWidthCount,u=(s-o)/(l+(l-1)*r);u=Math.max(u,0),c.each(n,function(e,t){var n=e.maxWidth;n&&n<u&&(n=Math.min(n,s),e.width&&(n=Math.min(n,e.width)),s-=n,e.width=n,l--)}),u=(s-o)/(l+(l-1)*r),u=Math.max(u,0);var d,p=0;c.each(n,function(e,t){e.width||(e.width=u),d=e,p+=e.width*(1+r)}),d&&(p-=d.width*r);var g=-p/2;c.each(n,function(e,n){i[t][n]=i[t][n]||{offset:g,width:e.width},g+=e.width*(1+r)})}),i}function l(e,t,n){var o=r(c.filter(t.getSeriesByType(e),function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type})),s={},l={};t.eachSeriesByType(e,function(e){if("cartesian2d"===e.coordinateSystem.type){var t=e.getData(),n=e.coordinateSystem,r=n.getBaseAxis(),c=i(e),u=o[a(r)][c],h=u.offset,d=u.width,p=n.getOtherAxis(r),g=e.get("barMinHeight")||0,f=r.onZero?p.toGlobalCoord(p.dataToCoord(0)):p.getGlobalExtent()[0],m=[e.coordDimToDataDim("x")[0],e.coordDimToDataDim("y")[0]],v=t.mapArray(m,function(e,t){return n.dataToPoint([e,t])},!0);s[c]=s[c]||[],l[c]=l[c]||[],t.setLayout({offset:h,size:d}),t.each(e.coordDimToDataDim(p.dim)[0],function(e,n){if(!isNaN(e)){s[c][n]||(s[c][n]={p:f,n:f},l[c][n]={p:f,n:f});var i,a,o,r,u=e>=0?"p":"n",m=v[n],y=s[c][n][u],_=l[c][n][u];p.isHorizontal()?(i=y,a=m[1]+h,o=m[0]-_,r=d,l[c][n][u]+=o,Math.abs(o)<g&&(o=(o<0?-1:1)*g),s[c][n][u]+=o):(i=m[0]+h,a=y,o=d,r=m[1]-_,l[c][n][u]+=r,Math.abs(r)<g&&(r=(r<=0?-1:1)*g),s[c][n][u]+=r),t.setItemLayout(n,{x:i,y:a,width:o,height:r})}},!0)}},this)}var c=n(2),u=n(28),h=u.parsePercent,d="__ec_stack_";l.getLayoutOnAxis=o;var p=l;e.exports=p},825:function(e,t){function n(e,t){var n=t.findComponents({mainType:"legend"});n&&n.length&&t.eachSeriesByType(e,function(e){var t=e.getData();t.filterSelf(function(e){for(var i=t.getName(e),a=0;a<n.length;a++)if(!n[a].isSelected(i))return!1;return!0},this)},this)}e.exports=n},826:function(e,t){function n(e,t){var n={};t.eachRawSeriesByType(e,function(e){var i=e.getRawData(),a={};if(!t.isSeriesFiltered(e)){var o=e.getData();o.each(function(e){var t=o.getRawIndex(e);a[t]=e}),i.each(function(t){var r=a[t],s=null!=r&&o.getItemVisual(r,"color",!0);if(s)i.setItemVisual(t,"color",s);else{var l=i.getItemModel(t),c=l.get("itemStyle.normal.color")||e.getColorFromPalette(i.getName(t),n);i.setItemVisual(t,"color",c),null!=r&&o.setItemVisual(r,"color",c)}})}})}e.exports=n},827:function(e,t,n){var i=n(2),a={get:function(e,t,n){var a=i.clone((o[e]||{})[t]);return n&&i.isArray(a)?a[a.length-1]:a}},o={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},r=a;e.exports=r},828:function(e,t,n){function i(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function a(e,t,n){function i(){var e=function(){};return e.prototype.__hidden=e.prototype,new e}var a={};return c(t,function(t){var o=a[t]=i();c(e[t],function(e,i){if(l.isValidType(i)){var a={type:i,visual:e};n&&n(a,t),o[i]=new l(a),"opacity"===i&&(a=s.clone(a),a.type="colorAlpha",o.__hidden.__alphaForOpacity=new l(a))}})}),a}function o(e,t,n){var a;s.each(n,function(e){t.hasOwnProperty(e)&&i(t[e])&&(a=!0)}),a&&s.each(n,function(n){t.hasOwnProperty(n)&&i(t[n])?e[n]=s.clone(t[n]):delete e[n]})}function r(e,t,n,i,a,o){function r(e){return n.getItemVisual(d,e)}function c(e,t){n.setItemVisual(d,e,t)}function u(e,s){d=null==o?e:s;var l=n.getRawDataItem(d);if(!l||!1!==l.visualMap)for(var u=i.call(a,e),p=t[u],g=h[u],f=0,m=g.length;f<m;f++){var v=g[f];p[v]&&p[v].applyVisual(e,r,c)}}var h={};s.each(e,function(e){var n=l.prepareVisualTypes(t[e]);h[e]=n});var d;null==o?n.each(u,!0):n.each([o],u,!0)}var s=n(2),l=n(792),c=s.each;t.createVisualMappings=a,t.replaceVisualOption=o,t.applyVisual=r},830:function(e,t){function n(e,t,n){var i=e.getZoom(),a=e.getCenter(),o=t.zoom,r=e.dataToPoint(a);if(null!=t.dx&&null!=t.dy){r[0]-=t.dx,r[1]-=t.dy;var a=e.pointToData(r);e.setCenter(a)}if(null!=o){if(n){var s=n.min||0,l=n.max||1/0;o=Math.max(Math.min(i*o,l),s)/i}e.scale[0]*=o,e.scale[1]*=o;var c=e.position,u=(t.originX-c[0])*(o-1),h=(t.originY-c[1])*(o-1);c[0]-=u,c[1]-=h,e.updateTransform();var a=e.pointToData(r);e.setCenter(a),e.setZoom(o*i)}return{center:e.getCenter(),zoom:e.getZoom()}}t.updateCenterAndZoom=n},831:function(e,t,n){var i=n(365),a=n(2),o=n(824);n(823),n(832),n(833),n(800),i.registerLayout(a.curry(o,"bar")),i.registerVisual(function(e){e.eachSeriesByType("bar",function(e){e.getData().setVisual("legendSymbol","roundRect")})})},832:function(e,t,n){var i=n(834),a=i.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"});e.exports=a},833:function(e,t,n){function i(e,t,n){n.style.text=null,u.updateProps(n,{shape:{width:0}},t,e,function(){n.parent&&n.parent.remove(n)})}function a(e,t,n){n.style.text=null,u.updateProps(n,{shape:{r:n.shape.r0}},t,e,function(){n.parent&&n.parent.remove(n)})}function o(e,t,n,i,a,o,r,s){var l=t.getItemVisual(n,"color"),h=t.getItemVisual(n,"opacity"),p=i.getModel("itemStyle.normal"),g=i.getModel("itemStyle.emphasis").getBarItemStyle();s||e.setShape("r",p.get("barBorderRadius")||0),e.useStyle(c.defaults({fill:l,opacity:h},p.getBarItemStyle()));var f=i.getShallow("cursor");f&&e.attr("cursor",f);var m=r?a.height>0?"bottom":"top":a.width>0?"left":"right";s||d(e.style,g,i,l,o,n,m),u.setHoverStyle(e,g)}function r(e,t){var n=e.get(f)||0;return Math.min(n,Math.abs(t.width),Math.abs(t.height))}var s=n(44),l=(s.__DEV__,n(365)),c=n(2),u=n(73),h=n(836),d=h.setLabel,p=n(64),g=n(835),f=["itemStyle","normal","barBorderWidth"];c.extend(p.prototype,g);var m=l.extendChartView({type:"bar",render:function(e,t,n){var i=e.get("coordinateSystem");return"cartesian2d"!==i&&"polar"!==i||this._render(e,t,n),this.group},dispose:c.noop,_render:function(e,t,n){var r,s=this.group,l=e.getData(),c=this._data,h=e.coordinateSystem,d=h.getBaseAxis();"cartesian2d"===h.type?r=d.isHorizontal():"polar"===h.type&&(r="angle"===d.dim);var p=e.isAnimationEnabled()?e:null;l.diff(c).add(function(t){if(l.hasValue(t)){var n=l.getItemModel(t),i=y[h.type](l,t,n),a=v[h.type](l,t,n,i,r,p);l.setItemGraphicEl(t,a),s.add(a),o(a,l,t,n,i,e,r,"polar"===h.type)}}).update(function(t,n){var i=c.getItemGraphicEl(n);if(!l.hasValue(t))return void s.remove(i);var a=l.getItemModel(t),d=y[h.type](l,t,a);i?u.updateProps(i,{shape:d},p,t):i=v[h.type](l,t,a,d,r,p,!0),l.setItemGraphicEl(t,i),s.add(i),o(i,l,t,a,d,e,r,"polar"===h.type)}).remove(function(e){var t=c.getItemGraphicEl(e);"cartesian2d"===h.type?t&&i(e,p,t):t&&a(e,p,t)}).execute(),this._data=l},remove:function(e,t){var n=this.group,o=this._data;e.get("animation")?o&&o.eachItemGraphicEl(function(t){"sector"===t.type?a(t.dataIndex,e,t):i(t.dataIndex,e,t)}):n.removeAll()}}),v={cartesian2d:function(e,t,n,i,a,o,r){var s=new u.Rect({shape:c.extend({},i)});if(o){var l=s.shape,h=a?"height":"width",d={};l[h]=0,d[h]=i[h],u[r?"updateProps":"initProps"](s,{shape:d},o,t)}return s},polar:function(e,t,n,i,a,o,r){var s=new u.Sector({shape:c.extend({},i)});if(o){var l=s.shape,h=a?"r":"endAngle",d={};l[h]=a?0:i.startAngle,d[h]=i[h],u[r?"updateProps":"initProps"](s,{shape:d},o,t)}return s}},y={cartesian2d:function(e,t,n){var i=e.getItemLayout(t),a=r(n,i),o=i.width>0?1:-1,s=i.height>0?1:-1;return{x:i.x+o*a/2,y:i.y+s*a/2,width:i.width-o*a,height:i.height-s*a}},polar:function(e,t,n){var i=e.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}};e.exports=m},834:function(e,t,n){var i=n(375),a=n(376),o=i.extend({type:"series.__base_bar__",getInitialData:function(e,t){return a(e.data,this,t)},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var n=t.dataToPoint(e,!0),i=this.getData(),a=i.getLayout("offset"),o=i.getLayout("size");return n[t.getBaseAxis().isHorizontal()?0:1]+=a+o/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,itemStyle:{}}});e.exports=o},835:function(e,t,n){var i=n(117),a=i([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),o={getBarItemStyle:function(e){var t=a(this,e);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(t.lineDash=n)}return t}};e.exports=o},836:function(e,t,n){function i(e,t,n,i,r,s,l){var c=n.getModel("label.normal"),u=n.getModel("label.emphasis");o.setLabelStyle(e,t,c,u,{labelFetcher:r,labelDataIndex:s,defaultText:r.getRawValue(s),isRectText:!0,autoColor:i}),a(e),a(t)}function a(e,t){"outside"===e.textPosition&&(e.textPosition=t)}var o=n(73);t.setLabel=i},837:function(e,t,n){function i(e){var t,n=e.type;if("path"===n){var i=e.shape;t=v.makePath(i.pathData,null,{x:i.x||0,y:i.y||0,width:i.width||0,height:i.height||0},"center"),t.__customPathData=e.pathData}else if("image"===n)t=new v.Image({}),t.__customImagePath=e.style.image;else if("text"===n)t=new v.Text({}),t.__customText=e.style.text;else{var a=v[n.charAt(0).toUpperCase()+n.slice(1)];t=new a}return t.__customGraphicType=n,t.name=e.name,t}function a(e,t,n,i,a,r){var s={},l=n.style||{};if(n.shape&&(s.shape=m.clone(n.shape)),n.position&&(s.position=n.position.slice()),n.scale&&(s.scale=n.scale.slice()),n.origin&&(s.origin=n.origin.slice()),n.rotation&&(s.rotation=n.rotation),"image"===e.type&&n.style){var c=s.style={};m.each(["x","y","width","height"],function(t){o(t,c,l,e.style,r)})}if("text"===e.type&&n.style){var c=s.style={};m.each(["x","y"],function(t){o(t,c,l,e.style,r)}),!l.hasOwnProperty("textFill")&&l.fill&&(l.textFill=l.fill),!l.hasOwnProperty("textStroke")&&l.stroke&&(l.textStroke=l.stroke)}if("group"!==e.type&&(e.useStyle(l),r)){e.style.opacity=0;var u=l.opacity;null==u&&(u=1),v.initProps(e,{style:{opacity:u}},i,t)}r?e.attr(s):v.updateProps(e,s,i,t),e.attr({z2:n.z2||0,silent:n.silent}),!1!==n.styleEmphasis&&v.setHoverStyle(e,n.styleEmphasis)}function o(e,t,n,i,a){null==n[e]||a||(t[e]=n[e],n[e]=i[e])}function r(e,t,n,i){function a(e){null==e&&(e=y),E&&(x=t.getItemModel(e),S=x.getModel(C),w=x.getModel(L),M=_(t),A=t.getItemVisual(e,"color"),E=!1)}function o(e,n){return null==n&&(n=y),t.get(t.getDimension(e||0),n)}function r(n,i){null==i&&(i=y),a(i);var o=x.getModel(D).getItemStyle();null!=A&&(o.fill=A);var r=t.getItemVisual(i,"opacity");return null!=r&&(o.opacity=r),null!=M&&(v.setTextStyle(o,S,null,{autoColor:A,isRectText:!0}),o.text=S.getShallow("show")?m.retrieve2(e.getFormattedLabel(i,"normal"),t.get(M,i)):null),n&&m.extend(o,n),o}function l(n,i){null==i&&(i=y),a(i);var o=x.getModel(P).getItemStyle();return null!=M&&(v.setTextStyle(o,w,null,{isRectText:!0},!0),o.text=w.getShallow("show")?m.retrieve3(e.getFormattedLabel(i,"emphasis"),e.getFormattedLabel(i,"normal"),t.get(M,i)):null),n&&m.extend(o,n),o}function c(e,n){return null==n&&(n=y),t.getItemVisual(n,e)}function u(e){if(g.getBaseAxis){var t=g.getBaseAxis();return b.getLayoutOnAxis(m.defaults({axis:t},e),i)}}function h(){return n.getCurrentSeriesIndices()}function d(e){return v.getFont(e,n)}var p=e.get("renderItem"),g=e.coordinateSystem,f={};g&&(f=g.prepareCustoms?g.prepareCustoms():O[g.type](g));var y,x,S,w,M,A,T=m.defaults({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:o,style:r,styleEmphasis:l,visual:c,barLayout:u,currentSeriesIndices:h,font:d},f.api||{}),I={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:f.coordSys,dataInsideLength:t.count(),encode:s(e.getData())},E=!0;return function(e){return y=e,E=!0,p&&p(m.defaults({dataIndexInside:e,dataIndex:t.getRawIndex(e)},I),T)||{}}}function s(e){var t={};return m.each(e.dimensions,function(n,i){var a=e.getDimensionInfo(n);if(!a.isExtraCoord){var o=a.coordDim;(t[o]=t[o]||[])[a.coordDimIndex]=i}}),t}function l(e,t,n,i,a,o){(e=c(e,t,n,i,a,o))&&o.setItemGraphicEl(t,e)}function c(e,t,n,o,r,s){var l=n.type;if(!e||l===e.__customGraphicType||"path"===l&&n.pathData===e.__customPathData||"image"===l&&n.style.image===e.__customImagePath||"text"===l&&n.style.text===e.__customText||(r.remove(e),e=null),null!=l){var h=!e;if(!e&&(e=i(n)),a(e,t,n,o,s,h),"group"===l){var d=e.children()||[],p=n.children||[];if(n.diffChildrenByName)u({oldChildren:d,newChildren:p,dataIndex:t,animatableModel:o,group:e,data:s});else{for(var g=0;g<p.length;g++)c(e.childAt(g),t,p[g],o,e,s);for(;g<d.length;g++)d[g]&&e.remove(d[g])}}return r.add(e),e}}function u(e){new S(e.oldChildren,e.newChildren,h,h,e).add(d).update(d).remove(p).execute()}function h(e,t){var n=e&&e.name;return null!=n?n:E+t}function d(e,t){var n=this.context,i=null!=e?n.newChildren[e]:null;c(null!=t?n.oldChildren[t]:null,n.dataIndex,i,n.animatableModel,n.group,n.data)}function p(e){var t=this.context,n=t.oldChildren[e];n&&t.group.remove(n)}var g=n(44),f=(g.__DEV__,n(365)),m=n(2),v=n(73),y=n(806),_=y.findLabelValueDim,x=n(376),b=n(824),S=n(384),w=n(913),M=n(920),A=n(930),T=n(926),I=n(908),D=["itemStyle","normal"],P=["itemStyle","emphasis"],C=["label","normal"],L=["label","emphasis"],E="e\0\0",O={cartesian2d:w,geo:M,singleAxis:A,polar:T,calendar:I};f.extendSeriesModel({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0},getInitialData:function(e,t){return x(e.data,this,t)}}),f.extendChartView({type:"custom",_data:null,render:function(e,t,n){var i=this._data,a=e.getData(),o=this.group,s=r(e,a,t,n);a.diff(i).add(function(t){a.hasValue(t)&&l(null,t,s(t),e,o,a)}).update(function(t,n){var r=i.getItemGraphicEl(n);a.hasValue(t)?l(r,t,s(t),e,o,a):r&&o.remove(r)}).remove(function(e){var t=i.getItemGraphicEl(e);t&&o.remove(t)}).execute(),this._data=a},dispose:m.noop})},838:function(e,t,n){var i=n(365),a=n(2);n(839),n(840);var o=n(795),r=n(803);i.registerVisual(a.curry(o,"effectScatter","circle",null)),i.registerLayout(a.curry(r,"effectScatter"))},839:function(e,t,n){var i=n(376),a=n(375),o=a.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(e,t){return i(e.data,this,t)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});e.exports=o},840:function(e,t,n){var i=n(365),a=n(798),o=n(841),r=i.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new a(o)},render:function(e,t,n){var i=e.getData(),a=this._symbolDraw;a.updateData(i),this.group.add(a.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(t)},dispose:function(){}});e.exports=r},841:function(e,t,n){function i(e){return r.isArray(e)||(e=[+e,+e]),e}function a(e,t){e.eachChild(function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?t.color:null,fill:"fill"===t.brushType?t.color:null}})})}function o(e,t){u.call(this);var n=new p(e,t),i=new u;this.add(n),this.add(i),i.beforeUpdate=function(){this.attr(n.getScale())},this.updateData(e,t)}var r=n(2),s=n(372),l=s.createSymbol,c=n(73),u=c.Group,h=n(28),d=h.parsePercent,p=n(797),g=o.prototype;g.stopEffectAnimation=function(){this.childAt(1).removeAll()},g.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,i=this.childAt(1),o=0;o<3;o++){var r=l(t,-1,-1,2,2,n);r.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var s=-o/3*e.period+e.effectOffset;r.animate("",!0).when(e.period,{scale:[e.rippleScale/2,e.rippleScale/2]}).delay(s).start(),r.animateStyle(!0).when(e.period,{opacity:0}).delay(s).start(),i.add(r)}a(i,e)},g.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale"],o=0;o<i.length;o++){var r=i[o];if(t[r]!==e[r])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}a(n,e)},g.highlight=function(){this.trigger("emphasis")},g.downplay=function(){this.trigger("normal")},g.updateData=function(e,t){var n=e.hostModel;this.childAt(0).updateData(e,t);var a=this.childAt(1),o=e.getItemModel(t),r=e.getItemVisual(t,"symbol"),s=i(e.getItemVisual(t,"symbolSize")),l=e.getItemVisual(t,"color");a.attr("scale",s),a.traverse(function(e){e.attr({fill:l})});var c=o.getShallow("symbolOffset");if(c){var u=a.position;u[0]=d(c[0],s[0]),u[1]=d(c[1],s[1])}a.rotation=(o.getShallow("symbolRotate")||0)*Math.PI/180||0;var h={};if(h.showEffectOn=n.get("showEffectOn"),h.rippleScale=o.get("rippleEffect.scale"),h.brushType=o.get("rippleEffect.brushType"),h.period=1e3*o.get("rippleEffect.period"),h.effectOffset=t/e.count(),h.z=o.getShallow("z")||0,h.zlevel=o.getShallow("zlevel")||0,h.symbolType=r,h.color=l,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===h.showEffectOn)this._effectCfg?this.updateEffectAnimation(h):this.startEffectAnimation(h),this._effectCfg=h;else{this._effectCfg=null,this.stopEffectAnimation();var p=this.childAt(0),g=function(){p.highlight(),"render"!==h.showEffectOn&&this.startEffectAnimation(h)},f=function(){p.downplay(),"render"!==h.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",g,this).on("mouseout",f,this).on("emphasis",g,this).on("normal",f,this)}this._effectCfg=h},g.fadeOut=function(e){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),e&&e()},r.inherits(o,u);var f=o;e.exports=f},842:function(e,t,n){function i(){this.group=new a.Group,this._symbolEl=new s({})}var a=n(73),o=n(372),r=o.createSymbol,s=a.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(e,t){for(var n=t.points,i=t.sizes,a=this.symbolProxy,o=a.shape,r=0;r<n.length;r++){var s=n[r];if(!isNaN(s[0])&&!isNaN(s[1])){var l=i[r];l[0]<4?e.rect(s[0]-l[0]/2,s[1]-l[1]/2,l[0],l[1]):(o.x=s[0]-l[0]/2,o.y=s[1]-l[1]/2,o.width=l[0],o.height=l[1],a.buildPath(e,o,!0))}}},findDataIndex:function(e,t){for(var n=this.shape,i=n.points,a=n.sizes,o=i.length-1;o>=0;o--){var r=i[o],s=a[o],l=r[0]-s[0]/2,c=r[1]-s[1]/2;if(e>=l&&t>=c&&e<=l+s[0]&&t<=c+s[1])return o}return-1}}),l=i.prototype;l.updateData=function(e){this.group.removeAll();var t=this._symbolEl,n=e.hostModel;t.setShape({points:e.mapArray(e.getItemLayout),sizes:e.mapArray(function(t){var n=e.getItemVisual(t,"symbolSize");return n instanceof Array||(n=[n,n]),n})}),t.symbolProxy=r(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor,t.useStyle(n.getModel("itemStyle.normal").getItemStyle(["color"]));var i=e.getVisual("color");i&&t.setColor(i),t.seriesIndex=n.seriesIndex,t.on("mousemove",function(e){t.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>=0&&(t.dataIndex=n)}),this.group.add(t)},l.updateLayout=function(e){var t=e.getData();this._symbolEl.setShape({points:t.mapArray(t.getItemLayout)})},l.remove=function(){this.group.removeAll()};var c=i;e.exports=c},843:function(e,t,n){var i=n(365),a=n(2);n(844),n(845);var o=n(795),r=n(803),s=n(932);n(800),i.registerVisual(a.curry(o,"line","circle","line")),i.registerLayout(a.curry(r,"line")),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,a.curry(s,"line"))},844:function(e,t,n){var i=n(44),a=(i.__DEV__,n(376)),o=n(375),r=o.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(e,t){return a(e.data,this,t)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});e.exports=r},845:function(e,t,n){function i(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++){var i=e[n],a=t[n];if(i[0]!==a[0]||i[1]!==a[1])return}return!0}}function a(e){return"number"==typeof e?e:e?.3:0}function o(e){var t=e.getGlobalExtent();if(e.onBand){var n=e.getBandWidth()/2-1,i=t[1]>t[0]?1:-1;t[0]+=i*n,t[1]-=i*n}return t}function r(e){return e>=0?1:-1}function s(e,t){var n=e.getBaseAxis(),i=e.getOtherAxis(n),a=0;if(!n.onZero){var o=i.scale.getExtent();o[0]>0?a=o[0]:o[1]<0&&(a=o[1])}var s=i.dim,l="x"===s||"radius"===s?1:0;return t.mapArray([s],function(i,o){for(var c,u=t.stackedOn;u&&r(u.get(s,o))===r(i);){c=u;break}var h=[];return h[l]=t.get(n.dim,o),h[1-l]=c?c.get(s,o,!0):a,e.dataToPoint(h)},!0)}function l(e,t,n){var i=o(e.getAxis("x")),a=o(e.getAxis("y")),r=e.getBaseAxis().isHorizontal(),s=Math.min(i[0],i[1]),l=Math.min(a[0],a[1]),c=Math.max(i[0],i[1])-s,u=Math.max(a[0],a[1])-l,h=n.get("lineStyle.normal.width")||2,d=n.get("clipOverflow")?h/2:Math.max(c,u);r?(l-=d,u+=2*d):(s-=d,c+=2*d);var p=new y.Rect({shape:{x:s,y:l,width:c,height:u}});return t&&(p.shape[r?"width":"height"]=0,y.initProps(p,{shape:{width:c,height:u}},n)),p}function c(e,t,n){var i=e.getAngleAxis(),a=e.getRadiusAxis(),o=a.getExtent(),r=i.getExtent(),s=Math.PI/180,l=new y.Sector({shape:{cx:e.cx,cy:e.cy,r0:o[0],r:o[1],startAngle:-r[0]*s,endAngle:-r[1]*s,clockwise:i.inverse}});return t&&(l.shape.endAngle=-r[0]*s,y.initProps(l,{shape:{endAngle:-r[1]*s}},n)),l}function u(e,t,n){return"polar"===e.type?c(e,t,n):l(e,t,n)}function h(e,t,n){for(var i=t.getBaseAxis(),a="x"===i.dim||"radius"===i.dim?0:1,o=[],r=0;r<e.length-1;r++){var s=e[r+1],l=e[r];o.push(l);var c=[];switch(n){case"end":c[a]=s[a],c[1-a]=l[1-a],o.push(c);break;case"middle":var u=(l[a]+s[a])/2,h=[];c[a]=h[a]=u,c[1-a]=l[1-a],h[1-a]=s[1-a],o.push(c),o.push(h);break;default:c[a]=l[a],c[1-a]=s[1-a],o.push(c)}}return e[r]&&o.push(e[r]),o}function d(e,t){var n=e.getVisual("visualMeta");if(n&&n.length&&e.count()){for(var i,a=n.length-1;a>=0;a--)if(n[a].dimension<2){i=n[a];break}if(i&&"cartesian2d"===t.type){var o=i.dimension,r=e.dimensions[o],s=t.getAxis(r),l=g.map(i.stops,function(e){return{coord:s.toGlobalCoord(s.dataToCoord(e.value)),color:e.color}}),c=l.length,u=i.outerColors.slice();c&&l[0].coord>l[c-1].coord&&(l.reverse(),u.reverse());var h=l[0].coord-10,d=l[c-1].coord+10,p=d-h;if(p<.001)return"transparent";g.each(l,function(e){e.offset=(e.coord-h)/p}),l.push({offset:c?l[c-1].offset:.5,color:u[1]||"transparent"}),l.unshift({offset:c?l[0].offset:.5,color:u[0]||"transparent"});var f=new y.LinearGradient(0,0,0,0,l,!0);return f[r]=h,f[r+"2"]=d,f}}}var p=n(44),g=(p.__DEV__,n(2)),f=n(798),m=n(797),v=n(846),y=n(73),_=n(29),x=n(847),b=x.Polyline,S=x.Polygon,w=n(380),M=w.extend({type:"line",init:function(){var e=new y.Group,t=new f;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},render:function(e,t,n){var o=e.coordinateSystem,r=this.group,l=e.getData(),c=e.getModel("lineStyle.normal"),p=e.getModel("areaStyle.normal"),f=l.mapArray(l.getItemLayout,!0),m="polar"===o.type,v=this._coordSys,y=this._symbolDraw,_=this._polyline,x=this._polygon,b=this._lineGroup,S=e.get("animation"),w=!p.isEmpty(),M=s(o,l),A=e.get("showSymbol"),T=A&&!m&&!e.get("showAllSymbol")&&this._getSymbolIgnoreFunc(l,o),I=this._data;I&&I.eachItemGraphicEl(function(e,t){e.__temp&&(r.remove(e),I.setItemGraphicEl(t,null))}),A||y.remove(),r.add(b);var D=!m&&e.get("step");_&&v.type===o.type&&D===this._step?(w&&!x?x=this._newPolygon(f,M,o,S):x&&!w&&(b.remove(x),x=this._polygon=null),b.setClipPath(u(o,!1,e)),A&&y.updateData(l,T),l.eachItemGraphicEl(function(e){e.stopAnimation(!0)}),i(this._stackedOnPoints,M)&&i(this._points,f)||(S?this._updateAnimation(l,M,o,n,D):(D&&(f=h(f,o,D),M=h(M,o,D)),_.setShape({points:f}),x&&x.setShape({points:f,stackedOnPoints:M})))):(A&&y.updateData(l,T),D&&(f=h(f,o,D),M=h(M,o,D)),_=this._newPolyline(f,o,S),w&&(x=this._newPolygon(f,M,o,S)),b.setClipPath(u(o,!0,e)));var P=d(l,o)||l.getVisual("color");_.useStyle(g.defaults(c.getLineStyle(),{fill:"none",stroke:P,lineJoin:"bevel"}));var C=e.get("smooth");if(C=a(e.get("smooth")),_.setShape({smooth:C,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")}),x){var L=l.stackedOn,E=0;if(x.useStyle(g.defaults(p.getAreaStyle(),{fill:P,opacity:.7,lineJoin:"bevel"})),L){E=a(L.hostModel.get("smooth"))}x.setShape({smooth:C,stackedOnSmooth:E,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")})}this._data=l,this._coordSys=o,this._stackedOnPoints=M,this._points=f,this._step=D},dispose:function(){},highlight:function(e,t,n,i){var a=e.getData(),o=_.queryDataIndex(a,i);if(!(o instanceof Array)&&null!=o&&o>=0){var r=a.getItemGraphicEl(o);if(!r){var s=a.getItemLayout(o);if(!s)return;r=new m(a,o),r.position=s,r.setZ(e.get("zlevel"),e.get("z")),r.ignore=isNaN(s[0])||isNaN(s[1]),r.__temp=!0,a.setItemGraphicEl(o,r),r.stopSymbolAnimation(!0),this.group.add(r)}r.highlight()}else w.prototype.highlight.call(this,e,t,n,i)},downplay:function(e,t,n,i){var a=e.getData(),o=_.queryDataIndex(a,i);if(null!=o&&o>=0){var r=a.getItemGraphicEl(o);r&&(r.__temp?(a.setItemGraphicEl(o,null),this.group.remove(r)):r.downplay())}else w.prototype.downplay.call(this,e,t,n,i)},_newPolyline:function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new b({shape:{points:e},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t,t},_newPolygon:function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new S({shape:{points:e,stackedOnPoints:t},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_getSymbolIgnoreFunc:function(e,t){var n=t.getAxesByScale("ordinal")[0];if(n&&n.isLabelIgnored)return g.bind(n.isLabelIgnored,n)},_updateAnimation:function(e,t,n,i,a){var o=this._polyline,r=this._polygon,s=e.hostModel,l=v(this._data,e,this._stackedOnPoints,t,this._coordSys,n),c=l.current,u=l.stackedOnCurrent,d=l.next,p=l.stackedOnNext;a&&(c=h(l.current,n,a),u=h(l.stackedOnCurrent,n,a),d=h(l.next,n,a),p=h(l.stackedOnNext,n,a)),o.shape.__points=l.current,o.shape.points=c,y.updateProps(o,{shape:{points:d}},s),r&&(r.setShape({points:c,stackedOnPoints:u}),y.updateProps(r,{shape:{points:d,stackedOnPoints:p}},s));for(var g=[],f=l.status,m=0;m<f.length;m++){if("="===f[m].cmd){var _=e.getItemGraphicEl(f[m].idx1);_&&g.push({el:_,ptIdx:m})}}o.animators&&o.animators.length&&o.animators[0].during(function(){for(var e=0;e<g.length;e++){g[e].el.attr("position",o.shape.__points[g[e].ptIdx])}})},remove:function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(e,i){e.__temp&&(t.remove(e),n.setItemGraphicEl(i,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});e.exports=M},846:function(e,t){function n(e){return e>=0?1:-1}function i(e,t,i){for(var a,o=e.getBaseAxis(),r=e.getOtherAxis(o),s=o.onZero?0:r.scale.getExtent()[0],l=r.dim,c="x"===l||"radius"===l?1:0,u=t.stackedOn,h=t.get(l,i);u&&n(u.get(l,i))===n(h);){a=u;break}var d=[];return d[c]=t.get(o.dim,i),d[1-c]=a?a.get(l,i,!0):s,e.dataToPoint(d)}function a(e,t){var n=[];return t.diff(e).add(function(e){n.push({cmd:"+",idx:e})}).update(function(e,t){n.push({cmd:"=",idx:t,idx1:e})}).remove(function(e){n.push({cmd:"-",idx:e})}).execute(),n}function o(e,t,n,o,r,s){for(var l=a(e,t),c=[],u=[],h=[],d=[],p=[],g=[],f=[],m=s.dimensions,v=0;v<l.length;v++){var y=l[v],_=!0;switch(y.cmd){case"=":var x=e.getItemLayout(y.idx),b=t.getItemLayout(y.idx1);(isNaN(x[0])||isNaN(x[1]))&&(x=b.slice()),c.push(x),u.push(b),h.push(n[y.idx]),d.push(o[y.idx1]),f.push(t.getRawIndex(y.idx1));break;case"+":var S=y.idx;c.push(r.dataToPoint([t.get(m[0],S,!0),t.get(m[1],S,!0)])),u.push(t.getItemLayout(S).slice()),h.push(i(r,t,S)),d.push(o[S]),f.push(t.getRawIndex(S));break;case"-":var S=y.idx,w=e.getRawIndex(S);w!==S?(c.push(e.getItemLayout(S)),u.push(s.dataToPoint([e.get(m[0],S,!0),e.get(m[1],S,!0)])),h.push(n[S]),d.push(i(s,e,S)),f.push(w)):_=!1}_&&(p.push(y),g.push(g.length))}g.sort(function(e,t){return f[e]-f[t]});for(var M=[],A=[],T=[],I=[],D=[],v=0;v<g.length;v++){var S=g[v];M[v]=c[S],A[v]=u[S],T[v]=h[S],I[v]=d[S],D[v]=p[S]}return{current:M,next:A,stackedOnCurrent:T,stackedOnNext:I,status:D}}e.exports=o},847:function(e,t,n){function i(e){return isNaN(e[0])||isNaN(e[1])}function a(e,t,n,a,o,r,l,m,v,y,_){for(var x=0,b=n,S=0;S<a;S++){var w=t[b];if(b>=o||b<0)break;if(i(w)){if(_){b+=r;continue}break}if(b===n)e[r>0?"moveTo":"lineTo"](w[0],w[1]),d(g,w);else if(v>0){var M=b+r,A=t[M];if(_)for(;A&&i(t[M]);)M+=r,A=t[M];var T=.5,I=t[x],A=t[M];if(!A||i(A))d(f,w);else{i(A)&&!_&&(A=w),s.sub(p,A,I);var D,P;if("x"===y||"y"===y){var C="x"===y?0:1;D=Math.abs(w[C]-I[C]),P=Math.abs(w[C]-A[C])}else D=s.dist(w,I),P=s.dist(w,A);T=P/(P+D),h(f,w,p,-v*(1-T))}c(g,g,m),u(g,g,l),c(f,f,m),u(f,f,l),e.bezierCurveTo(g[0],g[1],f[0],f[1],w[0],w[1]),h(g,w,p,v*T)}else e.lineTo(w[0],w[1]);x=b,b+=r}return S}function o(e,t){var n=[1/0,1/0],i=[-1/0,-1/0];if(t)for(var a=0;a<e.length;a++){var o=e[a];o[0]<n[0]&&(n[0]=o[0]),o[1]<n[1]&&(n[1]=o[1]),o[0]>i[0]&&(i[0]=o[0]),o[1]>i[1]&&(i[1]=o[1])}return{min:t?n:i,max:t?i:n}}var r=n(21),s=n(15),l=n(387),c=s.min,u=s.max,h=s.scaleAndAdd,d=s.copy,p=[],g=[],f=[],m=r.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:l(r.prototype.brush),buildPath:function(e,t){var n=t.points,r=0,s=n.length,l=o(n,t.smoothConstraint);if(t.connectNulls){for(;s>0&&i(n[s-1]);s--);for(;r<s&&i(n[r]);r++);}for(;r<s;)r+=a(e,n,r,s,s,1,l.min,l.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}}),v=r.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:l(r.prototype.brush),buildPath:function(e,t){var n=t.points,r=t.stackedOnPoints,s=0,l=n.length,c=t.smoothMonotone,u=o(n,t.smoothConstraint),h=o(r,t.smoothConstraint);if(t.connectNulls){for(;l>0&&i(n[l-1]);l--);for(;s<l&&i(n[s]);s++);}for(;s<l;){var d=a(e,n,s,l,l,1,u.min,u.max,t.smooth,c,t.connectNulls);a(e,r,s+d-1,d,l,-1,h.min,h.max,t.stackedOnSmooth,c,t.connectNulls),s+=d+1,e.closePath()}}});t.Polyline=m,t.Polygon=v},848:function(e,t,n){var i=n(365);n(849),n(850),n(805),n(794);var a=n(853),o=n(854),r=n(852),s=n(851),l=n(804);i.registerLayout(a),i.registerVisual(o),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,r),i.registerPreprocessor(s),l("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},849:function(e,t,n){var i=n(2),a=n(173),o=n(375),r=n(174),s=n(63),l=s.encodeHTML,c=s.addCommas,u=n(801),h=n(794),d=o.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(e){this._fillOption(e,this.getMapType()),d.superApply(this,"init",arguments),this.updateSelectedMap(e.data)},getInitialData:function(e){var t=r(["value"],e.data||[]),n=new a(t,this);return n.initData(e.data),n},mergeOption:function(e){this._fillOption(e,this.getMapType()),d.superApply(this,"mergeOption",arguments),this.updateSelectedMap(this.option.data)},getHostGeoModel:function(){var e=this.option.geoIndex;return null!=e?this.dependentModels.geo[e]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(e,t){e.data=h.getFilledRegions(e.data,t,e.nameMap)},getRawValue:function(e){return this.getData().get("value",e)},getRegionModel:function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},formatTooltip:function(e){for(var t=this.getData(),n=c(this.getRawValue(e)),i=t.getName(e),a=this.seriesGroup,o=[],r=0;r<a.length;r++){var s=a[r].originalData.indexOfName(i);isNaN(a[r].originalData.get("value",s))||o.push(l(a[r].name))}return o.join(", ")+"<br />"+l(i+" : "+n)},getTooltipPosition:function(e){if(null!=e){var t=this.getData().getName(e),n=this.coordinateSystem,i=n.getRegion(t);return i&&n.dataToPoint(i.center)}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,color:"#000"},emphasis:{show:!0,color:"rgb(100,0,0)"}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}}});i.mixin(d,u);var p=d;e.exports=p},850:function(e,t,n){var i=n(365),a=n(2),o=n(73),r=n(812),s=i.extendChartView({type:"map",render:function(e,t,n,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var a=this.group;if(a.removeAll(),!e.getHostGeoModel()){if(i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===e.id){var o=this._mapDraw;o&&a.add(o.group)}else if(e.needsDrawMap){var o=this._mapDraw||new r(n,!0);a.add(o.group),o.draw(e,t,n,this,i),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(e,t,n){var i=e.originalData,r=this.group;i.each("value",function(t,n){if(!isNaN(t)){var s=i.getItemLayout(n);if(s&&s.point){var l=s.point,c=s.offset,u=new o.Circle({style:{fill:e.getData().getVisual("color")},shape:{cx:l[0]+9*c,cy:l[1],r:3},silent:!0,z2:c?8:10});if(!c){var h=e.mainSeries.getData(),d=i.getName(n),p=h.indexOfName(d),g=i.getItemModel(n),f=g.getModel("label.normal"),m=g.getModel("label.emphasis"),v=h.getItemGraphicEl(p),y=a.retrieve2(e.getFormattedLabel(n,"normal"),d),_=a.retrieve2(e.getFormattedLabel(n,"emphasis"),y),x=function(){var e=o.setTextStyle({},m,{text:m.get("show")?_:null},{isRectText:!0,useInsideStyle:!1},!0);u.style.extendFrom(e),u.__mapOriginalZ2=u.z2,u.z2+=1},b=function(){o.setTextStyle(u.style,f,{text:f.get("show")?y:null,textPosition:f.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),null!=u.__mapOriginalZ2&&(u.z2=u.__mapOriginalZ2,u.__mapOriginalZ2=null)};v.on("mouseover",x).on("mouseout",b).on("emphasis",x).on("normal",b),b()}r.add(u)}}})}});e.exports=s},851:function(e,t,n){function i(e){var t=[];a.each(e.series,function(e){e&&"map"===e.type&&(t.push(e),e.map=e.map||e.mapType,a.defaults(e,e.mapLocation))})}var a=n(2);e.exports=i},852:function(e,t,n){function i(e,t){var n={},i=["value"];return o.each(e,function(e){e.each(i,function(t,i){var a="ec-"+e.getName(i);n[a]=n[a]||[],isNaN(t)||n[a].push(t)})}),e[0].map(i,function(i,a){for(var o="ec-"+e[0].getName(a),r=0,s=1/0,l=-1/0,c=n[o].length,u=0;u<c;u++)s=Math.min(s,n[o][u]),l=Math.max(l,n[o][u]),r+=n[o][u];var h;return h="min"===t?s:"max"===t?l:"average"===t?r/c:r,0===c?NaN:h})}function a(e){var t={};e.eachSeriesByType("map",function(e){var n=e.getHostGeoModel(),i=n?"o"+n.id:"i"+e.getMapType();(t[i]=t[i]||[]).push(e)}),o.each(t,function(e,t){for(var n=i(o.map(e,function(e){return e.getData()}),e[0].get("mapValueCalculation")),a=0;a<e.length;a++)e[a].originalData=e[a].getData();for(var a=0;a<e.length;a++)e[a].seriesGroup=e,e[a].needsDrawMap=0===a&&!e[a].getHostGeoModel(),e[a].setData(n.cloneShallow()),e[a].mainSeries=e[0]})}var o=n(2);e.exports=a},853:function(e,t,n){function i(e){var t={};e.eachSeriesByType("map",function(n){var i=n.getMapType();if(!n.getHostGeoModel()&&!t[i]){var o={};a.each(n.seriesGroup,function(t){var n=t.coordinateSystem,i=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&i.each("value",function(e,t){var a=i.getName(t),r=n.getRegion(a);if(r&&!isNaN(e)){var s=o[a]||0,l=n.dataToPoint(r.center);o[a]=s+1,i.setItemLayout(t,{point:l,offset:s})}})});var r=n.getData();r.each(function(e){var t=r.getName(e),n=r.getItemLayout(e)||{};n.showLabel=!o[t],r.setItemLayout(e,n)}),t[i]=!0}})}var a=n(2);e.exports=i},854:function(e,t){function n(e){e.eachSeriesByType("map",function(e){var t=e.get("color"),n=e.getModel("itemStyle.normal"),i=n.get("areaColor"),a=n.get("color")||t[e.seriesIndex%t.length];e.getData().setVisual({areaColor:i,color:a})})}e.exports=n},855:function(e,t,n){var i=n(365),a=n(2);n(856),n(857);var o=n(804),r=n(826),s=n(859),l=n(825);o("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),i.registerVisual(a.curry(r,"pie")),i.registerLayout(a.curry(s,"pie")),i.registerProcessor(a.curry(l,"pie"))},856:function(e,t,n){var i=n(365),a=n(173),o=n(2),r=n(29),s=n(28),l=s.getPercentWithPrecision,c=n(174),u=n(801),h=i.extendSeriesModel({type:"series.pie",init:function(e){h.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(e.data),this._defaultLabelLine(e)},mergeOption:function(e){h.superCall(this,"mergeOption",e),this.updateSelectedMap(this.option.data)},getInitialData:function(e,t){var n=c(["value"],e.data),i=new a(n,this);return i.initData(e.data),i},getDataParams:function(e){var t=this.getData(),n=h.superCall(this,"getDataParams",e),i=[];return t.each("value",function(e){i.push(e)}),n.percent=l(i,e,t.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},_defaultLabelLine:function(e){r.defaultEmphasis(e.labelLine,["show"]);var t=e.labelLine.normal,n=e.labelLine.emphasis;t.show=t.show&&e.label.normal.show,n.show=n.show&&e.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationType:"expansion",animationEasing:"cubicOut",data:[]}});o.mixin(h,u);var d=h;e.exports=d},857:function(e,t,n){function i(e,t,n,i){var o=t.getData(),r=this.dataIndex,s=o.getName(r),l=t.get("selectedOffset");i.dispatchAction({type:"pieToggleSelect",from:e,name:s,seriesId:t.id}),o.each(function(e){a(o.getItemGraphicEl(e),o.getItemLayout(e),t.isSelected(o.getName(e)),l,n)})}function a(e,t,n,i,a){var o=(t.startAngle+t.endAngle)/2,r=Math.cos(o),s=Math.sin(o),l=n?i:0,c=[r*l,s*l];a?e.animate().when(200,{position:c}).start("bounceOut"):e.attr("position",c)}function o(e,t){function n(){o.ignore=o.hoverIgnore,r.ignore=r.hoverIgnore}function i(){o.ignore=o.normalIgnore,r.ignore=r.normalIgnore}s.Group.call(this);var a=new s.Sector({z2:2}),o=new s.Polyline,r=new s.Text;this.add(a),this.add(o),this.add(r),this.updateData(e,t,!0),this.on("emphasis",n).on("normal",i).on("mouseover",n).on("mouseout",i)}var r=n(2),s=n(73),l=n(380),c=o.prototype;c.updateData=function(e,t,n){function i(){l.stopAnimation(!0),l.animateTo({shape:{r:h.r+c.get("hoverOffset")}},300,"elasticOut")}function o(){l.stopAnimation(!0),l.animateTo({shape:{r:h.r}},300,"elasticOut")}var l=this.childAt(0),c=e.hostModel,u=e.getItemModel(t),h=e.getItemLayout(t),d=r.extend({},h);if(d.label=null,n){l.setShape(d);"scale"===c.getShallow("animationType")?(l.shape.r=h.r0,s.initProps(l,{shape:{r:h.r}},c,t)):(l.shape.endAngle=h.startAngle,s.updateProps(l,{shape:{endAngle:h.endAngle}},c,t))}else s.updateProps(l,{shape:d},c,t);var p=u.getModel("itemStyle"),g=e.getItemVisual(t,"color");l.useStyle(r.defaults({lineJoin:"bevel",fill:g},p.getModel("normal").getItemStyle())),l.hoverStyle=p.getModel("emphasis").getItemStyle();var f=u.getShallow("cursor");f&&l.attr("cursor",f),a(this,e.getItemLayout(t),u.get("selected"),c.get("selectedOffset"),c.get("animation")),l.off("mouseover").off("mouseout").off("emphasis").off("normal"),u.get("hoverAnimation")&&c.isAnimationEnabled()&&l.on("mouseover",i).on("mouseout",o).on("emphasis",i).on("normal",o),this._updateLabel(e,t),s.setHoverStyle(this)},c._updateLabel=function(e,t){var n=this.childAt(1),i=this.childAt(2),a=e.hostModel,o=e.getItemModel(t),r=e.getItemLayout(t),l=r.label,c=e.getItemVisual(t,"color");s.updateProps(n,{shape:{points:l.linePoints||[[l.x,l.y],[l.x,l.y],[l.x,l.y]]}},a,t),s.updateProps(i,{style:{x:l.x,y:l.y}},a,t),i.attr({rotation:l.rotation,origin:[l.x,l.y],z2:10});var u=o.getModel("label.normal"),h=o.getModel("label.emphasis"),d=o.getModel("labelLine.normal"),p=o.getModel("labelLine.emphasis"),c=e.getItemVisual(t,"color");s.setLabelStyle(i.style,i.hoverStyle={},u,h,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:c,useInsideStyle:!!l.inside},{textAlign:l.textAlign,textVerticalAlign:l.verticalAlign,opacity:e.getItemVisual(t,"opacity")}),i.ignore=i.normalIgnore=!u.get("show"),i.hoverIgnore=!h.get("show"),n.ignore=n.normalIgnore=!d.get("show"),n.hoverIgnore=!p.get("show"),n.setStyle({stroke:c,opacity:e.getItemVisual(t,"opacity")}),n.setStyle(d.getModel("lineStyle").getLineStyle()),n.hoverStyle=p.getModel("lineStyle").getLineStyle();var g=d.get("smooth");g&&!0===g&&(g=.4),n.setShape({smooth:g})},r.inherits(o,s.Group);var u=l.extend({type:"pie",init:function(){var e=new s.Group;this._sectorGroup=e},render:function(e,t,n,a){if(!a||a.from!==this.uid){var s=e.getData(),l=this._data,c=this.group,u=t.get("animation"),h=!l,d=e.get("animationType"),p=r.curry(i,this.uid,e,u,n),g=e.get("selectedMode");if(s.diff(l).add(function(e){var t=new o(s,e);h&&"scale"!==d&&t.eachChild(function(e){e.stopAnimation(!0)}),g&&t.on("click",p),s.setItemGraphicEl(e,t),c.add(t)}).update(function(e,t){var n=l.getItemGraphicEl(t);n.updateData(s,e),n.off("click"),g&&n.on("click",p),c.add(n),s.setItemGraphicEl(e,n)}).remove(function(e){var t=l.getItemGraphicEl(e);c.remove(t)}).execute(),u&&h&&s.count()>0&&"scale"!==d){var f=s.getItemLayout(0),m=Math.max(n.getWidth(),n.getHeight())/2,v=r.bind(c.removeClipPath,c);c.setClipPath(this._createClipPath(f.cx,f.cy,m,f.startAngle,f.clockwise,v,e))}this._data=s}},dispose:function(){},_createClipPath:function(e,t,n,i,a,o,r){var l=new s.Sector({shape:{cx:e,cy:t,r0:0,r:n,startAngle:i,endAngle:i,clockwise:a}});return s.initProps(l,{shape:{endAngle:i+(a?1:-1)*Math.PI*2}},r,o),l},containPoint:function(e,t){var n=t.getData(),i=n.getItemLayout(0);if(i){var a=e[0]-i.cx,o=e[1]-i.cy,r=Math.sqrt(a*a+o*o);return r<=i.r&&r>=i.r0}}}),h=u;e.exports=h},858:function(e,t,n){function i(e,t,n,i,a,o,r){function s(t,n){for(var i=t;i>=0&&(e[i].y-=n,!(i>0&&e[i].y>e[i-1].y+e[i-1].height));i--);}function l(e,t,n,i,a,o){for(var r=t?Number.MAX_VALUE:0,s=0,l=e.length;s<l;s++)if("center"!==e[s].position){var c=Math.abs(e[s].y-i),u=e[s].len,h=e[s].len2,d=c<a+u?Math.sqrt((a+u+h)*(a+u+h)-c*c):Math.abs(e[s].x-n);t&&d>=r&&(d=r-10),!t&&d<=r&&(d=r+10),e[s].x=n+d*o,r=d}}e.sort(function(e,t){return e.y-t.y});for(var c,u=0,h=e.length,d=[],p=[],g=0;g<h;g++)c=e[g].y-u,c<0&&function(t,n,i,a){for(var o=t;o<n;o++)if(e[o].y+=i,o>t&&o+1<n&&e[o+1].y>e[o].y+e[o].height)return void s(o,i/2);s(n-1,i/2)}(g,h,-c),u=e[g].y+e[g].height;r-u<0&&s(h-1,u-r);for(var g=0;g<h;g++)e[g].y>=n?p.push(e[g]):d.push(e[g]);l(d,!1,t,n,i,a),l(p,!0,t,n,i,a)}function a(e,t,n,a,o,r){for(var s=[],l=[],c=0;c<e.length;c++)e[c].x<t?s.push(e[c]):l.push(e[c]);i(l,t,n,a,1,o,r),i(s,t,n,a,-1,o,r);for(var c=0;c<e.length;c++){var u=e[c].linePoints;if(u){var h=u[1][0]-u[2][0];e[c].x<t?u[2][0]=e[c].x+3:u[2][0]=e[c].x-3,u[1][1]=u[2][1]=e[c].y,u[1][0]=u[2][0]+h}}}function o(e,t,n,i){var o,s,l=e.getData(),c=[],u=!1;l.each(function(n){var i,a,h,d,p=l.getItemLayout(n),g=l.getItemModel(n),f=g.getModel("label.normal"),m=f.get("position")||g.get("label.emphasis.position"),v=g.getModel("labelLine.normal"),y=v.get("length"),_=v.get("length2"),x=(p.startAngle+p.endAngle)/2,b=Math.cos(x),S=Math.sin(x);o=p.cx,s=p.cy;var w="inside"===m||"inner"===m;if("center"===m)i=p.cx,a=p.cy,d="center";else{var M=(w?(p.r+p.r0)/2*b:p.r*b)+o,A=(w?(p.r+p.r0)/2*S:p.r*S)+s;if(i=M+3*b,a=A+3*S,!w){var T=M+b*(y+t-p.r),I=A+S*(y+t-p.r),D=T+(b<0?-1:1)*_,P=I;i=D+(b<0?-5:5),a=P,h=[[M,A],[T,I],[D,P]]}d=w?"center":b>0?"left":"right"}var C=f.getFont(),L=f.get("rotate")?b<0?-x+Math.PI:-x:0,E=e.getFormattedLabel(n,"normal")||l.getName(n),O=r.getBoundingRect(E,C,d,"top");u=!!L,p.label={x:i,y:a,position:m,height:O.height,len:y,len2:_,linePoints:h,textAlign:d,verticalAlign:"middle",rotation:L,inside:w},w||c.push(p.label)}),!u&&e.get("avoidLabelOverlap")&&a(c,o,s,t,n,i)}var r=n(74);e.exports=o},859:function(e,t,n){function i(e,t,n,i){t.eachSeriesByType(e,function(e){var t=e.get("center"),i=e.get("radius");l.isArray(i)||(i=[0,i]),l.isArray(t)||(t=[t,t]);var a=n.getWidth(),h=n.getHeight(),d=Math.min(a,h),p=o(t[0],a),g=o(t[1],h),f=o(i[0],d/2),m=o(i[1],d/2),v=e.getData(),y=-e.get("startAngle")*u,_=e.get("minAngle")*u,x=0;v.each("value",function(e){!isNaN(e)&&x++});var b=v.getSum("value"),S=Math.PI/(b||x)*2,w=e.get("clockwise"),M=e.get("roseType"),A=e.get("stillShowZeroSum"),T=v.getDataExtent("value");T[0]=0;var I=c,D=0,P=y,C=w?1:-1;if(v.each("value",function(e,t){var n;if(isNaN(e))return void v.setItemLayout(t,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:w,cx:p,cy:g,r0:f,r:M?NaN:m});n="area"!==M?0===b&&A?S:e*S:c/x,n<_?(n=_,I-=_):D+=e;var i=P+C*n;v.setItemLayout(t,{angle:n,startAngle:P,endAngle:i,clockwise:w,cx:p,cy:g,r0:f,r:M?r(e,T,[f,m]):m}),P=i},!0),I<c&&x)if(I<=.001){var L=c/x;v.each("value",function(e,t){if(!isNaN(e)){var n=v.getItemLayout(t);n.angle=L,n.startAngle=y+C*t*L,n.endAngle=y+C*(t+1)*L}})}else S=I/D,P=y,v.each("value",function(e,t){if(!isNaN(e)){var n=v.getItemLayout(t),i=n.angle===_?_:e*S;n.startAngle=P,n.endAngle=P+C*i,P+=C*i}});s(e,m,a,h)})}var a=n(28),o=a.parsePercent,r=a.linearMap,s=n(858),l=n(2),c=2*Math.PI,u=Math.PI/180;e.exports=i},860:function(e,t,n){var i=n(365),a=n(2);n(892),n(861),n(862);var o=n(826),r=n(795),s=n(864),l=n(825),c=n(863);i.registerVisual(a.curry(o,"radar")),i.registerVisual(a.curry(r,"radar","circle",null)),i.registerLayout(s),i.registerProcessor(a.curry(l,"radar")),i.registerPreprocessor(c)},861:function(e,t,n){var i=n(375),a=n(173),o=n(174),r=n(2),s=n(63),l=s.encodeHTML,c=i.extend({type:"series.radar",dependencies:["radar"],init:function(e){c.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(e,t){var n=e.data||[],i=o([],n,{extraPrefix:"indicator_",extraFromZero:!0}),r=new a(i,this);return r.initData(n),r},formatTooltip:function(e){var t=this.getRawValue(e),n=this.coordinateSystem,i=n.getIndicatorAxes(),a=this.getData().getName(e);return l(""===a?this.name:a)+"<br/>"+r.map(i,function(e,n){return l(e.name+" : "+t[n])}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}}),u=c;e.exports=u},862:function(e,t,n){function i(e){return r.isArray(e)||(e=[+e,+e]),e}var a=n(365),o=n(73),r=n(2),s=n(372),l=a.extendChartView({type:"radar",render:function(e,t,n){function a(e,t){var n=e.getItemVisual(t,"symbol")||"circle",a=e.getItemVisual(t,"color");if("none"!==n){var o=i(e.getItemVisual(t,"symbolSize")),r=s.createSymbol(n,-1,-1,2,2,a);return r.attr({style:{strokeNoScale:!0},z2:100,scale:[o[0]/2,o[1]/2]}),r}}function l(t,n,i,r,s,l){i.removeAll();for(var c=0;c<n.length-1;c++){var u=a(r,s);u&&(u.__dimIdx=c,t[c]?(u.attr("position",t[c]),o[l?"initProps":"updateProps"](u,{position:n[c]},e,s)):u.attr("position",n[c]),i.add(u))}}function c(e){return r.map(e,function(e){return[u.cx,u.cy]})}var u=e.coordinateSystem,h=this.group,d=e.getData(),p=this._data;d.diff(p).add(function(t){var n=d.getItemLayout(t);if(n){var i=new o.Polygon,a=new o.Polyline,r={shape:{points:n}};i.shape.points=c(n),a.shape.points=c(n),o.initProps(i,r,e,t),o.initProps(a,r,e,t);var s=new o.Group,u=new o.Group;s.add(a),s.add(i),s.add(u),l(a.shape.points,n,u,d,t,!0),d.setItemGraphicEl(t,s)}}).update(function(t,n){var i=p.getItemGraphicEl(n),a=i.childAt(0),r=i.childAt(1),s=i.childAt(2),c={shape:{points:d.getItemLayout(t)}};c.shape.points&&(l(a.shape.points,c.shape.points,s,d,t,!1),o.updateProps(a,c,e),o.updateProps(r,c,e),d.setItemGraphicEl(t,i))}).remove(function(e){h.remove(p.getItemGraphicEl(e))}).execute(),d.eachItemGraphicEl(function(e,t){function n(){l.attr("ignore",m)}function i(){l.attr("ignore",f)}var a=d.getItemModel(t),s=e.childAt(0),l=e.childAt(1),c=e.childAt(2),u=d.getItemVisual(t,"color");h.add(e),s.useStyle(r.defaults(a.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:u})),s.hoverStyle=a.getModel("lineStyle.emphasis").getLineStyle();var p=a.getModel("areaStyle.normal"),g=a.getModel("areaStyle.emphasis"),f=p.isEmpty()&&p.parentModel.isEmpty(),m=g.isEmpty()&&g.parentModel.isEmpty();m=m&&f,l.ignore=f,l.useStyle(r.defaults(p.getAreaStyle(),{fill:u,opacity:.7})),l.hoverStyle=g.getAreaStyle();var v=a.getModel("itemStyle.normal").getItemStyle(["color"]),y=a.getModel("itemStyle.emphasis").getItemStyle(),_=a.getModel("label.normal"),x=a.getModel("label.emphasis");c.eachChild(function(e){e.setStyle(v),e.hoverStyle=r.clone(y),o.setLabelStyle(e.style,e.hoverStyle,_,x,{labelFetcher:d.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:d.get(d.dimensions[e.__dimIdx],t),autoColor:u,isRectText:!0})}),e.off("mouseover").off("mouseout").off("normal").off("emphasis"),e.on("emphasis",n).on("mouseover",n).on("normal",i).on("mouseout",i),o.setHoverStyle(e)}),this._data=d},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});e.exports=l},863:function(e,t,n){function i(e){var t=e.polar;if(t){a.isArray(t)||(t=[t]);var n=[];a.each(t,function(t,i){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),e.radar=e.radar||[],a.isArray(e.radar)||(e.radar=[e.radar]),e.radar.push(t)):n.push(t)}),e.polar=n}a.each(e.series,function(e){e&&"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)})}var a=n(2);e.exports=i},864:function(e,t){function n(e){e.eachSeriesByType("radar",function(e){function t(e,t){i[t]=i[t]||[],i[t][o]=a.dataToPoint(e,o)}var n=e.getData(),i=[],a=e.coordinateSystem;if(a){for(var o=0;o<a.getIndicatorAxes().length;o++){var r=n.dimensions[o];n.each(r,t)}n.each(function(e){i[e][0]&&i[e].push(i[e][0].slice()),n.setItemLayout(e,i[e])})}})}e.exports=n},865:function(e,t,n){var i=n(365),a=n(2);n(866),n(867);var o=n(795),r=n(803);n(800),i.registerVisual(a.curry(o,"scatter","circle",null)),i.registerLayout(a.curry(r,"scatter"))},866:function(e,t,n){var i=n(376),a=n(375),o=a.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(e,t){return i(e.data,this,t)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{normal:{opacity:.8}}}});e.exports=o},867:function(e,t,n){var i=n(365),a=n(798),o=n(842);i.extendChartView({type:"scatter",init:function(){this._normalSymbolDraw=new a,this._largeSymbolDraw=new o},render:function(e,t,n){var i=e.getData(),a=this._largeSymbolDraw,o=this._normalSymbolDraw,r=this.group,s=e.get("large")&&i.count()>e.get("largeThreshold")?a:o;this._symbolDraw=s,s.updateData(i),r.add(s.group),r.remove(s===a?o.group:a.group)},updateLayout:function(e){this._symbolDraw.updateLayout(e)},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(t,!0)},dispose:function(){}})},868:function(e,t,n){n(802),n(870)},869:function(e,t,n){n(822),n(871)},870:function(e,t,n){function i(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var i=e.coordToPoint([t[0],n]),a=e.coordToPoint([t[1],n]);return{x1:i[0],y1:i[1],x2:a[0],y2:a[1]}}function a(e){return e.getRadiusAxis().inverse?0:1}var o=n(2),r=n(73),s=n(64),l=n(791),c=["axisLine","axisLabel","axisTick","splitLine","splitArea"],u=l.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,i=n.polar,a=i.getRadiusAxis().getExtent(),r=n.getTicksCoords();"category"!==n.type&&r.pop(),o.each(c,function(t){!e.get(t+".show")||n.scale.isBlank()&&"axisLine"!==t||this["_"+t](e,i,r,a)},this)}},_axisLine:function(e,t,n,i){var o=e.getModel("axisLine.lineStyle"),s=new r.Circle({shape:{cx:t.cx,cy:t.cy,r:i[a(t)]},style:o.getLineStyle(),z2:1,silent:!0});s.style.fill=null,this.group.add(s)},_axisTick:function(e,t,n,s){var l=e.getModel("axisTick"),c=(l.get("inside")?-1:1)*l.get("length"),u=s[a(t)],h=o.map(n,function(e){return new r.Line({shape:i(t,[u,u+c],e)})});this.group.add(r.mergePath(h,{style:o.defaults(l.getModel("lineStyle").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})}))},_axisLabel:function(e,t,n,i){for(var o=e.axis,l=e.get("data"),c=e.getModel("axisLabel"),u=e.getFormattedLabels(),h=c.get("margin"),d=o.getLabelsCoords(),p=0;p<n.length;p++){var g=i[a(t)],f=t.coordToPoint([g+h,d[p]]),m=t.cx,v=t.cy,y=Math.abs(f[0]-m)/g<.3?"center":f[0]>m?"left":"right",_=Math.abs(f[1]-v)/g<.3?"middle":f[1]>v?"top":"bottom";l&&l[p]&&l[p].textStyle&&(c=new s(l[p].textStyle,c,c.ecModel));var x=new r.Text({silent:!0});this.group.add(x),r.setTextStyle(x.style,c,{x:f[0],y:f[1],textFill:c.getTextColor()||e.get("axisLine.lineStyle.color"),text:u[p],textAlign:y,textVerticalAlign:_})}},_splitLine:function(e,t,n,a){var s=e.getModel("splitLine"),l=s.getModel("lineStyle"),c=l.get("color"),u=0;c=c instanceof Array?c:[c];for(var h=[],d=0;d<n.length;d++){var p=u++%c.length;h[p]=h[p]||[],h[p].push(new r.Line({shape:i(t,a,n[d])}))}for(var d=0;d<h.length;d++)this.group.add(r.mergePath(h[d],{style:o.defaults({stroke:c[d%c.length]},l.getLineStyle()),silent:!0,z:e.get("z")}))},_splitArea:function(e,t,n,i){var a=e.getModel("splitArea"),s=a.getModel("areaStyle"),l=s.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],h=Math.PI/180,d=-n[0]*h,p=Math.min(i[0],i[1]),g=Math.max(i[0],i[1]),f=e.get("clockwise"),m=1;m<n.length;m++){var v=c++%l.length;u[v]=u[v]||[],u[v].push(new r.Sector({shape:{cx:t.cx,cy:t.cy,r0:p,r:g,startAngle:d,endAngle:-n[m]*h,clockwise:f},silent:!0})),d=-n[m]*h}for(var m=0;m<u.length;m++)this.group.add(r.mergePath(u[m],{style:o.defaults({fill:l[m%l.length]},s.getAreaStyle()),silent:!0}))}});e.exports=u},871:function(e,t,n){var i=n(2),a=n(73),o=n(790),r=n(791),s=n(807),l=o.ifIgnoreOnTick,c=o.getInterval,u=["axisLine","axisTickLabel","axisName"],h=["splitArea","splitLine"],d=r.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(e,t,n,r){this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new a.Group,this.group.add(this._axisGroup),e.get("show")){var c=e.getCoordSysModel(),p=s.layout(c,e),g=new o(e,p);i.each(u,g.add,g),this._axisGroup.add(g.getGroup()),i.each(h,function(t){e.get(t+".show")&&this["_"+t](e,c,p.labelInterval)},this),a.groupTransition(l,this._axisGroup,e),d.superCall(this,"render",e,t,n,r)}},_splitLine:function(e,t,n){var o=e.axis;if(!o.scale.isBlank()){var r=e.getModel("splitLine"),s=r.getModel("lineStyle"),u=s.get("color"),h=c(r,n);u=i.isArray(u)?u:[u];for(var d=t.coordinateSystem.getRect(),p=o.isHorizontal(),g=0,f=o.getTicksCoords(),m=o.scale.getTicks(),v=e.get("axisLabel.showMinLabel"),y=e.get("axisLabel.showMaxLabel"),_=[],x=[],b=s.getLineStyle(),S=0;S<f.length;S++)if(!l(o,S,h,f.length,v,y)){var w=o.toGlobalCoord(f[S]);p?(_[0]=w,_[1]=d.y,x[0]=w,x[1]=d.y+d.height):(_[0]=d.x,_[1]=w,x[0]=d.x+d.width,x[1]=w);var M=g++%u.length;this._axisGroup.add(new a.Line(a.subPixelOptimizeLine({anid:"line_"+m[S],shape:{x1:_[0],y1:_[1],x2:x[0],y2:x[1]},style:i.defaults({stroke:u[M]},b),silent:!0})))}}},_splitArea:function(e,t,n){var o=e.axis;if(!o.scale.isBlank()){var r=e.getModel("splitArea"),s=r.getModel("areaStyle"),u=s.get("color"),h=t.coordinateSystem.getRect(),d=o.getTicksCoords(),p=o.scale.getTicks(),g=o.toGlobalCoord(d[0]),f=o.toGlobalCoord(d[0]),m=0,v=c(r,n),y=s.getAreaStyle();u=i.isArray(u)?u:[u];for(var _=e.get("axisLabel.showMinLabel"),x=e.get("axisLabel.showMaxLabel"),b=1;b<d.length;b++)if(!l(o,b,v,d.length,_,x)){var S,w,M,A,T=o.toGlobalCoord(d[b]);o.isHorizontal()?(S=g,w=h.y,M=T-S,A=h.height):(S=h.x,w=f,M=h.width,A=T-w);var I=m++%u.length;this._axisGroup.add(new a.Rect({anid:"area_"+p[b],shape:{x:S,y:w,width:M,height:A},style:i.defaults({fill:u[I]},y),silent:!0})),g=S+M,f=w+A}}}});d.extend({type:"xAxis"}),d.extend({type:"yAxis"})},872:function(e,t,n){function i(e,t,n){return{position:[e.cx,e.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}var a=n(2),o=n(73),r=n(790),s=n(791),l=["axisLine","axisTickLabel","axisName"],c=["splitLine","splitArea"],u=s.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,o=n.polar,s=o.getAngleAxis(),u=n.getTicksCoords(),h=s.getExtent()[0],d=n.getExtent(),p=i(o,e,h),g=new r(e,p);a.each(l,g.add,g),this.group.add(g.getGroup()),a.each(c,function(t){e.get(t+".show")&&!n.scale.isBlank()&&this["_"+t](e,o,h,d,u)},this)}},_splitLine:function(e,t,n,i,r){var s=e.getModel("splitLine"),l=s.getModel("lineStyle"),c=l.get("color"),u=0;c=c instanceof Array?c:[c];for(var h=[],d=0;d<r.length;d++){var p=u++%c.length;h[p]=h[p]||[],h[p].push(new o.Circle({shape:{cx:t.cx,cy:t.cy,r:r[d]},silent:!0}))}for(var d=0;d<h.length;d++)this.group.add(o.mergePath(h[d],{style:a.defaults({stroke:c[d%c.length],fill:null},l.getLineStyle()),silent:!0}))},_splitArea:function(e,t,n,i,r){var s=e.getModel("splitArea"),l=s.getModel("areaStyle"),c=l.get("color"),u=0;c=c instanceof Array?c:[c];for(var h=[],d=r[0],p=1;p<r.length;p++){var g=u++%c.length;h[g]=h[g]||[],h[g].push(new o.Sector({shape:{cx:t.cx,cy:t.cy,r0:d,r:r[p],startAngle:0,endAngle:2*Math.PI},silent:!0})),d=r[p]}for(var p=0;p<h.length;p++)this.group.add(o.mergePath(h[p],{style:a.defaults({fill:c[p%c.length]},l.getAreaStyle()),silent:!0}))}});e.exports=u},873:function(e,t,n){var i=n(365),a=i.extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),o=a;e.exports=o},874:function(e,t,n){var i=n(365),a=n(811),o=i.extendComponentView({type:"axisPointer",render:function(e,t,n){var i=t.getComponent("tooltip"),o=e.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";a.register("axisPointer",n,function(e,t,n){"none"!==o&&("leave"===e||o.indexOf(e)>=0)&&n({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})})},remove:function(e,t){a.unregister(t.getZr(),"axisPointer"),o.superApply(this._model,"remove",arguments)},dispose:function(e,t){a.unregister("axisPointer",t),o.superApply(this._model,"dispose",arguments)}}),r=o;e.exports=r},875:function(e,t,n){function i(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}function a(e){return"x"===e.dim?0:1}var o=n(73),r=n(809),s=n(799),l=n(807),c=n(791),u=r.extend({makeElOption:function(e,t,n,a,o){var r=n.axis,c=r.grid,u=a.get("type"),d=i(c,r).getOtherAxis(r).getGlobalExtent(),p=r.toGlobalCoord(r.dataToCoord(t,!0));if(u&&"none"!==u){var g=s.buildElStyle(a),f=h[u](r,p,d,g);f.style=g,e.graphicKey=f.type,e.pointer=f}var m=l.layout(c.model,n);s.buildCartesianSingleLabelElOption(t,e,m,n,a,o)},getHandleTransform:function(e,t,n){var i=l.layout(t.axis.grid.model,t,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:s.getTransformedPosition(t.axis,e,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,a){var o=n.axis,r=o.grid,s=o.getGlobalExtent(!0),l=i(r,o).getOtherAxis(o).getGlobalExtent(),c="x"===o.dim?0:1,u=e.position;u[c]+=t[c],u[c]=Math.min(s[1],u[c]),u[c]=Math.max(s[0],u[c]);var h=(l[1]+l[0])/2,d=[h,h];d[c]=u[c];var p=[{verticalAlign:"middle"},{align:"center"}];return{position:u,rotation:e.rotation,cursorPoint:d,tooltipOption:p[c]}}}),h={line:function(e,t,n,i){var r=s.makeLineShape([t,n[0]],[t,n[1]],a(e));return o.subPixelOptimizeLine({shape:r,style:i}),{type:"Line",shape:r}},shadow:function(e,t,n,i){var o=e.getBandWidth(),r=n[1]-n[0];return{type:"Rect",shape:s.makeRectShape([t-o/2,n[0]],[o,r],a(e))}}};c.registerAxisPointerClass("CartesianAxisPointer",u);var d=u;e.exports=d},876:function(e,t,n){function i(e,t,n,i,a){var o=t.axis,s=o.dataToCoord(e),u=i.getAngleAxis().getExtent()[0];u=u/180*Math.PI;var h,d,p,g=i.getRadiusAxis().getExtent();if("radius"===o.dim){var f=l.create();l.rotate(f,f,u),l.translate(f,f,[i.cx,i.cy]),h=r.applyTransform([s,-a],f);var m=t.getModel("axisLabel").get("rotate")||0,v=c.innerTextLayout(u,m*Math.PI/180,-1);d=v.textAlign,p=v.textVerticalAlign}else{var y=g[1];h=i.coordToPoint([y+a,s]);var _=i.cx,x=i.cy;d=Math.abs(h[0]-_)/y<.3?"center":h[0]>_?"left":"right",p=Math.abs(h[1]-x)/y<.3?"middle":h[1]>x?"top":"bottom"}return{position:h,align:d,verticalAlign:p}}var a=n(63),o=n(809),r=n(73),s=n(799),l=n(85),c=n(790),u=n(791),h=o.extend({makeElOption:function(e,t,n,o,r){var l=n.axis;"angle"===l.dim&&(this.animationThreshold=Math.PI/18);var c,u=l.polar,h=u.getOtherAxis(l),p=h.getExtent();c=l["dataTo"+a.capitalFirst(l.dim)](t);var g=o.get("type");if(g&&"none"!==g){var f=s.buildElStyle(o),m=d[g](l,u,c,p,f);m.style=f,e.graphicKey=m.type,e.pointer=m}var v=o.get("label.margin"),y=i(t,n,o,u,v);s.buildLabelElOption(e,n,o,r,y)}}),d={line:function(e,t,n,i,a){return"angle"===e.dim?{type:"Line",shape:s.makeLineShape(t.coordToPoint([i[0],n]),t.coordToPoint([i[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,i,a){var o=e.getBandWidth(),r=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:s.makeSectorShape(t.cx,t.cy,i[0],i[1],(-n-o/2)*r,(o/2-n)*r)}:{type:"Sector",shape:s.makeSectorShape(t.cx,t.cy,n-o/2,n+o/2,0,2*Math.PI)}}};u.registerAxisPointerClass("PolarAxisPointer",h);var p=h;e.exports=p},877:function(e,t,n){function i(e,t,n){var i=e.currTrigger,o=[e.x,e.y],f=e,m=e.dispatchAction||g.bind(n.dispatchAction,n),x=t.getComponent("axisPointer").coordSysAxesInfo;if(x){p(o)&&(o=v({seriesIndex:f.seriesIndex,dataIndex:f.dataIndex},t).point);var b=p(o),S=f.axesInfo,w=x.axesInfo,M="leave"===i||p(o),A={},T={},I={list:[],map:{}},D={showPointer:_(r,T),showTooltip:_(s,I)};y(x.coordSysMap,function(e,t){var n=b||e.containPoint(o);y(x.coordSysAxesInfo[t],function(e,t){var i=e.axis,r=h(S,e);if(!M&&n&&(!S||r)){var s=r&&r.value;null!=s||b||(s=i.pointToData(o)),null!=s&&a(e,s,D,!1,A)}})});var P={};return y(w,function(e,t){var n=e.linkGroup;n&&!T[t]&&y(n.axesInfo,function(t,i){var a=T[i];if(t!==e&&a){var o=a.value;n.mapper&&(o=e.axis.scale.parse(n.mapper(o,d(t),d(e)))),P[e.key]=o}})}),y(P,function(e,t){a(w[t],e,D,!0,A)}),l(T,w,A),c(I,o,e,m),u(w,m,n),A}}function a(e,t,n,i,a){var r=e.axis;if(!r.scale.isBlank()&&r.containData(t)){if(!e.involveSeries)return void n.showPointer(e,t);var s=o(t,e),l=s.payloadBatch,c=s.snapToValue;l[0]&&null==a.seriesIndex&&g.extend(a,l[0]),!i&&e.snap&&r.containData(c)&&null!=c&&(t=c),n.showPointer(e,t,l,a),n.showTooltip(e,s,c)}}function o(e,t){var n=t.axis,i=n.dim,a=e,o=[],r=Number.MAX_VALUE,s=-1;return y(t.seriesModels,function(t,l){var c,u,h=t.coordDimToDataDim(i);if(t.getAxisTooltipData){var d=t.getAxisTooltipData(h,e,n);u=d.dataIndices,c=d.nestestValue}else{if(u=t.getData().indicesOfNearest(h[0],e,!1,"category"===n.type?.5:null),!u.length)return;c=t.getData().get(h[0],u[0])}if(null!=c&&isFinite(c)){var p=e-c,g=Math.abs(p);g<=r&&((g<r||p>=0&&s<0)&&(r=g,s=p,a=c,o.length=0),y(u,function(e){o.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})}))}}),{payloadBatch:o,snapToValue:a}}function r(e,t,n,i){e[t.key]={value:n,payloadBatch:i}}function s(e,t,n,i){var a=n.payloadBatch,o=t.axis,r=o.model,s=t.axisPointerModel;if(t.triggerTooltip&&a.length){var l=t.coordSys.model,c=m.makeKey(l),u=e.map[c];u||(u=e.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(u)),u.dataByAxis.push({axisDim:o.dim,axisIndex:r.componentIndex,axisType:r.type,axisId:r.id,value:i,valueLabelOpt:{precision:s.get("label.precision"),formatter:s.get("label.formatter")},seriesDataIndices:a.slice()})}}function l(e,t,n){var i=n.axesInfo=[];y(t,function(t,n){var a=t.axisPointerModel.option,o=e[n];o?(!t.useHandle&&(a.status="show"),a.value=o.value,a.seriesDataIndices=(o.payloadBatch||[]).slice()):!t.useHandle&&(a.status="hide"),"show"===a.status&&i.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:a.value})})}function c(e,t,n,i){if(p(t)||!e.list.length)return void i({type:"hideTip"});var a=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:e.list})}function u(e,t,n){var i=n.getZr(),a=x(i).axisPointerLastHighlights||{},o=x(i).axisPointerLastHighlights={};y(e,function(e,t){var n=e.axisPointerModel.option;"show"===n.status&&y(n.seriesDataIndices,function(e){var t=e.seriesIndex+" | "+e.dataIndex;o[t]=e})});var r=[],s=[];g.each(a,function(e,t){!o[t]&&s.push(e)}),g.each(o,function(e,t){!a[t]&&r.push(e)}),s.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,batch:s}),r.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,batch:r})}function h(e,t){for(var n=0;n<(e||[]).length;n++){var i=e[n];if(t.axis.dim===i.axisDim&&t.axis.model.componentIndex===i.axisIndex)return i}}function d(e){var t=e.axis.model,n={},i=n.axisDim=e.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=t.componentIndex,n.axisName=n[i+"AxisName"]=t.name,n.axisId=n[i+"AxisId"]=t.id,n}function p(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}var g=n(2),f=n(29),m=n(793),v=n(810),y=g.each,_=g.curry,x=f.makeGetter();e.exports=i},878:function(e,t,n){function i(e,t){t.update="updateView",a.registerAction(t,function(t,n){var i={};return n.eachComponent({mainType:"geo",query:t},function(n){n[e](t.name);var a=n.coordinateSystem;o.each(a.regions,function(e){i[e.name]=n.isSelected(e.name)||!1})}),{selected:i,name:t.name}})}var a=n(365),o=n(2);n(915),n(794),n(879),n(805),i("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),i("select",{type:"geoSelect",event:"geoselected"}),i("unSelect",{type:"geoUnSelect",event:"geounselected"})},879:function(e,t,n){var i=n(812),a=n(365),o=a.extendComponentView({type:"geo",init:function(e,t){var n=new i(t,!0);this._mapDraw=n,this.group.add(n.group)},render:function(e,t,n,i){if(!i||"geoToggleSelect"!==i.type||i.from!==this.uid){var a=this._mapDraw;e.get("show")?a.draw(e,t,n,this,i):this._mapDraw.group.removeAll(),this.group.silent=e.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});e.exports=o},880:function(e,t,n){function i(e){this.pointerChecker,this._zr=e,this._opt={};var t=h.bind,n=t(a,this),i=t(o,this),c=t(r,this),u=t(s,this),p=t(l,this);d.call(this),this.setPointerChecker=function(e){this.pointerChecker=e},this.enable=function(t,a){this.disable(),this._opt=h.defaults(h.clone(a)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",n),e.on("mousemove",i),e.on("mouseup",c)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",u),e.on("pinch",p))},this.disable=function(){e.off("mousedown",n),e.off("mousemove",i),e.off("mouseup",c),e.off("mousewheel",u),e.off("pinch",p)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function a(e){if(!(p.notLeftMouse(e)||e.target&&e.target.draggable)){var t=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,n)&&(this._x=t,this._y=n,this._dragging=!0)}}function o(e){if(!p.notLeftMouse(e)&&u(this,"moveOnMouseMove",e)&&this._dragging&&"pinch"!==e.gestureEvent&&!g.isTaken(this._zr,"globalPan")){var t=e.offsetX,n=e.offsetY,i=this._x,a=this._y,o=t-i,r=n-a;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&p.stop(e.event),this.trigger("pan",o,r,i,a,t,n)}}function r(e){p.notLeftMouse(e)||(this._dragging=!1)}function s(e){if(u(this,"zoomOnMouseWheel",e)&&0!==e.wheelDelta){var t=e.wheelDelta>0?1.1:1/1.1;c.call(this,e,t,e.offsetX,e.offsetY)}}function l(e){if(!g.isTaken(this._zr,"globalPan")){var t=e.pinchScale>1?1.1:1/1.1;c.call(this,e,t,e.pinchX,e.pinchY)}}function c(e,t,n,i){this.pointerChecker&&this.pointerChecker(e,n,i)&&(p.stop(e.event),this.trigger("zoom",t,n,i))}function u(e,t,n){var i=e._opt[t];return i&&(!h.isString(i)||n.event[i+"Key"])}var h=n(2),d=n(76),p=n(116),g=n(882);h.mixin(i,d);var f=i;e.exports=f},881:function(e,t){function n(e,t,n){var a=t.getComponentByElement(e.topTarget),o=a&&a.coordinateSystem;return a&&a!==n&&!i[a.mainType]&&o&&o.model!==n}var i={axisPointer:1,tooltip:1,brush:1};t.onIrrelevantElement=n},882:function(e,t,n){function i(e,t,n){r(e)[t]=n}function a(e,t,n){var i=r(e);i[t]===n&&(i[t]=null)}function o(e,t){return!!r(e)[t]}function r(e){return e[l]||(e[l]={})}var s=n(365),l="\0_ec_interaction_mutex";s.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),t.take=i,t.release=a,t.isTaken=o},883:function(e,t,n){function i(e,t,n){var i=t.getBoxLayoutParams(),a=t.get("padding"),o={width:n.getWidth(),height:n.getHeight()},c=r(i,o,a);s(t.get("orient"),e,t.get("itemGap"),c.width,c.height),l(e,i,o,a)}function a(e,t){var n=c.normalizeCssArray(t.get("padding")),i=t.getItemStyle(["color","opacity"]);i.fill=t.get("backgroundColor");var e=new u.Rect({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:i,silent:!0,z2:-1});return e}var o=n(169),r=o.getLayoutRect,s=o.box,l=o.positionElement,c=n(63),u=n(73);t.layout=i,t.makeBackground=a},884:function(e,t){function n(e,t,n){var i=e.target,a=i.position;a[0]+=t,a[1]+=n,i.dirty()}function i(e,t,n,i){var a=e.target,o=e.zoomLimit,r=a.position,s=a.scale,l=e.zoom=e.zoom||1;if(l*=t,o){var c=o.min||0,u=o.max||1/0;l=Math.max(Math.min(u,l),c)}var h=l/e.zoom;e.zoom=l,r[0]-=(n-r[0])*(h-1),r[1]-=(i-r[1])*(h-1),s[0]*=h,s[1]*=h,a.dirty()}t.updateViewOnPan=n,t.updateViewOnZoom=i},885:function(e,t){function n(e,t,n,o,r,s){t[0]=a(t[0],n),t[1]=a(t[1],n),e=e||0;var l=n[1]-n[0];null!=r&&(r=a(r,[0,l])),null!=s&&(s=Math.max(s,null!=r?r:0)),"all"===o&&(r=s=Math.abs(t[1]-t[0]),o=0);var c=i(t,o);t[o]+=e;var u=r||0,h=n.slice();c.sign<0?h[0]+=u:h[1]-=u,t[o]=a(t[o],h);var d=i(t,o);null!=r&&(d.sign!==c.sign||d.span<r)&&(t[1-o]=t[o]+c.sign*r);var d=i(t,o);return null!=s&&d.span>s&&(t[1-o]=t[o]+d.sign*s),t}function i(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function a(e,t){return Math.min(t[1],Math.max(t[0],e))}e.exports=n},886:function(e,t,n){var i=n(365);n(887),n(889),n(888);var a=n(890),o=n(84);i.registerProcessor(a),o.registerSubTypeDefaulter("legend",function(){return"plain"})},887:function(e,t,n){var i=n(365),a=n(2),o=n(64),r=i.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{}},mergeOption:function(e){r.superCall(this,"mergeOption",e)},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,n=0;n<e.length;n++){var i=e[n].get("name");if(this.isSelected(i)){this.select(i),t=!0;break}}!t&&this.select(e[0].get("name"))}},_updateData:function(e){var t=a.map(this.get("data")||[],function(e){return"string"!=typeof e&&"number"!=typeof e||(e={name:e}),new o(e,this,this.ecModel)},this);this._data=t;var n=a.map(e.getSeries(),function(e){return e.name});e.eachSeries(function(e){if(e.legendDataProvider){var t=e.legendDataProvider();n=n.concat(t.mapArray(t.getName))}}),this._availableNames=n},getData:function(){return this._data},select:function(e){var t=this.option.selected;if("single"===this.get("selectedMode")){var n=this._data;a.each(n,function(e){t[e.get("name")]=!1})}t[e]=!0},unSelect:function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},toggleSelected:function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},isSelected:function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&a.indexOf(this._availableNames,e)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}}),s=r;e.exports=s},888:function(e,t,n){function i(e,t){t.dispatchAction({type:"legendToggleSelect",name:e})}function a(e,t,n){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||e.get("legendHoverLink")&&n.dispatchAction({type:"highlight",seriesName:e.name,name:t})}function o(e,t,n){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||e.get("legendHoverLink")&&n.dispatchAction({type:"downplay",seriesName:e.name,name:t})}var r=n(44),s=(r.__DEV__,n(365)),l=n(2),c=n(372),u=c.createSymbol,h=n(73),d=n(883),p=d.makeBackground,g=n(169),f=l.curry,m=l.each,v=h.Group,y=s.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new v),this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(e,t,n){if(this.resetInner(),e.get("show",!0)){var i=e.get("align");i&&"auto"!==i||(i="right"===e.get("left")&&"vertical"===e.get("orient")?"right":"left"),this.renderInner(i,e,t,n);var a=e.getBoxLayoutParams(),o={width:n.getWidth(),height:n.getHeight()},r=e.get("padding"),s=g.getLayoutRect(a,o,r),c=this.layoutInner(e,i,s),u=g.getLayoutRect(l.defaults({width:c.width,height:c.height},a),o,r);this.group.attr("position",[u.x-c.x,u.y-c.y]),this.group.add(this._backgroundEl=p(c,e))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(e,t,n,r){var s=this.getContentGroup(),c=l.createHashMap(),u=t.get("selectedMode");m(t.getData(),function(l,h){var d=l.get("name");if(!this.newlineDisabled&&(""===d||"\n"===d))return void s.add(new v({newline:!0}));var p=n.getSeriesByName(d)[0];if(!c.get(d))if(p){var g=p.getData(),m=g.getVisual("color");"function"==typeof m&&(m=m(p.getDataParams(0)));var y=g.getVisual("legendSymbol")||"roundRect",_=g.getVisual("symbol"),x=this._createItem(d,h,l,t,y,_,e,m,u);x.on("click",f(i,d,r)).on("mouseover",f(a,p,null,r)).on("mouseout",f(o,p,null,r)),c.set(d,!0)}else n.eachRawSeries(function(n){if(!c.get(d)&&n.legendDataProvider){var s=n.legendDataProvider(),p=s.indexOfName(d);if(p<0)return;var g=s.getItemVisual(p,"color");this._createItem(d,h,l,t,"roundRect",null,e,g,u).on("click",f(i,d,r)).on("mouseover",f(a,n,d,r)).on("mouseout",f(o,n,d,r)),c.set(d,!0)}},this)},this)},_createItem:function(e,t,n,i,a,o,r,s,c){var d=i.get("itemWidth"),p=i.get("itemHeight"),g=i.get("inactiveColor"),f=i.isSelected(e),m=new v,y=n.getModel("textStyle"),_=n.get("icon"),x=n.getModel("tooltip"),b=x.parentModel;if(a=_||a,m.add(u(a,0,0,d,p,f?s:g,!0)),!_&&o&&(o!==a||"none"==o)){var S=.8*p;"none"===o&&(o="circle"),m.add(u(o,(d-S)/2,(p-S)/2,S,S,f?s:g))}var w="left"===r?d+5:-5,M=r,A=i.get("formatter"),T=e;"string"==typeof A&&A?T=A.replace("{name}",null!=e?e:""):"function"==typeof A&&(T=A(e)),m.add(new h.Text({style:h.setTextStyle({},y,{text:T,x:w,y:p/2,textFill:f?y.getTextColor():g,textAlign:M,textVerticalAlign:"middle"})}));var I=new h.Rect({shape:m.getBoundingRect(),invisible:!0,tooltip:x.get("show")?l.extend({content:e,formatter:b.get("formatter",!0)||function(){return e},formatterParams:{componentType:"legend",legendIndex:i.componentIndex,name:e,$vars:["name"]}},x.option):null});return m.add(I),m.eachChild(function(e){e.silent=!0}),I.silent=!c,this.getContentGroup().add(m),h.setHoverStyle(m),m.__legendDataIndex=t,m},layoutInner:function(e,t,n){var i=this.getContentGroup();g.box(e.get("orient"),i,e.get("itemGap"),n.width,n.height);var a=i.getBoundingRect();return i.attr("position",[-a.x,-a.y]),this.group.getBoundingRect()}});e.exports=y},889:function(e,t,n){function i(e,t,n){var i,a={},r="toggleSelected"===e;return n.eachComponent("legend",function(n){r&&null!=i?n[i?"select":"unSelect"](t.name):(n[e](t.name),i=n.isSelected(t.name));var s=n.getData();o.each(s,function(e){var t=e.get("name");if("\n"!==t&&""!==t){var i=n.isSelected(t);a.hasOwnProperty(t)?a[t]=a[t]&&i:a[t]=i}})}),{name:t.name,selected:a}}var a=n(365),o=n(2);a.registerAction("legendToggleSelect","legendselectchanged",o.curry(i,"toggleSelected")),a.registerAction("legendSelect","legendselected",o.curry(i,"select")),a.registerAction("legendUnSelect","legendunselected",o.curry(i,"unSelect"))},890:function(e,t){function n(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0})}e.exports=n},891:function(e,t,n){var i=n(365),a=n(2),o=n(931);n(802),n(868),n(894),n(808),n(876),i.registerLayout(a.curry(o,"bar")),i.extendComponentView({type:"polar"})},892:function(e,t,n){n(928),n(929),n(893)},893:function(e,t,n){var i=n(44),a=(i.__DEV__,n(365)),o=n(2),r=n(790),s=n(73),l=["axisLine","axisTickLabel","axisName"],c=a.extendComponentView({type:"radar",render:function(e,t,n){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},_buildAxes:function(e){var t=e.coordinateSystem,n=t.getIndicatorAxes(),i=o.map(n,function(e){return new r(e.model,{position:[t.cx,t.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});o.each(i,function(e){o.each(l,e.add,e),this.group.add(e.getGroup())},this)},_buildSplitLineAndArea:function(e){function t(e,t,n){var i=n%t.length;return e[i]=e[i]||[],i}var n=e.coordinateSystem,i=n.getIndicatorAxes();if(i.length){var a=e.get("shape"),r=e.getModel("splitLine"),l=e.getModel("splitArea"),c=r.getModel("lineStyle"),u=l.getModel("areaStyle"),h=r.get("show"),d=l.get("show"),p=c.get("color"),g=u.get("color");p=o.isArray(p)?p:[p],g=o.isArray(g)?g:[g];var f=[],m=[];if("circle"===a)for(var v=i[0].getTicksCoords(),y=n.cx,_=n.cy,x=0;x<v.length;x++){if(h){var b=t(f,p,x);f[b].push(new s.Circle({shape:{cx:y,cy:_,r:v[x]}}))}if(d&&x<v.length-1){var b=t(m,g,x);m[b].push(new s.Ring({shape:{cx:y,cy:_,r0:v[x],r:v[x+1]}}))}}else for(var S,w=o.map(i,function(e,t){var i=e.getTicksCoords();return S=null==S?i.length-1:Math.min(i.length-1,S),o.map(i,function(e){return n.coordToPoint(e,t)})}),M=[],x=0;x<=S;x++){for(var A=[],T=0;T<i.length;T++)A.push(w[T][x]);if(A[0]&&A.push(A[0].slice()),h){var b=t(f,p,x);f[b].push(new s.Polyline({shape:{points:A}}))}if(d&&M){var b=t(m,g,x-1);m[b].push(new s.Polygon({shape:{points:A.concat(M)}}))}M=A.slice().reverse()}var I=c.getLineStyle(),D=u.getAreaStyle();o.each(m,function(e,t){this.group.add(s.mergePath(e,{style:o.defaults({stroke:"none",fill:g[t%g.length]},D),silent:!0}))},this),o.each(f,function(e,t){this.group.add(s.mergePath(e,{style:o.defaults({fill:"none",stroke:p[t%p.length]},I),silent:!0}))},this)}}});e.exports=c},894:function(e,t,n){n(802),n(872)},895:function(e,t,n){var i=n(365),a=n(73),o=n(169),r=o.getLayoutRect;i.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),i.extendComponentView({type:"title",render:function(e,t,n){if(this.group.removeAll(),e.get("show")){var i=this.group,o=e.getModel("textStyle"),s=e.getModel("subtextStyle"),l=e.get("textAlign"),c=e.get("textBaseline"),u=new a.Text({style:a.setTextStyle({},o,{text:e.get("text"),textFill:o.getTextColor()},{disableBox:!0}),z2:10}),h=u.getBoundingRect(),d=e.get("subtext"),p=new a.Text({style:a.setTextStyle({},s,{text:d,textFill:s.getTextColor(),y:h.height+e.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),g=e.get("link"),f=e.get("sublink");u.silent=!g,p.silent=!f,g&&u.on("click",function(){window.open(g,"_"+e.get("target"))}),f&&p.on("click",function(){window.open(f,"_"+e.get("subtarget"))}),i.add(u),d&&i.add(p);var m=i.getBoundingRect(),v=e.getBoxLayoutParams();v.width=m.width,v.height=m.height;var y=r(v,{width:n.getWidth(),height:n.getHeight()},e.get("padding"));l||(l=e.get("left")||e.get("right"),"middle"===l&&(l="center"),"right"===l?y.x+=y.width:"center"===l&&(y.x+=y.width/2)),c||(c=e.get("top")||e.get("bottom"),"center"===c&&(c="middle"),"bottom"===c?y.y+=y.height:"middle"===c&&(y.y+=y.height/2),c=c||"top"),i.attr("position",[y.x,y.y]);var _={textAlign:l,textVerticalAlign:c};u.setStyle(_),p.setStyle(_),m=i.getBoundingRect();var x=y.margin,b=e.getItemStyle(["color","opacity"]);b.fill=e.get("backgroundColor");var S=new a.Rect({shape:{x:m.x-x[3],y:m.y-x[0],width:m.width+x[1]+x[3],height:m.height+x[0]+x[2],r:e.get("borderRadius")},style:b,silent:!0});a.subPixelOptimizeRect(S),i.add(S)}}})},896:function(e,t,n){var i=n(365);n(808),n(898),n(899),i.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),i.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})},897:function(e,t,n){function i(e){var t="left "+e+"s cubic-bezier(0.23, 1, 0.32, 1),top "+e+"s cubic-bezier(0.23, 1, 0.32, 1)";return s.map(g,function(e){return e+"transition:"+t}).join(";")}function a(e){var t=[],n=e.get("fontSize"),i=e.getTextColor();return i&&t.push("color:"+i),t.push("font:"+e.getFont()),n&&t.push("line-height:"+Math.round(3*n/2)+"px"),d(["decoration","align"],function(n){var i=e.get(n);i&&t.push("text-"+n+":"+i)}),t.join(";")}function o(e){var t=[],n=e.get("transitionDuration"),o=e.get("backgroundColor"),r=e.getModel("textStyle"),s=e.get("padding");return n&&t.push(i(n)),o&&(u.canvasSupported?t.push("background-Color:"+o):(t.push("background-Color:#"+l.toHex(o)),t.push("filter:alpha(opacity=70)"))),d(["width","color","radius"],function(n){var i="border-"+n,a=p(i),o=e.get(a);null!=o&&t.push(i+":"+o+("color"===n?"":"px"))}),t.push(a(r)),null!=s&&t.push("padding:"+h.normalizeCssArray(s).join("px ")+"px"),t.join(";")+";"}function r(e,t){var n=document.createElement("div"),i=this._zr=t.getZr();this.el=n,this._x=t.getWidth()/2,this._y=t.getHeight()/2,e.appendChild(n),this._container=e,this._show=!1,this._hideTimeout;var a=this;n.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},n.onmousemove=function(t){if(t=t||window.event,!a._enterable){var n=i.handler;c.normalizeEvent(e,t,!0),n.dispatch("mousemove",t)}},n.onmouseleave=function(){a._enterable&&a._show&&a.hideLater(a._hideDelay),a._inContent=!1}}var s=n(2),l=n(86),c=n(116),u=n(37),h=n(63),d=s.each,p=h.toCamelCase,g=["","-webkit-","-moz-","-o-"];r.prototype={constructor:r,_enterable:!0,update:function(){var e=this._container,t=e.currentStyle||document.defaultView.getComputedStyle(e),n=e.style;"absolute"!==n.position&&"absolute"!==t.position&&(n.position="relative")},show:function(e){clearTimeout(this._hideTimeout);var t=this.el;t.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+o(e)+";left:"+this._x+"px;top:"+this._y+"px;"+(e.get("extraCssText")||""),t.style.display=t.innerHTML?"block":"none",this._show=!0},setContent:function(e){this.el.innerHTML=null==e?"":e},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,t){var n,i=this._zr;i&&i.painter&&(n=i.painter.getViewportRootOffset())&&(e+=n.offsetLeft,t+=n.offsetTop);var a=this.el.style;a.left=e+"px",a.top=t+"px",this._x=e,this._y=t},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(s.bind(this.hide,this),e)):this.hide())},isShow:function(){return this._show}};var f=r;e.exports=f},898:function(e,t,n){var i=n(365),a=i.extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});e.exports=a},899:function(e,t,n){function i(e){for(var t=e.pop();e.length;){var n=e.pop();n&&(n instanceof _&&(n=n.get("tooltip",!0)),"string"==typeof n&&(n={formatter:n}),t=new _(n,t,t.ecModel))}return t}function a(e,t){return e.dispatchAction||h.bind(t.dispatchAction,t)}function o(e,t,n,i,a,o,r){var l=s(n),c=l.width,u=l.height;return null!=o&&(e+c+o>i?e-=c+o:e+=o),null!=r&&(t+u+r>a?t-=u+r:t+=r),[e,t]}function r(e,t,n,i,a){var o=s(n),r=o.width,l=o.height;return e=Math.min(e+r,i)-r,t=Math.min(t+l,a)-l,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function s(e){var t=e.clientWidth,n=e.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var i=document.defaultView.getComputedStyle(e);i&&(t+=parseInt(i.paddingLeft,10)+parseInt(i.paddingRight,10)+parseInt(i.borderLeftWidth,10)+parseInt(i.borderRightWidth,10),n+=parseInt(i.paddingTop,10)+parseInt(i.paddingBottom,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10))}return{width:t,height:n}}function l(e,t,n){var i=n[0],a=n[1],o=0,r=0,s=t.width,l=t.height;switch(e){case"inside":o=t.x+s/2-i/2,r=t.y+l/2-a/2;break;case"top":o=t.x+s/2-i/2,r=t.y-a-5;break;case"bottom":o=t.x+s/2-i/2,r=t.y+l+5;break;case"left":o=t.x-i-5,r=t.y+l/2-a/2;break;case"right":o=t.x+s+5,r=t.y+l/2-a/2}return[o,r]}function c(e){return"center"===e||"middle"===e}var u=n(365),h=n(2),d=n(37),p=n(897),g=n(63),f=n(28),m=n(73),v=n(810),y=n(169),_=n(64),x=n(811),b=n(115),S=n(799),w=h.bind,M=h.each,A=f.parsePercent,T=new m.Rect({shape:{x:-1,y:-1,width:2,height:2}}),I=u.extendComponentView({type:"tooltip",init:function(e,t){if(!d.node){var n=new p(t.getDom(),t);this._tooltipContent=n}},render:function(e,t,n){if(!d.node){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=e.get("alwaysShowContent");var i=this._tooltipContent;i.update(),i.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var e=this._tooltipModel,t=e.get("triggerOn");x.register("itemTooltip",this._api,w(function(e,n,i){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(n,i):"leave"===e&&this._hide(i))},this))},_keepShow:function(){var e=this._tooltipModel,t=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){i.manuallyShowTip(e,t,n,{x:i._lastX,y:i._lastY})})}},manuallyShowTip:function(e,t,n,i){if(i.from!==this.uid&&!d.node){var o=a(i,n);this._ticket="";var r=i.dataByCoordSys;if(i.tooltip&&null!=i.x&&null!=i.y){var s=T;s.position=[i.x,i.y],s.update(),s.tooltip=i.tooltip,this._tryShow({offsetX:i.x,offsetY:i.y,target:s},o)}else if(r)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,event:{},dataByCoordSys:i.dataByCoordSys,tooltipOption:i.tooltipOption},o);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(e,t,n,i))return;var l=v(i,t),c=l.point[0],u=l.point[1];null!=c&&null!=u&&this._tryShow({offsetX:c,offsetY:u,position:i.position,target:l.el,event:{}},o)}else null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target,event:{}},o))}},manuallyHideTip:function(e,t,n,i){var o=this._tooltipContent;this._alwaysShowContent||o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,i.from!==this.uid&&this._hide(a(i,n))},_manuallyAxisShowTip:function(e,t,n,a){var o=a.seriesIndex,r=a.dataIndex,s=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=r&&null!=s){var l=t.getSeriesByIndex(o);if(l){var c=l.getData(),e=i([c.getItemModel(r),l,(l.coordinateSystem||{}).model,e]);if("axis"===e.get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:r,position:a.position}),!0}}},_tryShow:function(e,t){var n=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var i=e.dataByCoordSys;i&&i.length?this._showAxisTooltip(i,e):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(e,n,t)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(e,n,t)):(this._lastDataByCoordSys=null,this._hide(t))}},_showOrMove:function(e,t){var n=e.get("showDelay");t=h.bind(t,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(t,n):t()},_showAxisTooltip:function(e,t){var n=this._ecModel,a=this._tooltipModel,o=[t.offsetX,t.offsetY],r=[],s=[],l=i([t.tooltipOption,a]);M(e,function(e){M(e.dataByAxis,function(e){var t=n.getComponent(e.axisDim+"Axis",e.axisIndex),i=e.value,a=[];if(t&&null!=i){var o=S.getValueLabel(i,t.axis,n,e.seriesDataIndices,e.valueLabelOpt);h.each(e.seriesDataIndices,function(r){var l=n.getSeriesByIndex(r.seriesIndex),c=r.dataIndexInside,u=l&&l.getDataParams(c);u.axisDim=e.axisDim,u.axisIndex=e.axisIndex,u.axisType=e.axisType,u.axisId=e.axisId,u.axisValue=b.getAxisRawValue(t.axis,i),u.axisValueLabel=o,u&&(s.push(u),a.push(l.formatTooltip(c,!0)))});var l=o;r.push((l?g.encodeHTML(l)+"<br />":"")+a.join("<br />"))}})},this),r.reverse(),r=r.join("<br /><br />");var c=t.position;this._showOrMove(l,function(){this._updateContentNotChangedOnAxis(e)?this._updatePosition(l,c,o[0],o[1],this._tooltipContent,s):this._showTooltipContent(l,r,s,Math.random(),o[0],o[1],c)})},_showSeriesItemTooltip:function(e,t,n){var a=this._ecModel,o=t.seriesIndex,r=a.getSeriesByIndex(o),s=t.dataModel||r,l=t.dataIndex,c=t.dataType,u=s.getData(),h=i([u.getItemModel(l),s,r&&(r.coordinateSystem||{}).model,this._tooltipModel]),d=h.get("trigger");if(null==d||"item"===d){var p=s.getDataParams(l,c),g=s.formatTooltip(l,!1,c),f="item_"+s.name+"_"+l;this._showOrMove(h,function(){this._showTooltipContent(h,g,p,f,e.offsetX,e.offsetY,e.position,e.target)}),n({type:"showTip",dataIndexInside:l,dataIndex:u.getRawIndex(l),seriesIndex:o,from:this.uid})}},_showComponentItemTooltip:function(e,t,n){var i=t.tooltip;if("string"==typeof i){var a=i;i={content:a,formatter:a}}var o=new _(i,this._tooltipModel,this._ecModel),r=o.get("content"),s=Math.random();this._showOrMove(o,function(){this._showTooltipContent(o,r,o.get("formatterParams")||{},s,e.offsetX,e.offsetY,e.position,t)}),n({type:"showTip",from:this.uid})},_showTooltipContent:function(e,t,n,i,a,o,r,s){if(this._ticket="",e.get("showContent")&&e.get("show")){var l=this._tooltipContent,c=e.get("formatter");r=r||e.get("position");var u=t;if(c&&"string"==typeof c)u=g.formatTpl(c,n,!0);else if("function"==typeof c){var h=w(function(t,i){t===this._ticket&&(l.setContent(i),this._updatePosition(e,r,a,o,l,n,s))},this);this._ticket=i,u=c(n,i,h)}l.setContent(u),l.show(e),this._updatePosition(e,r,a,o,l,n,s)}},_updatePosition:function(e,t,n,i,a,s,u){var d=this._api.getWidth(),p=this._api.getHeight();t=t||e.get("position");var g=a.getSize(),f=e.get("align"),m=e.get("verticalAlign"),v=u&&u.getBoundingRect().clone();if(u&&v.applyTransform(u.transform),"function"==typeof t&&(t=t([n,i],s,a.el,v,{viewSize:[d,p],contentSize:g.slice()})),h.isArray(t))n=A(t[0],d),i=A(t[1],p);else if(h.isObject(t)){t.width=g[0],t.height=g[1];var _=y.getLayoutRect(t,{width:d,height:p});n=_.x,i=_.y,f=null,m=null}else if("string"==typeof t&&u){var x=l(t,v,g);n=x[0],i=x[1]}else{var x=o(n,i,a.el,d,p,f?null:20,m?null:20);n=x[0],i=x[1]}if(f&&(n-=c(f)?g[0]/2:"right"===f?g[0]:0),m&&(i-=c(m)?g[1]/2:"bottom"===m?g[1]:0),e.get("confine")){var x=r(n,i,a.el,d,p);n=x[0],i=x[1]}a.moveTo(n,i)},_updateContentNotChangedOnAxis:function(e){var t=this._lastDataByCoordSys,n=!!t&&t.length===e.length;return n&&M(t,function(t,i){var a=t.dataByAxis||{},o=e[i]||{},r=o.dataByAxis||[];(n&=a.length===r.length)&&M(a,function(e,t){var i=r[t]||{},a=e.seriesDataIndices||[],o=i.seriesDataIndices||[];(n&=e.value===i.value&&e.axisType===i.axisType&&e.axisId===i.axisId&&a.length===o.length)&&M(a,function(e,t){var i=o[t];n&=e.seriesIndex===i.seriesIndex&&e.dataIndex===i.dataIndex})})}),this._lastDataByCoordSys=e,!!n},_hide:function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},dispose:function(e,t){d.node||(this._tooltipContent.hide(),x.unregister("itemTooltip",t))}});e.exports=I},900:function(e,t,n){n(905),n(906)},901:function(e,t,n){function i(e,t,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,a=n[0],o=[],r=0;r<=200&&a<n[1];r++)o.push(a),a+=i;return o.push(n[1]),o}var a=n(2),o=n(813),r=n(28),s=[20,140],l=o.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(e,t){l.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){l.superApply(this,"resetItemSize",arguments);var e=this.itemSize;"horizontal"===this._orient&&e.reverse(),(null==e[0]||isNaN(e[0]))&&(e[0]=s[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=s[1])},_resetRange:function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):a.isArray(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},completeVisualOption:function(){o.prototype.completeVisualOption.apply(this,arguments),a.each(this.stateList,function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)},this)},setSelected:function(e){this.option.range=e.slice(),this._resetRange()},getSelected:function(){var e=this.getExtent(),t=r.asc((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},getValueState:function(e){var t=this.option.range,n=this.getExtent();return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(n){var i=[],a=n.getData();a.each(this.getDataDimension(a),function(t,n){e[0]<=t&&t<=e[1]&&i.push(n)},!0,this),t.push({seriesId:n.id,dataIndex:i})},this),t},getVisualMeta:function(e){function t(t,n){o.push({value:t,color:e(t,n)})}for(var n=i(this,"outOfRange",this.getExtent()),a=i(this,"inRange",this.option.range.slice()),o=[],r=0,s=0,l=a.length,c=n.length;s<c&&(!a.length||n[s]<=a[0]);s++)n[s]<a[r]&&t(n[s],"outOfRange");for(var u=1;r<l;r++,u=0)u&&o.length&&t(a[r],"outOfRange"),t(a[r],"inRange");for(var u=1;s<c;s++)(!a.length||a[a.length-1]<n[s])&&(u&&(o.length&&t(o[o.length-1].value,"outOfRange"),u=0),t(n[s],"outOfRange"));var h=o.length;return{stops:o,outerColors:[h?o[0].color:"transparent",h?o[h-1].color:"transparent"]}}}),c=l;e.exports=c},902:function(e,t,n){function i(e,t,n,i){return new p.Polygon({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(e){h.stop(e.event)},ondragend:i})}function a(e,t){return 0===e?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}function o(e,t,n,i){return e?[[0,-x(t,b(n,0))],[w,0],[0,x(t,b(i-n,0))]]:[[0,0],[5,-5],[5,5]]}function r(e,t,n){var i=S/2,a=e.get("hoverLinkDataSize");return a&&(i=y(a,t,n,!0)/2),i}function s(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function l(e){return"vertical"===e?"ns-resize":"ew-resize"}var c=n(2),u=n(386),h=n(116),d=n(814),p=n(73),g=n(28),f=n(885),m=n(815),v=n(29),y=g.linearMap,_=c.each,x=Math.min,b=Math.max,S=12,w=6,M=d.extend({type:"visualMap.continuous",init:function(){M.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(e,t,n,i){i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var n=e.get("text");this._renderEndsText(t,n,0),this._renderEndsText(t,n,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},_renderEndsText:function(e,t,n){if(t){var i=t[1-n];i=null!=i?i+"":"";var a=this.visualMapModel,o=a.get("textGap"),r=a.itemSize,s=this._shapes.barGroup,l=this._applyTransform([r[0]/2,0===n?-o:r[1]+o],s),c=this._applyTransform(0===n?"bottom":"top",s),u=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new p.Text({style:{x:l[0],y:l[1],textVerticalAlign:"horizontal"===u?"middle":c,textAlign:"horizontal"===u?c:"center",text:i,textFont:h.getFont(),textFill:h.getTextColor()}}))}},_renderBar:function(e){var t=this.visualMapModel,n=this._shapes,a=t.itemSize,o=this._orient,r=this._useHandle,s=m.getItemAlign(t,this.api,a),u=n.barGroup=this._createBarGroup(s);u.add(n.outOfRange=i()),u.add(n.inRange=i(null,r?l(this._orient):null,c.bind(this._dragHandle,this,"all",!1),c.bind(this._dragHandle,this,"all",!0)));var h=t.textStyleModel.getTextRect("国"),d=b(h.width,h.height);r&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(u,0,a,d,o,s),this._createHandle(u,1,a,d,o,s)),this._createIndicator(u,a,d,o),e.add(u)},_createHandle:function(e,t,n,o,r){var s=c.bind(this._dragHandle,this,t,!1),u=c.bind(this._dragHandle,this,t,!0),d=i(a(t,o),l(this._orient),s,u);d.position[0]=n[0],e.add(d);var g=this.visualMapModel.textStyleModel,f=new p.Text({draggable:!0,drift:s,onmousemove:function(e){h.stop(e.event)},ondragend:u,style:{x:0,y:0,text:"",textFont:g.getFont(),textFill:g.getTextColor()}});this.group.add(f);var m=["horizontal"===r?o/2:1.5*o,"horizontal"===r?0===t?-1.5*o:1.5*o:0===t?-o/2:o/2],v=this._shapes;v.handleThumbs[t]=d,v.handleLabelPoints[t]=m,v.handleLabels[t]=f},_createIndicator:function(e,t,n,a){var o=i([[0,0]],"move");o.position[0]=t[0],o.attr({invisible:!0,silent:!0}),e.add(o);var r=this.visualMapModel.textStyleModel,s=new p.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:r.getFont(),textFill:r.getTextColor()}});this.group.add(s);var l=["horizontal"===a?n/2:w+3,0],c=this._shapes;c.indicator=o,c.indicatorLabel=s,c.indicatorLabelPoint=l},_dragHandle:function(e,t,n,i){if(this._useHandle){if(this._dragging=!t,!t){var a=this._applyTransform([n,i],this._shapes.barGroup,!0);this._updateInterval(e,a[1]),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():s(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},_resetInterval:function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),i=[0,e.itemSize[1]];this._handleEnds=[y(t[0],n,i,!0),y(t[1],n,i,!0)]},_updateInterval:function(e,t){t=t||0;var n=this.visualMapModel,i=this._handleEnds,a=[0,n.itemSize[1]];f(t,i,a,e,0);var o=n.getExtent();this._dataInterval=[y(i[0],a,o,!0),y(i[1],a,o,!0)]},_updateView:function(e){var t=this.visualMapModel,n=t.getExtent(),i=this._shapes,a=[0,t.itemSize[1]],o=e?a:this._handleEnds,r=this._createBarVisual(this._dataInterval,n,o,"inRange"),s=this._createBarVisual(n,n,a,"outOfRange");i.inRange.setStyle({fill:r.barColor,opacity:r.opacity}).setShape("points",r.barPoints),i.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(o,r)},_createBarVisual:function(e,t,n,i){var a={forceState:i,convertOpacityToAlpha:!0},o=this._makeColorGradient(e,a),r=[this.getControllerVisual(e[0],"symbolSize",a),this.getControllerVisual(e[1],"symbolSize",a)],s=this._createBarPoints(n,r);return{barColor:new u(0,0,0,1,o),barPoints:s,handlesColor:[o[0].color,o[o.length-1].color]}},_makeColorGradient:function(e,t){var n=[],i=(e[1]-e[0])/100;n.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var a=1;a<100;a++){var o=e[0]+i*a;if(o>e[1])break;n.push({color:this.getControllerVisual(o,"color",t),offset:a/100})}return n.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),n},_createBarPoints:function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},_createBarGroup:function(e){var t=this._orient,n=this.visualMapModel.get("inverse");return new p.Group("horizontal"!==t||n?"horizontal"===t&&n?{scale:"bottom"===e?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==t||n?{scale:"left"===e?[1,1]:[-1,1]}:{scale:"left"===e?[1,-1]:[-1,-1]}:{scale:"bottom"===e?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(e,t){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,a=n.handleThumbs,o=n.handleLabels;_([0,1],function(r){var s=a[r];s.setStyle("fill",t.handlesColor[r]),s.position[1]=e[r];var l=p.applyTransform(n.handleLabelPoints[r],p.getTransform(s,this.group));o[r].setStyle({x:l[0],y:l[1],text:i.formatValueText(this._dataInterval[r]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===r?"bottom":"top":"left",n.barGroup)})},this)}},_showIndicator:function(e,t,n,i){var a=this.visualMapModel,r=a.getExtent(),s=a.itemSize,l=[0,s[1]],c=y(e,r,l,!0),u=this._shapes,h=u.indicator;if(h){h.position[1]=c,h.attr("invisible",!1),h.setShape("points",o(!!n,i,c,s[1]));var d={convertOpacityToAlpha:!0},g=this.getControllerVisual(e,"color",d);h.setStyle("fill",g);var f=p.applyTransform(u.indicatorLabelPoint,p.getTransform(h,this.group)),m=u.indicatorLabel;m.attr("invisible",!1);var v=this._applyTransform("left",u.barGroup),_=this._orient;m.setStyle({text:(n||"")+a.formatValueText(t),textVerticalAlign:"horizontal"===_?v:"middle",textAlign:"horizontal"===_?"center":v,x:f[0],y:f[1]})}},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",function(t){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,i=e._applyTransform([t.offsetX,t.offsetY],e._shapes.barGroup,!0,!0);i[1]=x(b(0,i[1]),n[1]),e._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,t){var n=this.visualMapModel,i=n.itemSize;if(n.option.hoverLink){var a=[0,i[1]],o=n.getExtent();e=x(b(a[0],e),a[1]);var l=r(n,o,a),c=[e-l,e+l],u=y(e,a,o,!0),h=[y(c[0],a,o,!0),y(c[1],a,o,!0)];c[0]<a[0]&&(h[0]=-1/0),c[1]>a[1]&&(h[1]=1/0),t&&(h[0]===-1/0?this._showIndicator(u,h[1],"< ",l):h[1]===1/0?this._showIndicator(u,h[0],"> ",l):this._showIndicator(u,u,"≈ ",l));var d=this._hoverLinkDataIndices,p=[];(t||s(n))&&(p=this._hoverLinkDataIndices=n.findTargetDataIndices(h));var g=v.compressBatches(d,p);this._dispatchHighDown("downplay",m.convertDataIndex(g[0])),this._dispatchHighDown("highlight",m.convertDataIndex(g[1]))}},_hoverLinkFromSeriesMouseOver:function(e){var t=e.target,n=this.visualMapModel;if(t&&null!=t.dataIndex){var i=this.ecModel.getSeriesByIndex(t.seriesIndex);if(n.isTargetSeries(i)){var a=i.getData(t.dataType),o=a.getDimension(n.getDataDimension(a)),r=a.get(o,t.dataIndex,!0);isNaN(r)||this._showIndicator(r,r)}}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",m.convertDataIndex(e)),e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},_applyTransform:function(e,t,n,i){var a=p.getTransform(t,i?null:this.group);return p[c.isArray(e)?"applyTransform":"transformDirection"](e,a,n)},_dispatchHighDown:function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}}),A=M;e.exports=A},903:function(e,t,n){function i(e,t){var n=e.inverse;("vertical"===e.orient?!n:n)&&t.reverse()}var a=n(44),o=(a.__DEV__,n(2)),r=n(813),s=n(792),l=n(827),c=n(28),u=c.reformIntervals,h=r.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(e,t){h.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var n=this._mode=this._determineMode();d[this._mode].call(this),this._resetSelected(e,t);var i=this.option.categories;this.resetVisual(function(e,t){"categories"===n?(e.mappingMethod="category",e.categories=o.clone(i)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=o.map(this._pieceList,function(e){var e=o.clone(e);return"inRange"!==t&&(e.visual=null),e}))})},completeVisualOption:function(){function e(e,t,n){return e&&e[t]&&(o.isObject(e[t])?e[t].hasOwnProperty(n):e[t]===n)}var t=this.option,n={},i=s.listVisualTypes(),a=this.isCategory();o.each(t.pieces,function(e){o.each(i,function(t){e.hasOwnProperty(t)&&(n[t]=1)})}),o.each(n,function(n,i){var r=0;o.each(this.stateList,function(n){r|=e(t,n,i)||e(t.target,n,i)},this),!r&&o.each(this.stateList,function(e){(t[e]||(t[e]={}))[i]=l.get(i,"inRange"===e?"active":"inactive",a)})},this),r.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(e,t){var n=this.option,i=this._pieceList,a=(t?n:e).selected||{};if(n.selected=a,o.each(i,function(e,t){var n=this.getSelectedMapKey(e);a.hasOwnProperty(n)||(a[n]=!0)},this),"single"===n.selectedMode){var r=!1;o.each(i,function(e,t){var n=this.getSelectedMapKey(e);a[n]&&(r?a[n]=!1:r=!0)},this)}},getSelectedMapKey:function(e){return"categories"===this._mode?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=o.clone(e)},getValueState:function(e){var t=s.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(n){var i=[],a=n.getData();a.each(this.getDataDimension(a),function(t,n){s.findPieceIndex(t,this._pieceList)===e&&i.push(n)},!0,this),t.push({seriesId:n.id,dataIndex:i})},this),t},getRepresentValue:function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var n=e.interval||[];t=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return t},getVisualMeta:function(e){function t(t,o){var r=a.getRepresentValue({interval:t});o||(o=a.getValueState(r));var s=e(r,o);t[0]===-1/0?i[0]=s:t[1]===1/0?i[1]=s:n.push({value:t[0],color:s},{value:t[1],color:s})}if(!this.isCategory()){var n=[],i=[],a=this,r=this._pieceList.slice();if(r.length){var s=r[0].interval[0];s!==-1/0&&r.unshift({interval:[-1/0,s]}),s=r[r.length-1].interval[1],s!==1/0&&r.push({interval:[s,1/0]})}else r.push({interval:[-1/0,1/0]});var l=-1/0;return o.each(r,function(e){var n=e.interval;n&&(n[0]>l&&t([l,n[0]],"outOfRange"),t(n.slice()),l=n[1])},this),{stops:n,outerColors:i}}}}),d={splitNumber:function(){var e=this.option,t=this._pieceList,n=Math.min(e.precision,20),i=this.getExtent(),a=e.splitNumber;a=Math.max(parseInt(a,10),1),e.splitNumber=a;for(var r=(i[1]-i[0])/a;+r.toFixed(n)!==r&&n<5;)n++;e.precision=n,r=+r.toFixed(n);var s=0;e.minOpen&&t.push({index:s++,interval:[-1/0,i[0]],close:[0,0]});for(var l=i[0],c=s+a;s<c;l+=r){var h=s===a-1?i[1]:l+r;t.push({index:s++,interval:[l,h],close:[1,1]})}e.maxOpen&&t.push({index:s++,interval:[i[1],1/0],close:[0,0]}),u(t),o.each(t,function(e){e.text=this.formatValueText(e.interval)},this)},categories:function(){var e=this.option;o.each(e.categories,function(e){this._pieceList.push({text:this.formatValueText(e,!0),value:e})},this),i(e,this._pieceList)},pieces:function(){var e=this.option,t=this._pieceList;o.each(e.pieces,function(e,n){o.isObject(e)||(e={value:e});var i={text:"",index:n};if(null!=e.label&&(i.text=e.label),e.hasOwnProperty("value")){var a=i.value=e.value;i.interval=[a,a],i.close=[1,1]}else{for(var r=i.interval=[],l=i.close=[0,0],c=[1,0,1],u=[-1/0,1/0],h=[],d=0;d<2;d++){for(var p=[["gte","gt","min"],["lte","lt","max"]][d],g=0;g<3&&null==r[d];g++)r[d]=e[p[g]],l[d]=c[g],h[d]=2===g;null==r[d]&&(r[d]=u[d])}h[0]&&r[1]===1/0&&(l[0]=0),h[1]&&r[0]===-1/0&&(l[1]=0),r[0]===r[1]&&l[0]&&l[1]&&(i.value=r[0])}i.visual=s.retrieveVisuals(e),t.push(i)},this),i(e,t),u(t),o.each(t,function(e){var t=e.close,n=[["<","≤"][t[1]],[">","≥"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,n)},this)}},p=h;e.exports=p},904:function(e,t,n){var i=n(2),a=n(814),o=n(73),r=n(372),s=r.createSymbol,l=n(169),c=n(815),u=a.extend({type:"visualMap.piecewise",doRender:function(){function e(e){var r=e.piece,l=new o.Group;l.onclick=i.bind(this._onItemClick,this,r),this._enableHoverLink(l,e.indexInModelPieceList);var d=n.getRepresentValue(r);if(this._createItemSymbol(l,d,[0,0,h[0],h[1]]),g){var p=this.visualMapModel.getValueState(d);l.add(new o.Text({style:{x:"right"===u?-a:h[0]+a,y:h[1]/2,text:r.text,textVerticalAlign:"middle",textAlign:u,textFont:s,textFill:c,opacity:"outOfRange"===p?.5:1}}))}t.add(l)}var t=this.group;t.removeAll();var n=this.visualMapModel,a=n.get("textGap"),r=n.textStyleModel,s=r.getFont(),c=r.getTextColor(),u=this._getItemAlign(),h=n.itemSize,d=this._getViewData(),p=d.endsText,g=i.retrieve(n.get("showLabel",!0),!p);p&&this._renderEndsText(t,p[0],h,g,u),i.each(d.viewPieceList,e,this),p&&this._renderEndsText(t,p[1],h,g,u),l.box(n.get("orient"),t,n.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},_enableHoverLink:function(e,t){function n(e){var n=this.visualMapModel;n.option.hoverLink&&this.api.dispatchAction({type:e,batch:c.convertDataIndex(n.findTargetDataIndices(t))})}e.on("mouseover",i.bind(n,this,"highlight")).on("mouseout",i.bind(n,this,"downplay"))},_getItemAlign:function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return c.getItemAlign(e,this.api,e.itemSize);var n=t.align;return n&&"auto"!==n||(n="left"),n},_renderEndsText:function(e,t,n,i,a){if(t){var r=new o.Group,s=this.visualMapModel.textStyleModel;r.add(new o.Text({style:{x:i?"right"===a?n[0]:0:n[0]/2,y:n[1]/2,textVerticalAlign:"middle",textAlign:i?a:"center",text:t,textFont:s.getFont(),textFill:s.getTextColor()}})),e.add(r)}},_getViewData:function(){var e=this.visualMapModel,t=i.map(e.getPieceList(),function(e,t){return{piece:e,indexInModelPieceList:t}}),n=e.get("text"),a=e.get("orient"),o=e.get("inverse");return("horizontal"===a?o:!o)?t.reverse():n&&(n=n.slice().reverse()),{viewPieceList:t,endsText:n}},_createItemSymbol:function(e,t,n){e.add(s(this.getControllerVisual(t,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(t,"color")))},_onItemClick:function(e){var t=this.visualMapModel,n=t.option,a=i.clone(n.selected),o=t.getSelectedMapKey(e);"single"===n.selectedMode?(a[o]=!0,i.each(a,function(e,t){a[t]=t===o})):a[o]=!a[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:a})}}),h=u;e.exports=h},905:function(e,t,n){var i=n(365),a=n(816);n(817),n(818),n(901),n(902),n(819),i.registerPreprocessor(a)},906:function(e,t,n){var i=n(365),a=n(816);n(817),n(818),n(903),n(904),n(819),i.registerPreprocessor(a)},907:function(e,t,n){function i(){u.call(this)}function a(e){this.name=e,this.zoomLimit,u.call(this),this._roamTransform=new i,this._viewTransform=new i,this._center,this._zoom}function o(e,t,n,i){var a=n.seriesModel,o=a?a.coordinateSystem:null;return o===this?o[e](i):null}var r=n(2),s=n(15),l=n(85),c=n(30),u=n(177),h=s.applyTransform;r.mixin(i,u),a.prototype={constructor:a,type:"view",dimensions:["x","y"],setBoundingRect:function(e,t,n,i){return this._rect=new c(e,t,n,i),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(e,t,n,i){this.transformTo(e,t,n,i),this._viewRect=new c(e,t,n,i)},transformTo:function(e,t,n,i){var a=this.getBoundingRect(),o=this._viewTransform;o.transform=a.calculateTransform(new c(e,t,n,i)),o.decomposeTransform(),this._updateTransform()},setCenter:function(e){e&&(this._center=e,this._updateCenterAndZoom())},setZoom:function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},getDefaultCenter:function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var e=this._viewTransform.getLocalTransform(),t=this._roamTransform,n=this.getDefaultCenter(),i=this.getCenter(),a=this.getZoom();i=s.applyTransform([],i,e),n=s.applyTransform([],n,e),t.origin=i,t.position=[n[0]-i[0],n[1]-i[1]],t.scale=[a,a],this._updateTransform()},_updateTransform:function(){var e=this._roamTransform,t=this._viewTransform;t.parent=e,e.updateTransform(),t.updateTransform(),t.transform&&l.copy(this.transform||(this.transform=[]),t.transform),this.transform?(this.invTransform=this.invTransform||[],l.invert(this.invTransform,this.transform)):this.invTransform=null,this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},dataToPoint:function(e){var t=this.transform;return t?h([],e,t):[e[0],e[1]]},pointToData:function(e){var t=this.invTransform;return t?h([],e,t):[e[0],e[1]]},convertToPixel:r.curry(o,"dataToPoint"),convertFromPixel:r.curry(o,"pointToData"),containPoint:function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])}},r.mixin(a,u);var d=a;e.exports=d},908:function(e,t,n){function i(e){var t=e.getRect(),n=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:a.bind(e.dataToPoint,e)}}}var a=n(2);e.exports=i},909:function(e,t,n){var i=n(2),a=n(377),o=function(e,t,n,i,o){a.call(this,e,t,n),this.type=i||"value",this.position=o||"bottom"};o.prototype={constructor:o,index:0,onZero:!1,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},getGlobalExtent:function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(e){if("category"===this.type){var t=this.getLabelInterval();return"function"==typeof t&&!t(e,this.scale.getLabel(e))||e%(t+1)}},pointToData:function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},toLocalCoord:null,toGlobalCoord:null},i.inherits(o,a);var r=o;e.exports=r},910:function(e,t,n){function i(e){return this._axes[e]}var a=n(2),o=function(e){this._axes={},this._dimList=[],this.name=e||""};o.prototype={constructor:o,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return a.map(this._dimList,i,this)},getAxesByScale:function(e){return e=e.toLowerCase(),a.filter(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(e,t){for(var n=this._dimList,i=e instanceof Array?[]:{},a=0;a<n.length;a++){var o=n[a],r=this._axes[o];i[o]=r[t](e[o])}return i}};var r=o;e.exports=r},911:function(e,t,n){function i(e){o.call(this,e)}var a=n(2),o=n(910);i.prototype={constructor:i,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoint:function(e,t){var n=this.getAxis("x"),i=this.getAxis("y");return[n.toGlobalCoord(n.dataToCoord(e[0],t)),i.toGlobalCoord(i.dataToCoord(e[1],t))]},pointToData:function(e,t){var n=this.getAxis("x"),i=this.getAxis("y");return[n.coordToData(n.toLocalCoord(e[0]),t),i.coordToData(i.toLocalCoord(e[1]),t)]},getOtherAxis:function(e){return this.getAxis("x"===e.dim?"y":"x")}},a.inherits(i,o);var r=i;e.exports=r},912:function(e,t,n){n(822);var i=n(84),a=i.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});e.exports=a},913:function(e,t,n){function i(e,t){return t=t||[0,0],o.map(["x","y"],function(n,i){var a=this.getAxis(n),o=t[i],r=e[i]/2;return"category"===a.type?a.getBandWidth():Math.abs(a.dataToCoord(o-r)-a.dataToCoord(o+r))},this)}function a(e){var t=e.grid.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:o.bind(e.dataToPoint,e),size:o.bind(i,e)}}}var o=n(2);e.exports=a},914:function(e,t,n){function i(e,t,n,i,a){l.call(this,e),this.map=t,this._nameCoordMap=o.createHashMap(),this.loadGeoJson(n,i,a)}function a(e,t,n,i){var a=n.geoModel,o=n.seriesModel,r=a?a.coordinateSystem:o?o.coordinateSystem||(o.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return r===this?r[e](i):null}var o=n(2),r=n(30),s=n(383),l=n(907),c=n(918),u=n(919),h=n(917),d=n(916),p=[c,u,h,d];i.prototype={constructor:i,type:"geo",dimensions:["lng","lat"],containCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return!0;return!1},loadGeoJson:function(e,t,n){try{this.regions=e?s(e):[]}catch(e){throw"Invalid geoJson format\n"+e.message}t=t||{},n=n||{};for(var i=this.regions,a=o.createHashMap(),r=0;r<i.length;r++){var l=i[r].name;l=n.hasOwnProperty(l)?n[l]:l,i[r].name=l,a.set(l,i[r]),this.addGeoCoord(l,i[r].center);var c=t[l];c&&i[r].transformTo(c.left,c.top,c.width,c.height)}this._regionsMap=a,this._rect=null,o.each(p,function(e){e(this)},this)},transformTo:function(e,t,n,i){var a=this.getBoundingRect();a=a.clone(),a.y=-a.y-a.height;var o=this._viewTransform;o.transform=a.calculateTransform(new r(e,t,n,i)),o.decomposeTransform();var s=o.scale;s[1]=-s[1],o.updateTransform(),this._updateTransform()},getRegion:function(e){return this._regionsMap.get(e)},getRegionByCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return t[n]},addGeoCoord:function(e,t){this._nameCoordMap.set(e,t)},getGeoCoord:function(e){return this._nameCoordMap.get(e)},getBoundingRect:function(){if(this._rect)return this._rect;for(var e,t=this.regions,n=0;n<t.length;n++){var i=t[n].getBoundingRect();e=e||i.clone(),e.union(i)}return this._rect=e||new r(0,0,0,0)},dataToPoint:function(e){if("string"==typeof e&&(e=this.getGeoCoord(e)),e)return l.prototype.dataToPoint.call(this,e)},convertToPixel:o.curry(a,"dataToPoint"),convertFromPixel:o.curry(a,"pointToData")},o.mixin(i,l);var g=i;e.exports=g},915:function(e,t,n){var i=n(2),a=n(29),o=n(84),r=n(64),s=n(801),l=n(794),c=o.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(e){o.prototype.init.apply(this,arguments),a.defaultEmphasis(e.label,["show"])},optionUpdated:function(){var e=this.option,t=this;e.regions=l.getFilledRegions(e.regions,e.map,e.nameMap),this._optionModelMap=i.reduce(e.regions||[],function(e,n){return n.name&&e.set(n.name,new r(n,t)),e},i.createHashMap()),this.updateSelectedMap(e.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,color:"#000"},emphasis:{show:!0,color:"rgb(100,0,0)"}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(e){return this._optionModelMap.get(e)||new r(null,this,this.ecModel)},getFormattedLabel:function(e,t){var n=this.getRegionModel(e),i=n.get("label."+t+".formatter"),a={name:e};return"function"==typeof i?(a.status=t,i(a)):"string"==typeof i?i.replace("{a}",null!=e?e:""):void 0},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e}});i.mixin(c,s);var u=c;e.exports=u},916:function(e,t){function n(e){if("china"===e.map)for(var t=0,n=e.regions.length;t<n;++t)"台湾"===e.regions[t].name&&e.regions[t].geometries.push({type:"polygon",exterior:i[0]})}var i=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];e.exports=n},917:function(e,t,n){function i(e){a.each(e.regions,function(e){var t=o[e.name];if(t){var n=e.center;n[0]=t[0],n[1]=t[1]}})}var a=n(2),o={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};e.exports=i},918:function(e,t,n){function i(e){"china"===e.map&&e.regions.push(new o("南海诸岛",a.map(s,function(e){return{type:"polygon",exterior:e}}),r))}for(var a=n(2),o=n(382),r=[126,25],s=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],l=0;l<s.length;l++)for(var c=0;c<s[l].length;c++)s[l][c][0]/=10.5,s[l][c][1]/=-14,s[l][c][0]+=r[0],s[l][c][1]+=r[1];e.exports=i},919:function(e,t,n){function i(e){a.each(e.regions,function(e){var t=o[e.name];if(t){var n=e.center;n[0]+=t[0]/10.5,n[1]+=-t[1]/14}})}var a=n(2),o={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};e.exports=i},920:function(e,t,n){function i(e,t){return t=t||[0,0],o.map([0,1],function(n){var i=t[n],a=e[n]/2,o=[],r=[];return o[n]=i-a,r[n]=i+a,o[1-n]=r[1-n]=t[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(r)[n])},this)}function a(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:o.bind(e.dataToPoint,e),size:o.bind(i,e)}}}var o=n(2);e.exports=a},921:function(e,t,n){function i(e,t){t=t||[0,360],o.call(this,"angle",e,t),this.type="category"}var a=n(2),o=n(377);i.prototype={constructor:i,pointToData:function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},dataToAngle:o.prototype.dataToCoord,angleToData:o.prototype.coordToData},a.inherits(i,o);var r=i;e.exports=r},922:function(e,t,n){function i(e,t){return t.type||(t.data?"category":"value")}var a=n(2),o=n(84),r=n(821),s=n(378),l=o.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});a.merge(l.prototype,s);var c={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};r("angle",l,i,c.angle),r("radius",l,i,c.radius)},923:function(e,t,n){var i=n(925),a=n(921),o=function(e){this.name=e||"",this.cx=0,this.cy=0,this._radiusAxis=new i,this._angleAxis=new a,this._radiusAxis.polar=this._angleAxis.polar=this};o.prototype={type:"polar",axisPointerEnabled:!0,constructor:o,dimensions:["radius","angle"],model:null,containPoint:function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},containData:function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},getAxis:function(e){return this["_"+e+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(e){var t=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===e&&t.push(n),i.scale.type===e&&t.push(i),t},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},dataToPoint:function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},pointToData:function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},pointToCoord:function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),o=Math.min(a[0],a[1]),r=Math.max(a[0],a[1]);i.inverse?o=r-360:r=o+360;var s=Math.sqrt(t*t+n*n);t/=s,n/=s;for(var l=Math.atan2(-n,t)/Math.PI*180,c=l<o?1:-1;l<o||l>r;)l+=360*c;return[s,l]},coordToPoint:function(e){var t=e[0],n=e[1]/180*Math.PI;return[Math.cos(n)*t+this.cx,-Math.sin(n)*t+this.cy]}};var r=o;e.exports=r},924:function(e,t,n){var i=n(365);n(922);var a=i.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(e){var t;return this.ecModel.eachComponent(e,function(e){e.getCoordSysModel()===this&&(t=e)},this),t},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});e.exports=a},925:function(e,t,n){function i(e,t){o.call(this,"radius",e,t),this.type="category"}var a=n(2),o=n(377);i.prototype={constructor:i,pointToData:function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},dataToRadius:o.prototype.dataToCoord,radiusToData:o.prototype.coordToData},a.inherits(i,o);var r=i;e.exports=r},926:function(e,t,n){function i(e,t){return o.map(["Radius","Angle"],function(n,i){var a=this["get"+n+"Axis"](),o=t[i],r=e[i]/2,s="dataTo"+n,l="category"===a.type?a.getBandWidth():Math.abs(a[s](o-r)-a[s](o+r));return"Angle"===n&&(l=l*Math.PI/180),l},this)}function a(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),a=t.getExtent();return a[0]>a[1]&&a.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:a[1],r0:a[0]},api:{coord:o.bind(function(i){var a=t.dataToRadius(i[0]),o=n.dataToAngle(i[1]),r=e.coordToPoint([a,o]);return r.push(a,o*Math.PI/180),r}),size:o.bind(i,e)}}}var o=n(2);e.exports=a},927:function(e,t,n){function i(e,t,n){o.call(this,e,t,n),this.type="value",this.angle=0,this.name="",this.model}var a=n(2),o=n(377);a.inherits(i,o);var r=i;e.exports=r},928:function(e,t,n){function i(e,t,n){this._model=e,this.dimensions=[],this._indicatorAxes=a.map(e.getIndicatorModels(),function(e,t){var n="indicator_"+t,i=new o(n,new r);return i.name=e.get("name"),i.model=e,e.axis=i,this.dimensions.push(n),i},this),this.resize(e,n),this.cx,this.cy,this.r,this.startAngle}var a=n(2),o=n(927),r=n(118),s=n(28),l=n(115),c=l.getScaleExtent,u=l.niceScaleExtent,h=n(172);i.prototype.getIndicatorAxes=function(){return this._indicatorAxes},i.prototype.dataToPoint=function(e,t){var n=this._indicatorAxes[t];return this.coordToPoint(n.dataToCoord(e),t)},i.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t],i=n.angle;return[this.cx+e*Math.cos(i),this.cy-e*Math.sin(i)]},i.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=Math.sqrt(t*t+n*n);t/=i,n/=i;for(var a,o=Math.atan2(-n,t),r=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var c=this._indicatorAxes[l],u=Math.abs(o-c.angle);u<r&&(a=c,s=l,r=u)}return[s,+(a&&a.coodToData(i))]},i.prototype.resize=function(e,t){var n=e.get("center"),i=t.getWidth(),o=t.getHeight(),r=Math.min(i,o)/2;this.cx=s.parsePercent(n[0],i),this.cy=s.parsePercent(n[1],o),this.startAngle=e.get("startAngle")*Math.PI/180,this.r=s.parsePercent(e.get("radius"),r),a.each(this._indicatorAxes,function(e,t){e.setExtent(0,this.r);var n=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),e.angle=n},this)},i.prototype.update=function(e,t){function n(e){var t=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),n=e/t;return 2===n?n=5:n*=2,n*t}var i=this._indicatorAxes,o=this._model;a.each(i,function(e){e.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(t,n){if("radar"===t.get("coordinateSystem")&&e.getComponent("radar",t.get("radarIndex"))===o){var r=t.getData();a.each(i,function(e){e.scale.unionExtentFromData(r,e.dim)})}},this);var r=o.get("splitNumber");a.each(i,function(e,t){var i=c(e.scale,e.model);u(e.scale,e.model);var a=e.model,o=e.scale,l=a.getMin(),h=a.getMax(),d=o.getInterval();if(null!=l&&null!=h)o.setExtent(+l,+h),o.setInterval((h-l)/r);else if(null!=l){var p;do{p=l+d*r,o.setExtent(+l,p),o.setInterval(d),d=n(d)}while(p<i[1]&&isFinite(p)&&isFinite(i[1]))}else if(null!=h){var g;do{g=h-d*r,o.setExtent(g,+h),o.setInterval(d),d=n(d)}while(g>i[0]&&isFinite(g)&&isFinite(i[0]))}else{var f=o.getTicks().length-1;f>r&&(d=n(d));var m=Math.round((i[0]+i[1])/2/d)*d,v=Math.round(r/2);o.setExtent(s.round(m-v*d),s.round(m+(r-v)*d)),o.setInterval(d)}})},i.dimensions=[],i.create=function(e,t){var n=[];return e.eachComponent("radar",function(a){var o=new i(a,e,t);n.push(o),a.coordinateSystem=o}),e.eachSeriesByType("radar",function(e){"radar"===e.get("coordinateSystem")&&(e.coordinateSystem=n[e.get("radarIndex")||0])}),n},h.register("radar",i);var d=i;e.exports=d},929:function(e,t,n){function i(e,t){return o.defaults({show:t},e)}var a=n(365),o=n(2),r=n(820),s=n(64),l=n(378),c=r.valueAxis,u=a.extendComponentModel({type:"radar",optionUpdated:function(){var e=this.get("boundaryGap"),t=this.get("splitNumber"),n=this.get("scale"),i=this.get("axisLine"),a=this.get("axisTick"),r=this.get("axisLabel"),c=this.get("name"),u=this.get("name.show"),h=this.get("name.formatter"),d=this.get("nameGap"),p=this.get("triggerEvent"),g=o.map(this.get("indicator")||[],function(g){null!=g.max&&g.max>0&&!g.min?g.min=0:null!=g.min&&g.min<0&&!g.max&&(g.max=0);var f=c;if(null!=g.color&&(f=o.defaults({color:g.color},c)),g=o.merge(o.clone(g),{boundaryGap:e,splitNumber:t,scale:n,axisLine:i,axisTick:a,axisLabel:r,name:g.text,nameLocation:"end",nameGap:d,nameTextStyle:f,triggerEvent:p},!1),u||(g.name=""),"string"==typeof h){var m=g.name;g.name=h.replace("{value}",null!=m?m:"")}else"function"==typeof h&&(g.name=h(g.name,g));var v=o.extend(new s(g,null,this.ecModel),l);return v.mainType="radar",v.componentIndex=this.componentIndex,v},this);this.getIndicatorModels=function(){return g}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:o.merge({lineStyle:{color:"#bbb"}},c.axisLine),axisLabel:i(c.axisLabel,!1),axisTick:i(c.axisTick,!1),splitLine:i(c.splitLine,!0),splitArea:i(c.splitArea,!0),indicator:[]}}),h=u;e.exports=h},930:function(e,t,n){function i(e,t){var n=this.getAxis(),i=t instanceof Array?t[0]:t,a=(e instanceof Array?e[0]:e)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(i-a)-n.dataToCoord(i+a))}function a(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:o.bind(e.dataToPoint,e),size:o.bind(i,e)}}}var o=n(2);e.exports=a},931:function(e,t,n){function i(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function a(e){return e.dim}function o(e,t,n){var o=n.getWidth(),l=n.getHeight(),u={},h={},d=r(s.filter(t.getSeriesByType(e),function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&"polar"===e.coordinateSystem.type}));t.eachSeriesByType(e,function(e){if("polar"===e.coordinateSystem.type){var t=e.getData(),n=e.coordinateSystem,r=n.getAngleAxis(),s=n.getBaseAxis(),p=i(e),g=d[a(s)][p],f=g.offset,m=g.width,v=n.getOtherAxis(s),y=e.get("center")||["50%","50%"],_=c(y[0],o),x=c(y[1],l),b=e.get("barMinHeight")||0,S=e.get("barMinAngle")||0,w=v.getExtent()[0],M=v.model.get("max"),A=v.model.get("min"),T=[e.coordDimToDataDim("radius")[0],e.coordDimToDataDim("angle")[0]],I=t.mapArray(T,function(e,t){return n.dataToPoint([e,t])},!0);u[p]=u[p]||[],h[p]=h[p]||[],t.each(e.coordDimToDataDim(v.dim)[0],function(e,i){if(!isNaN(e)){u[p][i]||(u[p][i]={p:w,n:w},h[p][i]={p:w,n:w});var a,o,s,l,c=e>=0?"p":"n",d=n.pointToCoord(I[i]),g=h[p][i][c];if("radius"===v.dim)a=g,o=d[0],s=(-d[1]+f)*Math.PI/180,l=s+m*Math.PI/180,Math.abs(o)<b&&(o=a+(o<0?-1:1)*b),h[p][i][c]=o;else{a=d[0]+f,o=a+m,null!=M&&(e=Math.min(e,M)),null!=A&&(e=Math.max(e,A));var y=r.dataToAngle(e);Math.abs(y-g)<S&&(y=g-(e<0?-1:1)*S),s=-g*Math.PI/180,l=-y*Math.PI/180;var T=r.getExtent(),D=y;D===T[0]&&e>0?D=T[1]:D===T[1]&&e<0&&(D=T[0]),h[p][i][c]=D}t.setItemLayout(i,{cx:_,cy:x,r0:a,r:o,startAngle:s,endAngle:l})}},!0)}},this)}function r(e,t){var n={};s.each(e,function(e,t){var o=e.getData(),r=e.coordinateSystem,s=r.getBaseAxis(),l=s.getExtent(),u="category"===s.type?s.getBandWidth():Math.abs(l[1]-l[0])/o.count(),h=n[a(s)]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},d=h.stacks;n[a(s)]=h;var p=i(e);d[p]||h.autoWidthCount++,d[p]=d[p]||{width:0,maxWidth:0};var g=c(e.get("barWidth"),u),f=c(e.get("barMaxWidth"),u),m=e.get("barGap"),v=e.get("barCategoryGap");g&&!d[p].width&&(g=Math.min(h.remainedWidth,g),d[p].width=g,h.remainedWidth-=g),f&&(d[p].maxWidth=f),null!=m&&(h.gap=m),null!=v&&(h.categoryGap=v)});var o={};return s.each(n,function(e,t){o[t]={};var n=e.stacks,i=e.bandWidth,a=c(e.categoryGap,i),r=c(e.gap,1),l=e.remainedWidth,u=e.autoWidthCount,h=(l-a)/(u+(u-1)*r);h=Math.max(h,0),s.each(n,function(e,t){var n=e.maxWidth;n&&n<h&&(n=Math.min(n,l),e.width&&(n=Math.min(n,e.width)),l-=n,e.width=n,u--)}),h=(l-a)/(u+(u-1)*r),h=Math.max(h,0);var d,p=0;s.each(n,function(e,t){e.width||(e.width=h),d=e,p+=e.width*(1+r)}),d&&(p-=d.width*r);var g=-p/2;s.each(n,function(e,n){o[t][n]=o[t][n]||{offset:g,width:e.width},g+=e.width*(1+r)})}),o}var s=n(2),l=n(28),c=l.parsePercent,u=o;e.exports=u},932:function(e,t){function n(e,t,n){t.eachSeriesByType(e,function(e){var t=e.getData(),n=e.get("sampling"),o=e.coordinateSystem;if("cartesian2d"===o.type&&n){var r=o.getBaseAxis(),s=o.getOtherAxis(r),l=r.getExtent(),c=l[1]-l[0],u=Math.round(t.count()/c);if(u>1){var h;"string"==typeof n?h=i[n]:"function"==typeof n&&(h=n),h&&(t=t.downSample(s.dim,1/u,h,a),e.setData(t))}}},this)}var i={average:function(e){for(var t=0,n=0,i=0;i<e.length;i++)isNaN(e[i])||(t+=e[i],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return t},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return t},nearest:function(e){return e[0]}},a=function(e,t){return Math.round(e.length/2)};e.exports=n},933:function(e,t,n){e.exports={default:n(934),__esModule:!0}},934:function(e,t,n){n(369),n(368),e.exports=n(944)},944:function(e,t,n){var i=n(80),a=n(777);e.exports=n(62).getIterator=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return i(t.call(e))}},945:function(e,t,n){t=e.exports=n(83)(void 0),t.push([e.i,".popoverDiv{color:#20a0ff;font-size:15px;line-height:22px;font-weight:550}",""])},965:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__=__webpack_require__(772),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__=__webpack_require__(771),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__),__WEBPACK_IMPORTED_MODULE_2__chart_SegmentChart__=__webpack_require__(1035),__WEBPACK_IMPORTED_MODULE_2__chart_SegmentChart___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__chart_SegmentChart__),__WEBPACK_IMPORTED_MODULE_3_moment_interval__=__webpack_require__(385),__WEBPACK_IMPORTED_MODULE_3_moment_interval___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_moment_interval__);__webpack_exports__.default={data:function(){return{segments:[],showTableData:[],dialogMessage:"",dialogTitle:"",dialogSize:"full",dialogInputAutosize:{},dialogVisible:!1,pageSize:7,currentPage:1,dataSourceMessage:{dataSourceName:"",dataSourceSize:"",dataSourceSpan:"",segmentCount:0,intervalCount:0},intervalMessage:{intervalName:"",intervalSize:"",segmentCount:0},preLocation:"",showCancle:!1,showIntervalName:!1,formInline:{name:""},showEnable:!0,isDescending:!0,showSwitch:!0,dimensions:[],metrics:[],servers:[]}},created:function created(){this.dataSourceMessage.dataSourceName=this.$route.query.dataSourceName,this.preLocation=this.$route.query.preLocation,void 0!==this.$route.query.showEnable&&(this.showEnable=eval(this.$route.query.showEnable),this.showSwitch=this.showEnable),this.init()},components:{"segment-chart":__WEBPACK_IMPORTED_MODULE_2__chart_SegmentChart___default.a},methods:{init:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("dataSource"===e.preLocation?e.showIntervalName=!1:"interval"===e.preLocation&&(e.showIntervalName=!0),t.t0=e.showEnable,!t.t0){t.next=6;break}return t.next=5,e.dataSourceExist();case 5:t.t0=!t.sent;case 6:if(!t.t0){t.next=10;break}e.showTableData=[],t.next=14;break;case 10:return e.showEnable&&(e.getDataSourceMessage(e.dataSourceMessage.dataSourceName),"interval"===e.preLocation&&e.getIntervalMessage(e.intervalMessage.intervalName)),"interval"===e.preLocation&&(e.intervalMessage.intervalName=e.$route.query.intervalName),t.next=14,e.getSegmentsForshow(e.preLocation,e.isDescending,e.$common.methods.trim(e.formInline.name));case 14:case"end":return t.stop()}},t,e)}))()},dataSourceExist:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function t(){var n,i,a,o;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=""+e.$common.apis.dataSource,t.next=3,e.$http.get(n);case 3:i=t.sent,a=i.data,o=0;case 6:if(!(o<a.length)){t.next=12;break}if(a[o]!==e.dataSourceMessage.dataSourceName){t.next=9;break}return t.abrupt("return",!0);case 9:o++,t.next=6;break;case 12:return t.abrupt("return",!1);case 13:case"end":return t.stop()}},t,e)}))()},getIntervalMessage:function(e){var t=this;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function n(){var i,a;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.$common.apis.dataSourceDirect+"/"+t.dataSourceMessage.dataSourceName+"/intervals?simple",n.next=3,t.$http.get(i,{params:{searchInterval:e,isDescending:!1}});case 3:a=n.sent,t.intervalMessage.segmentCount=a.data[t.intervalMessage.intervalName].count,t.intervalMessage.intervalSize=t.$common.methods.conver(a.data[t.intervalMessage.intervalName].size);case 6:case"end":return n.stop()}},n,t)}))()},getSegmentsForshow:function(e,t,n){"dataSource"===e?this.getSegmentsByDataSource(t,n):this.getSegmentsByInterval(t,n)},getDataSourceMessage:function(e){var t=this;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function e(){var n,i,a,o,r;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$common.apis.dataSourceDirect+"/"+t.dataSourceMessage.dataSourceName+"/intervals?simple",e.next=3,t.$http.get(n);case 3:i=e.sent,a=new Array,o=0,t.dataSourceMessage.segmentCount=0,t.dataSourceMessage.intervalCount=0;for(r in i.data)o+=i.data[r].size,t.dataSourceMessage.segmentCount+=i.data[r].count,t.dataSourceMessage.intervalCount+=1,a.push(new Date(r.split("/")[0]).getTime()),a.push(new Date(r.split("/")[1]).getTime());t.dataSourceMessage.dataSourceSize=t.$common.methods.conver(o),t.dataSourceMessage.dataSourceSpan=t.getDataSourceSpan(a);case 11:case"end":return e.stop()}},e,t)}))()},getDataSourceSpan:function(e){var t=e.sort(),n=t[t.length-1],i=t[0],a=this.$common.methods.formatDuring(n-i);return __WEBPACK_IMPORTED_MODULE_3_moment_interval___default()(i).format("YYYY-MM-DD")+" / "+__WEBPACK_IMPORTED_MODULE_3_moment_interval___default()(n).format("YYYY-MM-DD")+" ( "+a+" )"},getSegmentsByDataSource:function(e,t){var n=this;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function i(){var a,o,r,s;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=void 0,a=n.showEnable?n.$common.apis.dataSourceDirect+"/"+n.dataSourceMessage.dataSourceName+"/segments?full":n.$common.apis.dataSource+"/"+n.dataSourceMessage.dataSourceName+"/disableSegments",o=[],i.prev=3,i.next=6,n.$http.get(a,{params:{isDescending:e,searchSegment:n.$common.methods.trim(t)}});case 6:r=i.sent,o=r.data,i.next=12;break;case 10:i.prev=10,i.t0=i.catch(3);case 12:if(n.showEnable){for(s=0;s<o.length;s++)o[s].segmentSize=n.$common.methods.conver(o[s].size);n.$common.eventBus.$emit("segment-message",o,n.preLocation)}n.segments=[],n.$common.methods.pushData(o,n.segments),n.showTableData=n.$common.methods.fillShowTableData(n.segments,n.currentPage,n.pageSize);case 16:case"end":return i.stop()}},i,n,[[3,10]])}))()},handleSort:function(e){this.isDescending="descending"===e.order,this.getSegmentsForshow(this.preLocation,this.isDescending,this.$common.methods.trim(this.formInline.name))},switchChange:function(){this.init()},getSegmentsByInterval:function(e,t){var n=this;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function i(){var a,o,r,s,l;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=void 0,a=n.showEnable?n.$common.apis.dataSourceDirect+"/"+n.dataSourceMessage.dataSourceName+"/segments?full":n.$common.apis.dataSource+"/"+n.dataSourceMessage.dataSourceName+"/disableSegments",o=new Array,o.push(n.intervalMessage.intervalName),i.next=6,n.$http.post(a,o,{params:{isDescending:e,searchSegment:n.$common.methods.trim(t)}});case 6:for(r=i.sent,s=0;s<r.data.length;s++)n.showEnable?(r.data[s].segmentSize=n.$common.methods.conver(r.data[s].size),n.$common.eventBus.$emit("segment-message",r.data,n.preLocation)):(l={},l.identifier=r.data[s],r.data[s]=l);n.segments=[],n.$common.methods.pushData(r.data,n.segments),n.showTableData=n.$common.methods.fillShowTableData(n.segments,n.currentPage,n.pageSize);case 11:case"end":return i.stop()}},i,n)}))()},refresh:function(){this.formInline.name="",this.init()},onSearch:function(){this.getSegmentsForshow(this.preLocation,this.isDescending,this.$common.methods.trim(this.formInline.name))},getSegmentInfo:function(e){var t=this;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function n(){var i,a,o;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.$common.apis.dataSource+"/"+t.dataSourceMessage.dataSourceName+"/segments/"+e+"?full",n.next=3,t.$http.get(i);case 3:a=n.sent,t.segmentInfo=a.data,o=t.$common.methods.JSONUtils.toString(t.segmentInfo),t.showCancle=!1,t.configDialog(t.$t("message.segment.segmentInfo"),o,!0,"small",{minRows:15,maxRows:40});case 8:case"end":return n.stop()}},n,t)}))()},getServers:function(e){var t=this;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function n(){var i,a;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.$common.apis.dataSourceDirect+"/"+t.dataSourceMessage.dataSourceName+"/segments/"+e+"?full",n.next=3,t.$http.get(i);case 3:a=n.sent,t.servers=a.data.servers;case 5:case"end":return n.stop()}},n,t)}))()},getDimensions:function(e){var t=this;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function n(){var i,a;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.$common.apis.dataSource+"/"+t.dataSourceMessage.dataSourceName+"/segments/"+e+"?full",n.next=3,t.$http.get(i);case 3:a=n.sent,t.dimensions=t.stringToArray(a.data.dimensions);case 5:case"end":return n.stop()}},n,t)}))()},getMetrics:function(e){var t=this;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function n(){var i,a;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.$common.apis.dataSource+"/"+t.dataSourceMessage.dataSourceName+"/segments/"+e+"?full",n.next=3,t.$http.get(i);case 3:a=n.sent,t.metrics=t.stringToArray(a.data.metrics);case 5:case"end":return n.stop()}},n,t)}))()},stringToArray:function(e){var t=new Array;return 0===e.length?t[0]=this.$t("message.common.none"):t=e.split(","),t},enableSegment:function(e){var t=this;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function n(){var i,a,o,r;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:i=t.$t("message.common.enableWarning")+"\n"+e,a=t.$common.apis.dataSource+"/"+t.dataSourceMessage.dataSourceName+"/segments/"+e+"/enable",o=t.$t("message.common.enableSuccess"),r=t.$t("message.common.enableFail"),t.confirmAndGetResult(a,i,o,r,"post");case 5:case"end":return n.stop()}},n,t)}))()},disableSegment:function(e){var t=this;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function n(){var i,a,o,r;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:i=t.$t("message.common.disableWarning")+"\n"+e,a=t.$common.apis.dataSource+"/"+t.dataSourceMessage.dataSourceName+"/segments/"+e+"/disable",o=t.$t("message.common.disableSuccess"),r=t.$t("message.common.disableFail"),t.confirmAndGetResult(a,i,o,r,"delete");case 5:case"end":return n.stop()}},n,t)}))()},deleteSegment:function(e){var t=this;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function n(){var i,a,o,r;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:i=t.$t("message.common.deleteWarning")+"\n"+e,a=t.$common.apis.dataSource+"/"+t.dataSourceMessage.dataSourceName+"/segments/"+e+"/delete",o=t.$t("message.common.deleteSuccess"),r=t.$t("message.common.deleteFail"),t.confirmAndGetResult(a,i,o,r,"delete");case 5:case"end":return n.stop()}},n,t)}))()},confirmAndGetResult:function(e,t,n,i,a){var o=this;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function r(){var s,l;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.$confirm(t,o.$t("message.common.warning"),{confirmButtonText:o.$t("message.common.confirm"),cancelButtonText:o.$t("message.common.cancel"),closeOnClickModal:!1,type:"warning"});case 2:if(s=r.sent,r.prev=3,l=void 0,"delete"!==a){r.next=11;break}return r.next=8,o.$http.delete(e);case 8:l=r.sent,r.next=14;break;case 11:return r.next=13,o.$http.post(e);case 13:l=r.sent;case 14:window.setTimeout(o.init,500),o.$message({type:"success",message:n}),r.next=21;break;case 18:r.prev=18,r.t0=r.catch(3),o.$message({type:"warning",message:i});case 21:case"end":return r.stop()}},r,o,[[3,18]])}))()},configDialog:function(e,t,n,i,a){this.dialogTitle=e,this.dialogMessage=t,this.dialogVisible=n,this.dialogSize=i,this.dialogInputAutosize=a},handleCurrentChange:function(e){this.currentPage=e,this.showTableData=this.$common.methods.fillShowTableData(this.segments,this.currentPage,this.pageSize)},handleSizeChange:function(e){this.pageSize=e,this.showTableData=this.$common.methods.fillShowTableData(this.segments,this.currentPage,this.pageSize)}},watch:{formInline:{handler:"onSearch",deep:!0}}}},967:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(933),a=n.n(i),o=n(831),r=(n.n(o),n(843)),s=(n.n(r),n(855)),l=(n.n(s),n(848)),c=(n.n(l),n(860)),u=(n.n(c),n(865)),h=(n.n(u),n(838)),d=(n.n(h),n(896)),p=(n.n(d),n(891)),g=(n.n(p),n(878)),f=(n.n(g),n(886)),m=(n.n(f),n(895)),v=(n.n(m),n(900)),y=(n.n(v),n(837));n.n(y);t.default={created:function(){},methods:{},data:function(){return{echartsOption:{color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:[],axisTick:{alignWithLabel:!0},axisLabel:{show:!1}}],yAxis:{axisLabel:{formatter:function(e,t){var n=void 0;n=e<1e3?e.toFixed(2)+" B":e<1e6?(e/1024).toFixed(2)+" KB":e<1e9?(e/1e6).toFixed(2)+" MB":e<1e12?(e/1e9).toFixed(2)+" GB":(e/1e12).toFixed(2)+" TB";var i=n+"",a=i.indexOf(".");return"00"==i.substr(a+1,2)?i.substring(0,a)+i.substr(a+3,2):i}}},series:[{name:"size",type:"bar",barWidth:"60%",data:[],encode:{itemName:0}}]}}},mounted:function(){var e=this;this.$common.eventBus.$on("segment-message",function(t,n){console.log(n);var i=new Array,o=new Array;if("interval"===n){var r=!0,s=!1,l=void 0;try{for(var c,u=a()(t);!(r=(c=u.next()).done);r=!0){var h=c.value,d=h.identifier;i.push(h.size);var p=d.split("_").pop();p.indexOf("Z")>-1&&(p="0"),o.push("segment "+p)}}catch(e){s=!0,l=e}finally{try{!r&&u.return&&u.return()}finally{if(s)throw l}}e.echartsOption.xAxis[0].axisLabel.show=!0}else{var g=!0,f=!1,m=void 0;try{for(var v,y=a()(t);!(g=(v=y.next()).done);g=!0){var _=v.value;i.push(_.size),o.push(_.identifier)}}catch(e){f=!0,m=e}finally{try{!g&&y.return&&y.return()}finally{if(f)throw m}}e.echartsOption.xAxis[0].axisLabel.show=!1}e.echartsOption.series[0].data=i,e.echartsOption.xAxis[0].data=o})}}}});